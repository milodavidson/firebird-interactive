/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["app/page"],{

/***/ "(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fmilodavidson%2FDocuments%2FGitHub%2Ffirebird-interactive-attempt2%2Fsrc%2Fcomponents%2FInteractiveListeningMap.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&server=false!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fmilodavidson%2FDocuments%2FGitHub%2Ffirebird-interactive-attempt2%2Fsrc%2Fcomponents%2FInteractiveListeningMap.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&server=false! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/components/InteractiveListeningMap.tsx */ \"(app-pages-browser)/./src/components/InteractiveListeningMap.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtZmxpZ2h0LWNsaWVudC1lbnRyeS1sb2FkZXIuanM/bW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZtaWxvZGF2aWRzb24lMkZEb2N1bWVudHMlMkZHaXRIdWIlMkZmaXJlYmlyZC1pbnRlcmFjdGl2ZS1hdHRlbXB0MiUyRnNyYyUyRmNvbXBvbmVudHMlMkZJbnRlcmFjdGl2ZUxpc3RlbmluZ01hcC50c3glMjIlMkMlMjJpZHMlMjIlM0ElNUIlMjJkZWZhdWx0JTIyJTVEJTdEJnNlcnZlcj1mYWxzZSEiLCJtYXBwaW5ncyI6IkFBQUEsa05BQStLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8/OGQ1ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiwgd2VicGFja0V4cG9ydHM6IFtcImRlZmF1bHRcIl0gKi8gXCIvVXNlcnMvbWlsb2Rhdmlkc29uL0RvY3VtZW50cy9HaXRIdWIvZmlyZWJpcmQtaW50ZXJhY3RpdmUtYXR0ZW1wdDIvc3JjL2NvbXBvbmVudHMvSW50ZXJhY3RpdmVMaXN0ZW5pbmdNYXAudHN4XCIpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fmilodavidson%2FDocuments%2FGitHub%2Ffirebird-interactive-attempt2%2Fsrc%2Fcomponents%2FInteractiveListeningMap.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&server=false!\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.development.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.development.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("/**\n * @license React\n * use-sync-external-store-shim.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\nif (true) {\n  (function() {\n\n          'use strict';\n\n/* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\nif (\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== 'undefined' &&\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart ===\n    'function'\n) {\n  __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error());\n}\n          var React = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n\nvar ReactSharedInternals = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\nfunction error(format) {\n  {\n    {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      printWarning('error', format, args);\n    }\n  }\n}\n\nfunction printWarning(level, format, args) {\n  // When changing this logic, you might want to also\n  // update consoleWithStackDev.www.js as well.\n  {\n    var ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n    var stack = ReactDebugCurrentFrame.getStackAddendum();\n\n    if (stack !== '') {\n      format += '%s';\n      args = args.concat([stack]);\n    } // eslint-disable-next-line react-internal/safe-string-coercion\n\n\n    var argsWithFormat = args.map(function (item) {\n      return String(item);\n    }); // Careful: RN currently depends on this prefix\n\n    argsWithFormat.unshift('Warning: ' + format); // We intentionally don't use spread (or .apply) directly because it\n    // breaks IE9: https://github.com/facebook/react/issues/13610\n    // eslint-disable-next-line react-internal/no-production-logging\n\n    Function.prototype.apply.call(console[level], console, argsWithFormat);\n  }\n}\n\n/**\n * inlined Object.is polyfill to avoid requiring consumers ship their own\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n */\nfunction is(x, y) {\n  return x === y && (x !== 0 || 1 / x === 1 / y) || x !== x && y !== y // eslint-disable-line no-self-compare\n  ;\n}\n\nvar objectIs = typeof Object.is === 'function' ? Object.is : is;\n\n// dispatch for CommonJS interop named imports.\n\nvar useState = React.useState,\n    useEffect = React.useEffect,\n    useLayoutEffect = React.useLayoutEffect,\n    useDebugValue = React.useDebugValue;\nvar didWarnOld18Alpha = false;\nvar didWarnUncachedGetSnapshot = false; // Disclaimer: This shim breaks many of the rules of React, and only works\n// because of a very particular set of implementation details and assumptions\n// -- change any one of them and it will break. The most important assumption\n// is that updates are always synchronous, because concurrent rendering is\n// only available in versions of React that also have a built-in\n// useSyncExternalStore API. And we only use this shim when the built-in API\n// does not exist.\n//\n// Do not assume that the clever hacks used by this hook also work in general.\n// The point of this shim is to replace the need for hacks by other libraries.\n\nfunction useSyncExternalStore(subscribe, getSnapshot, // Note: The shim does not use getServerSnapshot, because pre-18 versions of\n// React do not expose a way to check if we're hydrating. So users of the shim\n// will need to track that themselves and return the correct value\n// from `getSnapshot`.\ngetServerSnapshot) {\n  {\n    if (!didWarnOld18Alpha) {\n      if (React.startTransition !== undefined) {\n        didWarnOld18Alpha = true;\n\n        error('You are using an outdated, pre-release alpha of React 18 that ' + 'does not support useSyncExternalStore. The ' + 'use-sync-external-store shim will not work correctly. Upgrade ' + 'to a newer pre-release.');\n      }\n    }\n  } // Read the current snapshot from the store on every render. Again, this\n  // breaks the rules of React, and only works here because of specific\n  // implementation details, most importantly that updates are\n  // always synchronous.\n\n\n  var value = getSnapshot();\n\n  {\n    if (!didWarnUncachedGetSnapshot) {\n      var cachedValue = getSnapshot();\n\n      if (!objectIs(value, cachedValue)) {\n        error('The result of getSnapshot should be cached to avoid an infinite loop');\n\n        didWarnUncachedGetSnapshot = true;\n      }\n    }\n  } // Because updates are synchronous, we don't queue them. Instead we force a\n  // re-render whenever the subscribed state changes by updating an some\n  // arbitrary useState hook. Then, during render, we call getSnapshot to read\n  // the current value.\n  //\n  // Because we don't actually use the state returned by the useState hook, we\n  // can save a bit of memory by storing other stuff in that slot.\n  //\n  // To implement the early bailout, we need to track some things on a mutable\n  // object. Usually, we would put that in a useRef hook, but we can stash it in\n  // our useState hook instead.\n  //\n  // To force a re-render, we call forceUpdate({inst}). That works because the\n  // new object always fails an equality check.\n\n\n  var _useState = useState({\n    inst: {\n      value: value,\n      getSnapshot: getSnapshot\n    }\n  }),\n      inst = _useState[0].inst,\n      forceUpdate = _useState[1]; // Track the latest getSnapshot function with a ref. This needs to be updated\n  // in the layout phase so we can access it during the tearing check that\n  // happens on subscribe.\n\n\n  useLayoutEffect(function () {\n    inst.value = value;\n    inst.getSnapshot = getSnapshot; // Whenever getSnapshot or subscribe changes, we need to check in the\n    // commit phase if there was an interleaved mutation. In concurrent mode\n    // this can happen all the time, but even in synchronous mode, an earlier\n    // effect may have mutated the store.\n\n    if (checkIfSnapshotChanged(inst)) {\n      // Force a re-render.\n      forceUpdate({\n        inst: inst\n      });\n    }\n  }, [subscribe, value, getSnapshot]);\n  useEffect(function () {\n    // Check for changes right before subscribing. Subsequent changes will be\n    // detected in the subscription handler.\n    if (checkIfSnapshotChanged(inst)) {\n      // Force a re-render.\n      forceUpdate({\n        inst: inst\n      });\n    }\n\n    var handleStoreChange = function () {\n      // TODO: Because there is no cross-renderer API for batching updates, it's\n      // up to the consumer of this library to wrap their subscription event\n      // with unstable_batchedUpdates. Should we try to detect when this isn't\n      // the case and print a warning in development?\n      // The store changed. Check if the snapshot changed since the last time we\n      // read from the store.\n      if (checkIfSnapshotChanged(inst)) {\n        // Force a re-render.\n        forceUpdate({\n          inst: inst\n        });\n      }\n    }; // Subscribe to the store and return a clean-up function.\n\n\n    return subscribe(handleStoreChange);\n  }, [subscribe]);\n  useDebugValue(value);\n  return value;\n}\n\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  var prevValue = inst.value;\n\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(prevValue, nextValue);\n  } catch (error) {\n    return true;\n  }\n}\n\nfunction useSyncExternalStore$1(subscribe, getSnapshot, getServerSnapshot) {\n  // Note: The shim does not use getServerSnapshot, because pre-18 versions of\n  // React do not expose a way to check if we're hydrating. So users of the shim\n  // will need to track that themselves and return the correct value\n  // from `getSnapshot`.\n  return getSnapshot();\n}\n\nvar canUseDOM = !!(typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.document.createElement !== 'undefined');\n\nvar isServerEnvironment = !canUseDOM;\n\nvar shim = isServerEnvironment ? useSyncExternalStore$1 : useSyncExternalStore;\nvar useSyncExternalStore$2 = React.useSyncExternalStore !== undefined ? React.useSyncExternalStore : shim;\n\nexports.useSyncExternalStore = useSyncExternalStore$2;\n          /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\nif (\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== 'undefined' &&\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop ===\n    'function'\n) {\n  __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error());\n}\n        \n  })();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy91c2Utc3luYy1leHRlcm5hbC1zdG9yZS9janMvdXNlLXN5bmMtZXh0ZXJuYWwtc3RvcmUtc2hpbS5kZXZlbG9wbWVudC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7O0FBRWIsSUFBSSxJQUFxQztBQUN6Qzs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLG1CQUFPLENBQUMsbUZBQU87O0FBRXJDOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlHQUFpRyxlQUFlO0FBQ2hIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07OztBQUdOO0FBQ0E7QUFDQSxLQUFLLEdBQUc7O0FBRVIsa0RBQWtEO0FBQ2xEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELEtBQUs7QUFDckQ7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTs7O0FBR0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLE9BQU87OztBQUdQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3VzZS1zeW5jLWV4dGVybmFsLXN0b3JlL2Nqcy91c2Utc3luYy1leHRlcm5hbC1zdG9yZS1zaGltLmRldmVsb3BtZW50LmpzPzQ2ZTQiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZSBSZWFjdFxuICogdXNlLXN5bmMtZXh0ZXJuYWwtc3RvcmUtc2hpbS5kZXZlbG9wbWVudC5qc1xuICpcbiAqIENvcHlyaWdodCAoYykgRmFjZWJvb2ssIEluYy4gYW5kIGl0cyBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAndXNlIHN0cmljdCc7XG5cbi8qIGdsb2JhbCBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18gKi9cbmlmIChcbiAgdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RhcnQgPT09XG4gICAgJ2Z1bmN0aW9uJ1xuKSB7XG4gIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RhcnQobmV3IEVycm9yKCkpO1xufVxuICAgICAgICAgIHZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBSZWFjdFNoYXJlZEludGVybmFscyA9IFJlYWN0Ll9fU0VDUkVUX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVEO1xuXG5mdW5jdGlvbiBlcnJvcihmb3JtYXQpIHtcbiAge1xuICAgIHtcbiAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiA+IDEgPyBfbGVuMiAtIDEgOiAwKSwgX2tleTIgPSAxOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgIGFyZ3NbX2tleTIgLSAxXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICB9XG5cbiAgICAgIHByaW50V2FybmluZygnZXJyb3InLCBmb3JtYXQsIGFyZ3MpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBwcmludFdhcm5pbmcobGV2ZWwsIGZvcm1hdCwgYXJncykge1xuICAvLyBXaGVuIGNoYW5naW5nIHRoaXMgbG9naWMsIHlvdSBtaWdodCB3YW50IHRvIGFsc29cbiAgLy8gdXBkYXRlIGNvbnNvbGVXaXRoU3RhY2tEZXYud3d3LmpzIGFzIHdlbGwuXG4gIHtcbiAgICB2YXIgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZSA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlJlYWN0RGVidWdDdXJyZW50RnJhbWU7XG4gICAgdmFyIHN0YWNrID0gUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZS5nZXRTdGFja0FkZGVuZHVtKCk7XG5cbiAgICBpZiAoc3RhY2sgIT09ICcnKSB7XG4gICAgICBmb3JtYXQgKz0gJyVzJztcbiAgICAgIGFyZ3MgPSBhcmdzLmNvbmNhdChbc3RhY2tdKTtcbiAgICB9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1pbnRlcm5hbC9zYWZlLXN0cmluZy1jb2VyY2lvblxuXG5cbiAgICB2YXIgYXJnc1dpdGhGb3JtYXQgPSBhcmdzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgcmV0dXJuIFN0cmluZyhpdGVtKTtcbiAgICB9KTsgLy8gQ2FyZWZ1bDogUk4gY3VycmVudGx5IGRlcGVuZHMgb24gdGhpcyBwcmVmaXhcblxuICAgIGFyZ3NXaXRoRm9ybWF0LnVuc2hpZnQoJ1dhcm5pbmc6ICcgKyBmb3JtYXQpOyAvLyBXZSBpbnRlbnRpb25hbGx5IGRvbid0IHVzZSBzcHJlYWQgKG9yIC5hcHBseSkgZGlyZWN0bHkgYmVjYXVzZSBpdFxuICAgIC8vIGJyZWFrcyBJRTk6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTM2MTBcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaW50ZXJuYWwvbm8tcHJvZHVjdGlvbi1sb2dnaW5nXG5cbiAgICBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbChjb25zb2xlW2xldmVsXSwgY29uc29sZSwgYXJnc1dpdGhGb3JtYXQpO1xuICB9XG59XG5cbi8qKlxuICogaW5saW5lZCBPYmplY3QuaXMgcG9seWZpbGwgdG8gYXZvaWQgcmVxdWlyaW5nIGNvbnN1bWVycyBzaGlwIHRoZWlyIG93blxuICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2lzXG4gKi9cbmZ1bmN0aW9uIGlzKHgsIHkpIHtcbiAgcmV0dXJuIHggPT09IHkgJiYgKHggIT09IDAgfHwgMSAvIHggPT09IDEgLyB5KSB8fCB4ICE9PSB4ICYmIHkgIT09IHkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zZWxmLWNvbXBhcmVcbiAgO1xufVxuXG52YXIgb2JqZWN0SXMgPSB0eXBlb2YgT2JqZWN0LmlzID09PSAnZnVuY3Rpb24nID8gT2JqZWN0LmlzIDogaXM7XG5cbi8vIGRpc3BhdGNoIGZvciBDb21tb25KUyBpbnRlcm9wIG5hbWVkIGltcG9ydHMuXG5cbnZhciB1c2VTdGF0ZSA9IFJlYWN0LnVzZVN0YXRlLFxuICAgIHVzZUVmZmVjdCA9IFJlYWN0LnVzZUVmZmVjdCxcbiAgICB1c2VMYXlvdXRFZmZlY3QgPSBSZWFjdC51c2VMYXlvdXRFZmZlY3QsXG4gICAgdXNlRGVidWdWYWx1ZSA9IFJlYWN0LnVzZURlYnVnVmFsdWU7XG52YXIgZGlkV2Fybk9sZDE4QWxwaGEgPSBmYWxzZTtcbnZhciBkaWRXYXJuVW5jYWNoZWRHZXRTbmFwc2hvdCA9IGZhbHNlOyAvLyBEaXNjbGFpbWVyOiBUaGlzIHNoaW0gYnJlYWtzIG1hbnkgb2YgdGhlIHJ1bGVzIG9mIFJlYWN0LCBhbmQgb25seSB3b3Jrc1xuLy8gYmVjYXVzZSBvZiBhIHZlcnkgcGFydGljdWxhciBzZXQgb2YgaW1wbGVtZW50YXRpb24gZGV0YWlscyBhbmQgYXNzdW1wdGlvbnNcbi8vIC0tIGNoYW5nZSBhbnkgb25lIG9mIHRoZW0gYW5kIGl0IHdpbGwgYnJlYWsuIFRoZSBtb3N0IGltcG9ydGFudCBhc3N1bXB0aW9uXG4vLyBpcyB0aGF0IHVwZGF0ZXMgYXJlIGFsd2F5cyBzeW5jaHJvbm91cywgYmVjYXVzZSBjb25jdXJyZW50IHJlbmRlcmluZyBpc1xuLy8gb25seSBhdmFpbGFibGUgaW4gdmVyc2lvbnMgb2YgUmVhY3QgdGhhdCBhbHNvIGhhdmUgYSBidWlsdC1pblxuLy8gdXNlU3luY0V4dGVybmFsU3RvcmUgQVBJLiBBbmQgd2Ugb25seSB1c2UgdGhpcyBzaGltIHdoZW4gdGhlIGJ1aWx0LWluIEFQSVxuLy8gZG9lcyBub3QgZXhpc3QuXG4vL1xuLy8gRG8gbm90IGFzc3VtZSB0aGF0IHRoZSBjbGV2ZXIgaGFja3MgdXNlZCBieSB0aGlzIGhvb2sgYWxzbyB3b3JrIGluIGdlbmVyYWwuXG4vLyBUaGUgcG9pbnQgb2YgdGhpcyBzaGltIGlzIHRvIHJlcGxhY2UgdGhlIG5lZWQgZm9yIGhhY2tzIGJ5IG90aGVyIGxpYnJhcmllcy5cblxuZnVuY3Rpb24gdXNlU3luY0V4dGVybmFsU3RvcmUoc3Vic2NyaWJlLCBnZXRTbmFwc2hvdCwgLy8gTm90ZTogVGhlIHNoaW0gZG9lcyBub3QgdXNlIGdldFNlcnZlclNuYXBzaG90LCBiZWNhdXNlIHByZS0xOCB2ZXJzaW9ucyBvZlxuLy8gUmVhY3QgZG8gbm90IGV4cG9zZSBhIHdheSB0byBjaGVjayBpZiB3ZSdyZSBoeWRyYXRpbmcuIFNvIHVzZXJzIG9mIHRoZSBzaGltXG4vLyB3aWxsIG5lZWQgdG8gdHJhY2sgdGhhdCB0aGVtc2VsdmVzIGFuZCByZXR1cm4gdGhlIGNvcnJlY3QgdmFsdWVcbi8vIGZyb20gYGdldFNuYXBzaG90YC5cbmdldFNlcnZlclNuYXBzaG90KSB7XG4gIHtcbiAgICBpZiAoIWRpZFdhcm5PbGQxOEFscGhhKSB7XG4gICAgICBpZiAoUmVhY3Quc3RhcnRUcmFuc2l0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZGlkV2Fybk9sZDE4QWxwaGEgPSB0cnVlO1xuXG4gICAgICAgIGVycm9yKCdZb3UgYXJlIHVzaW5nIGFuIG91dGRhdGVkLCBwcmUtcmVsZWFzZSBhbHBoYSBvZiBSZWFjdCAxOCB0aGF0ICcgKyAnZG9lcyBub3Qgc3VwcG9ydCB1c2VTeW5jRXh0ZXJuYWxTdG9yZS4gVGhlICcgKyAndXNlLXN5bmMtZXh0ZXJuYWwtc3RvcmUgc2hpbSB3aWxsIG5vdCB3b3JrIGNvcnJlY3RseS4gVXBncmFkZSAnICsgJ3RvIGEgbmV3ZXIgcHJlLXJlbGVhc2UuJyk7XG4gICAgICB9XG4gICAgfVxuICB9IC8vIFJlYWQgdGhlIGN1cnJlbnQgc25hcHNob3QgZnJvbSB0aGUgc3RvcmUgb24gZXZlcnkgcmVuZGVyLiBBZ2FpbiwgdGhpc1xuICAvLyBicmVha3MgdGhlIHJ1bGVzIG9mIFJlYWN0LCBhbmQgb25seSB3b3JrcyBoZXJlIGJlY2F1c2Ugb2Ygc3BlY2lmaWNcbiAgLy8gaW1wbGVtZW50YXRpb24gZGV0YWlscywgbW9zdCBpbXBvcnRhbnRseSB0aGF0IHVwZGF0ZXMgYXJlXG4gIC8vIGFsd2F5cyBzeW5jaHJvbm91cy5cblxuXG4gIHZhciB2YWx1ZSA9IGdldFNuYXBzaG90KCk7XG5cbiAge1xuICAgIGlmICghZGlkV2FyblVuY2FjaGVkR2V0U25hcHNob3QpIHtcbiAgICAgIHZhciBjYWNoZWRWYWx1ZSA9IGdldFNuYXBzaG90KCk7XG5cbiAgICAgIGlmICghb2JqZWN0SXModmFsdWUsIGNhY2hlZFZhbHVlKSkge1xuICAgICAgICBlcnJvcignVGhlIHJlc3VsdCBvZiBnZXRTbmFwc2hvdCBzaG91bGQgYmUgY2FjaGVkIHRvIGF2b2lkIGFuIGluZmluaXRlIGxvb3AnKTtcblxuICAgICAgICBkaWRXYXJuVW5jYWNoZWRHZXRTbmFwc2hvdCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9IC8vIEJlY2F1c2UgdXBkYXRlcyBhcmUgc3luY2hyb25vdXMsIHdlIGRvbid0IHF1ZXVlIHRoZW0uIEluc3RlYWQgd2UgZm9yY2UgYVxuICAvLyByZS1yZW5kZXIgd2hlbmV2ZXIgdGhlIHN1YnNjcmliZWQgc3RhdGUgY2hhbmdlcyBieSB1cGRhdGluZyBhbiBzb21lXG4gIC8vIGFyYml0cmFyeSB1c2VTdGF0ZSBob29rLiBUaGVuLCBkdXJpbmcgcmVuZGVyLCB3ZSBjYWxsIGdldFNuYXBzaG90IHRvIHJlYWRcbiAgLy8gdGhlIGN1cnJlbnQgdmFsdWUuXG4gIC8vXG4gIC8vIEJlY2F1c2Ugd2UgZG9uJ3QgYWN0dWFsbHkgdXNlIHRoZSBzdGF0ZSByZXR1cm5lZCBieSB0aGUgdXNlU3RhdGUgaG9vaywgd2VcbiAgLy8gY2FuIHNhdmUgYSBiaXQgb2YgbWVtb3J5IGJ5IHN0b3Jpbmcgb3RoZXIgc3R1ZmYgaW4gdGhhdCBzbG90LlxuICAvL1xuICAvLyBUbyBpbXBsZW1lbnQgdGhlIGVhcmx5IGJhaWxvdXQsIHdlIG5lZWQgdG8gdHJhY2sgc29tZSB0aGluZ3Mgb24gYSBtdXRhYmxlXG4gIC8vIG9iamVjdC4gVXN1YWxseSwgd2Ugd291bGQgcHV0IHRoYXQgaW4gYSB1c2VSZWYgaG9vaywgYnV0IHdlIGNhbiBzdGFzaCBpdCBpblxuICAvLyBvdXIgdXNlU3RhdGUgaG9vayBpbnN0ZWFkLlxuICAvL1xuICAvLyBUbyBmb3JjZSBhIHJlLXJlbmRlciwgd2UgY2FsbCBmb3JjZVVwZGF0ZSh7aW5zdH0pLiBUaGF0IHdvcmtzIGJlY2F1c2UgdGhlXG4gIC8vIG5ldyBvYmplY3QgYWx3YXlzIGZhaWxzIGFuIGVxdWFsaXR5IGNoZWNrLlxuXG5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKHtcbiAgICBpbnN0OiB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBnZXRTbmFwc2hvdDogZ2V0U25hcHNob3RcbiAgICB9XG4gIH0pLFxuICAgICAgaW5zdCA9IF91c2VTdGF0ZVswXS5pbnN0LFxuICAgICAgZm9yY2VVcGRhdGUgPSBfdXNlU3RhdGVbMV07IC8vIFRyYWNrIHRoZSBsYXRlc3QgZ2V0U25hcHNob3QgZnVuY3Rpb24gd2l0aCBhIHJlZi4gVGhpcyBuZWVkcyB0byBiZSB1cGRhdGVkXG4gIC8vIGluIHRoZSBsYXlvdXQgcGhhc2Ugc28gd2UgY2FuIGFjY2VzcyBpdCBkdXJpbmcgdGhlIHRlYXJpbmcgY2hlY2sgdGhhdFxuICAvLyBoYXBwZW5zIG9uIHN1YnNjcmliZS5cblxuXG4gIHVzZUxheW91dEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaW5zdC52YWx1ZSA9IHZhbHVlO1xuICAgIGluc3QuZ2V0U25hcHNob3QgPSBnZXRTbmFwc2hvdDsgLy8gV2hlbmV2ZXIgZ2V0U25hcHNob3Qgb3Igc3Vic2NyaWJlIGNoYW5nZXMsIHdlIG5lZWQgdG8gY2hlY2sgaW4gdGhlXG4gICAgLy8gY29tbWl0IHBoYXNlIGlmIHRoZXJlIHdhcyBhbiBpbnRlcmxlYXZlZCBtdXRhdGlvbi4gSW4gY29uY3VycmVudCBtb2RlXG4gICAgLy8gdGhpcyBjYW4gaGFwcGVuIGFsbCB0aGUgdGltZSwgYnV0IGV2ZW4gaW4gc3luY2hyb25vdXMgbW9kZSwgYW4gZWFybGllclxuICAgIC8vIGVmZmVjdCBtYXkgaGF2ZSBtdXRhdGVkIHRoZSBzdG9yZS5cblxuICAgIGlmIChjaGVja0lmU25hcHNob3RDaGFuZ2VkKGluc3QpKSB7XG4gICAgICAvLyBGb3JjZSBhIHJlLXJlbmRlci5cbiAgICAgIGZvcmNlVXBkYXRlKHtcbiAgICAgICAgaW5zdDogaW5zdFxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbc3Vic2NyaWJlLCB2YWx1ZSwgZ2V0U25hcHNob3RdKTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAvLyBDaGVjayBmb3IgY2hhbmdlcyByaWdodCBiZWZvcmUgc3Vic2NyaWJpbmcuIFN1YnNlcXVlbnQgY2hhbmdlcyB3aWxsIGJlXG4gICAgLy8gZGV0ZWN0ZWQgaW4gdGhlIHN1YnNjcmlwdGlvbiBoYW5kbGVyLlxuICAgIGlmIChjaGVja0lmU25hcHNob3RDaGFuZ2VkKGluc3QpKSB7XG4gICAgICAvLyBGb3JjZSBhIHJlLXJlbmRlci5cbiAgICAgIGZvcmNlVXBkYXRlKHtcbiAgICAgICAgaW5zdDogaW5zdFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIGhhbmRsZVN0b3JlQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgLy8gVE9ETzogQmVjYXVzZSB0aGVyZSBpcyBubyBjcm9zcy1yZW5kZXJlciBBUEkgZm9yIGJhdGNoaW5nIHVwZGF0ZXMsIGl0J3NcbiAgICAgIC8vIHVwIHRvIHRoZSBjb25zdW1lciBvZiB0aGlzIGxpYnJhcnkgdG8gd3JhcCB0aGVpciBzdWJzY3JpcHRpb24gZXZlbnRcbiAgICAgIC8vIHdpdGggdW5zdGFibGVfYmF0Y2hlZFVwZGF0ZXMuIFNob3VsZCB3ZSB0cnkgdG8gZGV0ZWN0IHdoZW4gdGhpcyBpc24ndFxuICAgICAgLy8gdGhlIGNhc2UgYW5kIHByaW50IGEgd2FybmluZyBpbiBkZXZlbG9wbWVudD9cbiAgICAgIC8vIFRoZSBzdG9yZSBjaGFuZ2VkLiBDaGVjayBpZiB0aGUgc25hcHNob3QgY2hhbmdlZCBzaW5jZSB0aGUgbGFzdCB0aW1lIHdlXG4gICAgICAvLyByZWFkIGZyb20gdGhlIHN0b3JlLlxuICAgICAgaWYgKGNoZWNrSWZTbmFwc2hvdENoYW5nZWQoaW5zdCkpIHtcbiAgICAgICAgLy8gRm9yY2UgYSByZS1yZW5kZXIuXG4gICAgICAgIGZvcmNlVXBkYXRlKHtcbiAgICAgICAgICBpbnN0OiBpbnN0XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07IC8vIFN1YnNjcmliZSB0byB0aGUgc3RvcmUgYW5kIHJldHVybiBhIGNsZWFuLXVwIGZ1bmN0aW9uLlxuXG5cbiAgICByZXR1cm4gc3Vic2NyaWJlKGhhbmRsZVN0b3JlQ2hhbmdlKTtcbiAgfSwgW3N1YnNjcmliZV0pO1xuICB1c2VEZWJ1Z1ZhbHVlKHZhbHVlKTtcbiAgcmV0dXJuIHZhbHVlO1xufVxuXG5mdW5jdGlvbiBjaGVja0lmU25hcHNob3RDaGFuZ2VkKGluc3QpIHtcbiAgdmFyIGxhdGVzdEdldFNuYXBzaG90ID0gaW5zdC5nZXRTbmFwc2hvdDtcbiAgdmFyIHByZXZWYWx1ZSA9IGluc3QudmFsdWU7XG5cbiAgdHJ5IHtcbiAgICB2YXIgbmV4dFZhbHVlID0gbGF0ZXN0R2V0U25hcHNob3QoKTtcbiAgICByZXR1cm4gIW9iamVjdElzKHByZXZWYWx1ZSwgbmV4dFZhbHVlKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiB1c2VTeW5jRXh0ZXJuYWxTdG9yZSQxKHN1YnNjcmliZSwgZ2V0U25hcHNob3QsIGdldFNlcnZlclNuYXBzaG90KSB7XG4gIC8vIE5vdGU6IFRoZSBzaGltIGRvZXMgbm90IHVzZSBnZXRTZXJ2ZXJTbmFwc2hvdCwgYmVjYXVzZSBwcmUtMTggdmVyc2lvbnMgb2ZcbiAgLy8gUmVhY3QgZG8gbm90IGV4cG9zZSBhIHdheSB0byBjaGVjayBpZiB3ZSdyZSBoeWRyYXRpbmcuIFNvIHVzZXJzIG9mIHRoZSBzaGltXG4gIC8vIHdpbGwgbmVlZCB0byB0cmFjayB0aGF0IHRoZW1zZWx2ZXMgYW5kIHJldHVybiB0aGUgY29ycmVjdCB2YWx1ZVxuICAvLyBmcm9tIGBnZXRTbmFwc2hvdGAuXG4gIHJldHVybiBnZXRTbmFwc2hvdCgpO1xufVxuXG52YXIgY2FuVXNlRE9NID0gISEodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5kb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50ICE9PSAndW5kZWZpbmVkJyk7XG5cbnZhciBpc1NlcnZlckVudmlyb25tZW50ID0gIWNhblVzZURPTTtcblxudmFyIHNoaW0gPSBpc1NlcnZlckVudmlyb25tZW50ID8gdXNlU3luY0V4dGVybmFsU3RvcmUkMSA6IHVzZVN5bmNFeHRlcm5hbFN0b3JlO1xudmFyIHVzZVN5bmNFeHRlcm5hbFN0b3JlJDIgPSBSZWFjdC51c2VTeW5jRXh0ZXJuYWxTdG9yZSAhPT0gdW5kZWZpbmVkID8gUmVhY3QudXNlU3luY0V4dGVybmFsU3RvcmUgOiBzaGltO1xuXG5leHBvcnRzLnVzZVN5bmNFeHRlcm5hbFN0b3JlID0gdXNlU3luY0V4dGVybmFsU3RvcmUkMjtcbiAgICAgICAgICAvKiBnbG9iYWwgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fICovXG5pZiAoXG4gIHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18gIT09ICd1bmRlZmluZWQnICYmXG4gIHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0b3AgPT09XG4gICAgJ2Z1bmN0aW9uJ1xuKSB7XG4gIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RvcChuZXcgRXJyb3IoKSk7XG59XG4gICAgICAgIFxuICB9KSgpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.development.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.development.js":
/*!************************************************************************************************************!*\
  !*** ./node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.development.js ***!
  \************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("/**\n * @license React\n * use-sync-external-store-shim/with-selector.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\nif (true) {\n  (function() {\n\n          'use strict';\n\n/* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\nif (\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== 'undefined' &&\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart ===\n    'function'\n) {\n  __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error());\n}\n          var React = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\nvar shim = __webpack_require__(/*! use-sync-external-store/shim */ \"(app-pages-browser)/./node_modules/use-sync-external-store/shim/index.js\");\n\n/**\n * inlined Object.is polyfill to avoid requiring consumers ship their own\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n */\nfunction is(x, y) {\n  return x === y && (x !== 0 || 1 / x === 1 / y) || x !== x && y !== y // eslint-disable-line no-self-compare\n  ;\n}\n\nvar objectIs = typeof Object.is === 'function' ? Object.is : is;\n\nvar useSyncExternalStore = shim.useSyncExternalStore;\n\n// for CommonJS interop.\n\nvar useRef = React.useRef,\n    useEffect = React.useEffect,\n    useMemo = React.useMemo,\n    useDebugValue = React.useDebugValue; // Same as useSyncExternalStore, but supports selector and isEqual arguments.\n\nfunction useSyncExternalStoreWithSelector(subscribe, getSnapshot, getServerSnapshot, selector, isEqual) {\n  // Use this to track the rendered snapshot.\n  var instRef = useRef(null);\n  var inst;\n\n  if (instRef.current === null) {\n    inst = {\n      hasValue: false,\n      value: null\n    };\n    instRef.current = inst;\n  } else {\n    inst = instRef.current;\n  }\n\n  var _useMemo = useMemo(function () {\n    // Track the memoized state using closure variables that are local to this\n    // memoized instance of a getSnapshot function. Intentionally not using a\n    // useRef hook, because that state would be shared across all concurrent\n    // copies of the hook/component.\n    var hasMemo = false;\n    var memoizedSnapshot;\n    var memoizedSelection;\n\n    var memoizedSelector = function (nextSnapshot) {\n      if (!hasMemo) {\n        // The first time the hook is called, there is no memoized result.\n        hasMemo = true;\n        memoizedSnapshot = nextSnapshot;\n\n        var _nextSelection = selector(nextSnapshot);\n\n        if (isEqual !== undefined) {\n          // Even if the selector has changed, the currently rendered selection\n          // may be equal to the new selection. We should attempt to reuse the\n          // current value if possible, to preserve downstream memoizations.\n          if (inst.hasValue) {\n            var currentSelection = inst.value;\n\n            if (isEqual(currentSelection, _nextSelection)) {\n              memoizedSelection = currentSelection;\n              return currentSelection;\n            }\n          }\n        }\n\n        memoizedSelection = _nextSelection;\n        return _nextSelection;\n      } // We may be able to reuse the previous invocation's result.\n\n\n      // We may be able to reuse the previous invocation's result.\n      var prevSnapshot = memoizedSnapshot;\n      var prevSelection = memoizedSelection;\n\n      if (objectIs(prevSnapshot, nextSnapshot)) {\n        // The snapshot is the same as last time. Reuse the previous selection.\n        return prevSelection;\n      } // The snapshot has changed, so we need to compute a new selection.\n\n\n      // The snapshot has changed, so we need to compute a new selection.\n      var nextSelection = selector(nextSnapshot); // If a custom isEqual function is provided, use that to check if the data\n      // has changed. If it hasn't, return the previous selection. That signals\n      // to React that the selections are conceptually equal, and we can bail\n      // out of rendering.\n\n      // If a custom isEqual function is provided, use that to check if the data\n      // has changed. If it hasn't, return the previous selection. That signals\n      // to React that the selections are conceptually equal, and we can bail\n      // out of rendering.\n      if (isEqual !== undefined && isEqual(prevSelection, nextSelection)) {\n        return prevSelection;\n      }\n\n      memoizedSnapshot = nextSnapshot;\n      memoizedSelection = nextSelection;\n      return nextSelection;\n    }; // Assigning this to a constant so that Flow knows it can't change.\n\n\n    // Assigning this to a constant so that Flow knows it can't change.\n    var maybeGetServerSnapshot = getServerSnapshot === undefined ? null : getServerSnapshot;\n\n    var getSnapshotWithSelector = function () {\n      return memoizedSelector(getSnapshot());\n    };\n\n    var getServerSnapshotWithSelector = maybeGetServerSnapshot === null ? undefined : function () {\n      return memoizedSelector(maybeGetServerSnapshot());\n    };\n    return [getSnapshotWithSelector, getServerSnapshotWithSelector];\n  }, [getSnapshot, getServerSnapshot, selector, isEqual]),\n      getSelection = _useMemo[0],\n      getServerSelection = _useMemo[1];\n\n  var value = useSyncExternalStore(subscribe, getSelection, getServerSelection);\n  useEffect(function () {\n    inst.hasValue = true;\n    inst.value = value;\n  }, [value]);\n  useDebugValue(value);\n  return value;\n}\n\nexports.useSyncExternalStoreWithSelector = useSyncExternalStoreWithSelector;\n          /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\nif (\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== 'undefined' &&\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop ===\n    'function'\n) {\n  __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error());\n}\n        \n  })();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy91c2Utc3luYy1leHRlcm5hbC1zdG9yZS9janMvdXNlLXN5bmMtZXh0ZXJuYWwtc3RvcmUtc2hpbS93aXRoLXNlbGVjdG9yLmRldmVsb3BtZW50LmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFYTs7QUFFYixJQUFJLElBQXFDO0FBQ3pDOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsbUJBQU8sQ0FBQyxtRkFBTztBQUNyQyxXQUFXLG1CQUFPLENBQUMsOEdBQThCOztBQUVqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5Qzs7QUFFekM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7OztBQUdSO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFROzs7QUFHUjtBQUNBLGtEQUFrRDtBQUNsRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7O0FBR1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUEsd0NBQXdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvdXNlLXN5bmMtZXh0ZXJuYWwtc3RvcmUvY2pzL3VzZS1zeW5jLWV4dGVybmFsLXN0b3JlLXNoaW0vd2l0aC1zZWxlY3Rvci5kZXZlbG9wbWVudC5qcz82MzFhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2UgUmVhY3RcbiAqIHVzZS1zeW5jLWV4dGVybmFsLXN0b3JlLXNoaW0vd2l0aC1zZWxlY3Rvci5kZXZlbG9wbWVudC5qc1xuICpcbiAqIENvcHlyaWdodCAoYykgRmFjZWJvb2ssIEluYy4gYW5kIGl0cyBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAndXNlIHN0cmljdCc7XG5cbi8qIGdsb2JhbCBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18gKi9cbmlmIChcbiAgdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RhcnQgPT09XG4gICAgJ2Z1bmN0aW9uJ1xuKSB7XG4gIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RhcnQobmV3IEVycm9yKCkpO1xufVxuICAgICAgICAgIHZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG52YXIgc2hpbSA9IHJlcXVpcmUoJ3VzZS1zeW5jLWV4dGVybmFsLXN0b3JlL3NoaW0nKTtcblxuLyoqXG4gKiBpbmxpbmVkIE9iamVjdC5pcyBwb2x5ZmlsbCB0byBhdm9pZCByZXF1aXJpbmcgY29uc3VtZXJzIHNoaXAgdGhlaXIgb3duXG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvaXNcbiAqL1xuZnVuY3Rpb24gaXMoeCwgeSkge1xuICByZXR1cm4geCA9PT0geSAmJiAoeCAhPT0gMCB8fCAxIC8geCA9PT0gMSAvIHkpIHx8IHggIT09IHggJiYgeSAhPT0geSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNlbGYtY29tcGFyZVxuICA7XG59XG5cbnZhciBvYmplY3RJcyA9IHR5cGVvZiBPYmplY3QuaXMgPT09ICdmdW5jdGlvbicgPyBPYmplY3QuaXMgOiBpcztcblxudmFyIHVzZVN5bmNFeHRlcm5hbFN0b3JlID0gc2hpbS51c2VTeW5jRXh0ZXJuYWxTdG9yZTtcblxuLy8gZm9yIENvbW1vbkpTIGludGVyb3AuXG5cbnZhciB1c2VSZWYgPSBSZWFjdC51c2VSZWYsXG4gICAgdXNlRWZmZWN0ID0gUmVhY3QudXNlRWZmZWN0LFxuICAgIHVzZU1lbW8gPSBSZWFjdC51c2VNZW1vLFxuICAgIHVzZURlYnVnVmFsdWUgPSBSZWFjdC51c2VEZWJ1Z1ZhbHVlOyAvLyBTYW1lIGFzIHVzZVN5bmNFeHRlcm5hbFN0b3JlLCBidXQgc3VwcG9ydHMgc2VsZWN0b3IgYW5kIGlzRXF1YWwgYXJndW1lbnRzLlxuXG5mdW5jdGlvbiB1c2VTeW5jRXh0ZXJuYWxTdG9yZVdpdGhTZWxlY3RvcihzdWJzY3JpYmUsIGdldFNuYXBzaG90LCBnZXRTZXJ2ZXJTbmFwc2hvdCwgc2VsZWN0b3IsIGlzRXF1YWwpIHtcbiAgLy8gVXNlIHRoaXMgdG8gdHJhY2sgdGhlIHJlbmRlcmVkIHNuYXBzaG90LlxuICB2YXIgaW5zdFJlZiA9IHVzZVJlZihudWxsKTtcbiAgdmFyIGluc3Q7XG5cbiAgaWYgKGluc3RSZWYuY3VycmVudCA9PT0gbnVsbCkge1xuICAgIGluc3QgPSB7XG4gICAgICBoYXNWYWx1ZTogZmFsc2UsXG4gICAgICB2YWx1ZTogbnVsbFxuICAgIH07XG4gICAgaW5zdFJlZi5jdXJyZW50ID0gaW5zdDtcbiAgfSBlbHNlIHtcbiAgICBpbnN0ID0gaW5zdFJlZi5jdXJyZW50O1xuICB9XG5cbiAgdmFyIF91c2VNZW1vID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgLy8gVHJhY2sgdGhlIG1lbW9pemVkIHN0YXRlIHVzaW5nIGNsb3N1cmUgdmFyaWFibGVzIHRoYXQgYXJlIGxvY2FsIHRvIHRoaXNcbiAgICAvLyBtZW1vaXplZCBpbnN0YW5jZSBvZiBhIGdldFNuYXBzaG90IGZ1bmN0aW9uLiBJbnRlbnRpb25hbGx5IG5vdCB1c2luZyBhXG4gICAgLy8gdXNlUmVmIGhvb2ssIGJlY2F1c2UgdGhhdCBzdGF0ZSB3b3VsZCBiZSBzaGFyZWQgYWNyb3NzIGFsbCBjb25jdXJyZW50XG4gICAgLy8gY29waWVzIG9mIHRoZSBob29rL2NvbXBvbmVudC5cbiAgICB2YXIgaGFzTWVtbyA9IGZhbHNlO1xuICAgIHZhciBtZW1vaXplZFNuYXBzaG90O1xuICAgIHZhciBtZW1vaXplZFNlbGVjdGlvbjtcblxuICAgIHZhciBtZW1vaXplZFNlbGVjdG9yID0gZnVuY3Rpb24gKG5leHRTbmFwc2hvdCkge1xuICAgICAgaWYgKCFoYXNNZW1vKSB7XG4gICAgICAgIC8vIFRoZSBmaXJzdCB0aW1lIHRoZSBob29rIGlzIGNhbGxlZCwgdGhlcmUgaXMgbm8gbWVtb2l6ZWQgcmVzdWx0LlxuICAgICAgICBoYXNNZW1vID0gdHJ1ZTtcbiAgICAgICAgbWVtb2l6ZWRTbmFwc2hvdCA9IG5leHRTbmFwc2hvdDtcblxuICAgICAgICB2YXIgX25leHRTZWxlY3Rpb24gPSBzZWxlY3RvcihuZXh0U25hcHNob3QpO1xuXG4gICAgICAgIGlmIChpc0VxdWFsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAvLyBFdmVuIGlmIHRoZSBzZWxlY3RvciBoYXMgY2hhbmdlZCwgdGhlIGN1cnJlbnRseSByZW5kZXJlZCBzZWxlY3Rpb25cbiAgICAgICAgICAvLyBtYXkgYmUgZXF1YWwgdG8gdGhlIG5ldyBzZWxlY3Rpb24uIFdlIHNob3VsZCBhdHRlbXB0IHRvIHJldXNlIHRoZVxuICAgICAgICAgIC8vIGN1cnJlbnQgdmFsdWUgaWYgcG9zc2libGUsIHRvIHByZXNlcnZlIGRvd25zdHJlYW0gbWVtb2l6YXRpb25zLlxuICAgICAgICAgIGlmIChpbnN0Lmhhc1ZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudFNlbGVjdGlvbiA9IGluc3QudmFsdWU7XG5cbiAgICAgICAgICAgIGlmIChpc0VxdWFsKGN1cnJlbnRTZWxlY3Rpb24sIF9uZXh0U2VsZWN0aW9uKSkge1xuICAgICAgICAgICAgICBtZW1vaXplZFNlbGVjdGlvbiA9IGN1cnJlbnRTZWxlY3Rpb247XG4gICAgICAgICAgICAgIHJldHVybiBjdXJyZW50U2VsZWN0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIG1lbW9pemVkU2VsZWN0aW9uID0gX25leHRTZWxlY3Rpb247XG4gICAgICAgIHJldHVybiBfbmV4dFNlbGVjdGlvbjtcbiAgICAgIH0gLy8gV2UgbWF5IGJlIGFibGUgdG8gcmV1c2UgdGhlIHByZXZpb3VzIGludm9jYXRpb24ncyByZXN1bHQuXG5cblxuICAgICAgLy8gV2UgbWF5IGJlIGFibGUgdG8gcmV1c2UgdGhlIHByZXZpb3VzIGludm9jYXRpb24ncyByZXN1bHQuXG4gICAgICB2YXIgcHJldlNuYXBzaG90ID0gbWVtb2l6ZWRTbmFwc2hvdDtcbiAgICAgIHZhciBwcmV2U2VsZWN0aW9uID0gbWVtb2l6ZWRTZWxlY3Rpb247XG5cbiAgICAgIGlmIChvYmplY3RJcyhwcmV2U25hcHNob3QsIG5leHRTbmFwc2hvdCkpIHtcbiAgICAgICAgLy8gVGhlIHNuYXBzaG90IGlzIHRoZSBzYW1lIGFzIGxhc3QgdGltZS4gUmV1c2UgdGhlIHByZXZpb3VzIHNlbGVjdGlvbi5cbiAgICAgICAgcmV0dXJuIHByZXZTZWxlY3Rpb247XG4gICAgICB9IC8vIFRoZSBzbmFwc2hvdCBoYXMgY2hhbmdlZCwgc28gd2UgbmVlZCB0byBjb21wdXRlIGEgbmV3IHNlbGVjdGlvbi5cblxuXG4gICAgICAvLyBUaGUgc25hcHNob3QgaGFzIGNoYW5nZWQsIHNvIHdlIG5lZWQgdG8gY29tcHV0ZSBhIG5ldyBzZWxlY3Rpb24uXG4gICAgICB2YXIgbmV4dFNlbGVjdGlvbiA9IHNlbGVjdG9yKG5leHRTbmFwc2hvdCk7IC8vIElmIGEgY3VzdG9tIGlzRXF1YWwgZnVuY3Rpb24gaXMgcHJvdmlkZWQsIHVzZSB0aGF0IHRvIGNoZWNrIGlmIHRoZSBkYXRhXG4gICAgICAvLyBoYXMgY2hhbmdlZC4gSWYgaXQgaGFzbid0LCByZXR1cm4gdGhlIHByZXZpb3VzIHNlbGVjdGlvbi4gVGhhdCBzaWduYWxzXG4gICAgICAvLyB0byBSZWFjdCB0aGF0IHRoZSBzZWxlY3Rpb25zIGFyZSBjb25jZXB0dWFsbHkgZXF1YWwsIGFuZCB3ZSBjYW4gYmFpbFxuICAgICAgLy8gb3V0IG9mIHJlbmRlcmluZy5cblxuICAgICAgLy8gSWYgYSBjdXN0b20gaXNFcXVhbCBmdW5jdGlvbiBpcyBwcm92aWRlZCwgdXNlIHRoYXQgdG8gY2hlY2sgaWYgdGhlIGRhdGFcbiAgICAgIC8vIGhhcyBjaGFuZ2VkLiBJZiBpdCBoYXNuJ3QsIHJldHVybiB0aGUgcHJldmlvdXMgc2VsZWN0aW9uLiBUaGF0IHNpZ25hbHNcbiAgICAgIC8vIHRvIFJlYWN0IHRoYXQgdGhlIHNlbGVjdGlvbnMgYXJlIGNvbmNlcHR1YWxseSBlcXVhbCwgYW5kIHdlIGNhbiBiYWlsXG4gICAgICAvLyBvdXQgb2YgcmVuZGVyaW5nLlxuICAgICAgaWYgKGlzRXF1YWwgIT09IHVuZGVmaW5lZCAmJiBpc0VxdWFsKHByZXZTZWxlY3Rpb24sIG5leHRTZWxlY3Rpb24pKSB7XG4gICAgICAgIHJldHVybiBwcmV2U2VsZWN0aW9uO1xuICAgICAgfVxuXG4gICAgICBtZW1vaXplZFNuYXBzaG90ID0gbmV4dFNuYXBzaG90O1xuICAgICAgbWVtb2l6ZWRTZWxlY3Rpb24gPSBuZXh0U2VsZWN0aW9uO1xuICAgICAgcmV0dXJuIG5leHRTZWxlY3Rpb247XG4gICAgfTsgLy8gQXNzaWduaW5nIHRoaXMgdG8gYSBjb25zdGFudCBzbyB0aGF0IEZsb3cga25vd3MgaXQgY2FuJ3QgY2hhbmdlLlxuXG5cbiAgICAvLyBBc3NpZ25pbmcgdGhpcyB0byBhIGNvbnN0YW50IHNvIHRoYXQgRmxvdyBrbm93cyBpdCBjYW4ndCBjaGFuZ2UuXG4gICAgdmFyIG1heWJlR2V0U2VydmVyU25hcHNob3QgPSBnZXRTZXJ2ZXJTbmFwc2hvdCA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGdldFNlcnZlclNuYXBzaG90O1xuXG4gICAgdmFyIGdldFNuYXBzaG90V2l0aFNlbGVjdG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG1lbW9pemVkU2VsZWN0b3IoZ2V0U25hcHNob3QoKSk7XG4gICAgfTtcblxuICAgIHZhciBnZXRTZXJ2ZXJTbmFwc2hvdFdpdGhTZWxlY3RvciA9IG1heWJlR2V0U2VydmVyU25hcHNob3QgPT09IG51bGwgPyB1bmRlZmluZWQgOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbWVtb2l6ZWRTZWxlY3RvcihtYXliZUdldFNlcnZlclNuYXBzaG90KCkpO1xuICAgIH07XG4gICAgcmV0dXJuIFtnZXRTbmFwc2hvdFdpdGhTZWxlY3RvciwgZ2V0U2VydmVyU25hcHNob3RXaXRoU2VsZWN0b3JdO1xuICB9LCBbZ2V0U25hcHNob3QsIGdldFNlcnZlclNuYXBzaG90LCBzZWxlY3RvciwgaXNFcXVhbF0pLFxuICAgICAgZ2V0U2VsZWN0aW9uID0gX3VzZU1lbW9bMF0sXG4gICAgICBnZXRTZXJ2ZXJTZWxlY3Rpb24gPSBfdXNlTWVtb1sxXTtcblxuICB2YXIgdmFsdWUgPSB1c2VTeW5jRXh0ZXJuYWxTdG9yZShzdWJzY3JpYmUsIGdldFNlbGVjdGlvbiwgZ2V0U2VydmVyU2VsZWN0aW9uKTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpbnN0Lmhhc1ZhbHVlID0gdHJ1ZTtcbiAgICBpbnN0LnZhbHVlID0gdmFsdWU7XG4gIH0sIFt2YWx1ZV0pO1xuICB1c2VEZWJ1Z1ZhbHVlKHZhbHVlKTtcbiAgcmV0dXJuIHZhbHVlO1xufVxuXG5leHBvcnRzLnVzZVN5bmNFeHRlcm5hbFN0b3JlV2l0aFNlbGVjdG9yID0gdXNlU3luY0V4dGVybmFsU3RvcmVXaXRoU2VsZWN0b3I7XG4gICAgICAgICAgLyogZ2xvYmFsIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyAqL1xuaWYgKFxuICB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fICE9PSAndW5kZWZpbmVkJyAmJlxuICB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdG9wID09PVxuICAgICdmdW5jdGlvbidcbikge1xuICBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0b3AobmV3IEVycm9yKCkpO1xufVxuICAgICAgICBcbiAgfSkoKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.development.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/use-sync-external-store/shim/index.js":
/*!************************************************************!*\
  !*** ./node_modules/use-sync-external-store/shim/index.js ***!
  \************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n\nif (false) {} else {\n  module.exports = __webpack_require__(/*! ../cjs/use-sync-external-store-shim.development.js */ \"(app-pages-browser)/./node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.development.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy91c2Utc3luYy1leHRlcm5hbC1zdG9yZS9zaGltL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLElBQUksS0FBcUMsRUFBRSxFQUUxQyxDQUFDO0FBQ0YsRUFBRSw0TUFBOEU7QUFDaEYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3VzZS1zeW5jLWV4dGVybmFsLXN0b3JlL3NoaW0vaW5kZXguanM/ZTk0OSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vY2pzL3VzZS1zeW5jLWV4dGVybmFsLXN0b3JlLXNoaW0ucHJvZHVjdGlvbi5taW4uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vY2pzL3VzZS1zeW5jLWV4dGVybmFsLXN0b3JlLXNoaW0uZGV2ZWxvcG1lbnQuanMnKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/use-sync-external-store/shim/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/use-sync-external-store/shim/with-selector.js":
/*!********************************************************************!*\
  !*** ./node_modules/use-sync-external-store/shim/with-selector.js ***!
  \********************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n\nif (false) {} else {\n  module.exports = __webpack_require__(/*! ../cjs/use-sync-external-store-shim/with-selector.development.js */ \"(app-pages-browser)/./node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.development.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy91c2Utc3luYy1leHRlcm5hbC1zdG9yZS9zaGltL3dpdGgtc2VsZWN0b3IuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsSUFBSSxLQUFxQyxFQUFFLEVBRTFDLENBQUM7QUFDRixFQUFFLHdPQUE0RjtBQUM5RiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvdXNlLXN5bmMtZXh0ZXJuYWwtc3RvcmUvc2hpbS93aXRoLXNlbGVjdG9yLmpzPzFkY2UiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uL2Nqcy91c2Utc3luYy1leHRlcm5hbC1zdG9yZS1zaGltL3dpdGgtc2VsZWN0b3IucHJvZHVjdGlvbi5taW4uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vY2pzL3VzZS1zeW5jLWV4dGVybmFsLXN0b3JlLXNoaW0vd2l0aC1zZWxlY3Rvci5kZXZlbG9wbWVudC5qcycpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/use-sync-external-store/shim/with-selector.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/AssignedInstrument.tsx":
/*!***********************************************!*\
  !*** ./src/components/AssignedInstrument.tsx ***!
  \***********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ AssignedInstrument; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var _lib_audio_AudioService__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/audio/AudioService */ \"(app-pages-browser)/./src/lib/audio/AudioService.ts\");\n/* harmony import */ var _hooks_usePartsStore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/hooks/usePartsStore */ \"(app-pages-browser)/./src/hooks/usePartsStore.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\nfunction AssignedInstrument(param) {\n    let { inst } = param;\n    _s();\n    const { soloInstanceId, setParts, setSoloInstanceId, parts } = (0,_hooks_usePartsStore__WEBPACK_IMPORTED_MODULE_2__.usePartsStore)();\n    const isSoloed = soloInstanceId === inst.id;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        \"data-inst-id\": inst.id,\n        \"data-queued\": !!inst.isLoading,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    gap: 8\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        \"data-testid\": \"inst-name\",\n                        children: [\n                            inst.name,\n                            \" \",\n                            inst.hasError ? \"(File missing)\" : \"\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/AssignedInstrument.tsx\",\n                        lineNumber: 14,\n                        columnNumber: 9\n                    }, this),\n                    inst.isLoading && inst.queueScheduleTime != null && inst.queueStartTime != null && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(QueuedProgress, {\n                        scheduleTime: inst.queueScheduleTime,\n                        startTime: inst.queueStartTime\n                    }, void 0, false, {\n                        fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/AssignedInstrument.tsx\",\n                        lineNumber: 16,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/AssignedInstrument.tsx\",\n                lineNumber: 13,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    gap: 8,\n                    marginTop: 4\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                        style: {\n                            fontSize: 12\n                        },\n                        children: \"Balance\"\n                    }, void 0, false, {\n                        fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/AssignedInstrument.tsx\",\n                        lineNumber: 20,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                        type: \"range\",\n                        min: 0,\n                        max: 100,\n                        value: inst.volumeBalance,\n                        onChange: (e)=>{\n                            const val = Number(e.target.value);\n                            _lib_audio_AudioService__WEBPACK_IMPORTED_MODULE_1__.audioService.setBaseGainValues(inst.id, val, inst.isMuted);\n                            setParts((prev)=>prev.map((p)=>({\n                                        ...p,\n                                        assignedInstruments: p.assignedInstruments.map((ai)=>ai.id === inst.id ? {\n                                                ...ai,\n                                                volumeBalance: val\n                                            } : ai)\n                                    })));\n                        }\n                    }, void 0, false, {\n                        fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/AssignedInstrument.tsx\",\n                        lineNumber: 21,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        \"data-testid\": \"solo-toggle\",\n                        onClick: ()=>{\n                            const nextSolo = isSoloed ? null : inst.id;\n                            setSoloInstanceId(nextSolo);\n                            // Update base gains mute state for all instruments based on solo\n                            const all = parts.flatMap((p)=>p.assignedInstruments);\n                            for (const ai of all){\n                                const muted = nextSolo ? ai.id !== nextSolo : ai.isMuted;\n                                _lib_audio_AudioService__WEBPACK_IMPORTED_MODULE_1__.audioService.setBaseGainValues(ai.id, ai.volumeBalance, muted);\n                            }\n                        },\n                        children: isSoloed ? \"Unsolo\" : \"Solo\"\n                    }, void 0, false, {\n                        fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/AssignedInstrument.tsx\",\n                        lineNumber: 32,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        \"data-testid\": \"mute-toggle\",\n                        onClick: ()=>setParts((prev)=>prev.map((p)=>({\n                                        ...p,\n                                        assignedInstruments: p.assignedInstruments.map((ai)=>ai.id === inst.id ? {\n                                                ...ai,\n                                                isMuted: !ai.isMuted\n                                            } : ai)\n                                    }))),\n                        children: inst.isMuted ? \"Unmute\" : \"Mute\"\n                    }, void 0, false, {\n                        fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/AssignedInstrument.tsx\",\n                        lineNumber: 46,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/AssignedInstrument.tsx\",\n                lineNumber: 19,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/AssignedInstrument.tsx\",\n        lineNumber: 12,\n        columnNumber: 5\n    }, this);\n}\n_s(AssignedInstrument, \"DoLXyw/YsSiIN2wl8a8ga7fqmWk=\", false, function() {\n    return [\n        _hooks_usePartsStore__WEBPACK_IMPORTED_MODULE_2__.usePartsStore\n    ];\n});\n_c = AssignedInstrument;\nfunction QueuedProgress(param) {\n    let { scheduleTime, startTime } = param;\n    const pct = (()=>{\n        const ctx = _lib_audio_AudioService__WEBPACK_IMPORTED_MODULE_1__.audioService.audioCtx;\n        if (!ctx) return 0;\n        const now = ctx.currentTime;\n        const total = Math.max(0.001, scheduleTime - startTime);\n        const elapsed = Math.max(0, now - startTime);\n        const p = Math.min(1, elapsed / total);\n        return Math.round(p * 100);\n    })();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n        \"aria-label\": \"Queued\",\n        title: \"Queued\",\n        \"data-testid\": \"queued-progress\",\n        style: {\n            display: \"inline-block\",\n            width: 60,\n            height: 6,\n            background: \"#eee\",\n            borderRadius: 4,\n            overflow: \"hidden\"\n        },\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n            style: {\n                display: \"block\",\n                width: \"\".concat(pct, \"%\"),\n                height: \"100%\",\n                background: \"#999\"\n            }\n        }, void 0, false, {\n            fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/AssignedInstrument.tsx\",\n            lineNumber: 68,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/AssignedInstrument.tsx\",\n        lineNumber: 67,\n        columnNumber: 5\n    }, this);\n}\n_c1 = QueuedProgress;\nvar _c, _c1;\n$RefreshReg$(_c, \"AssignedInstrument\");\n$RefreshReg$(_c1, \"QueuedProgress\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL0Fzc2lnbmVkSW5zdHJ1bWVudC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBR3VEO0FBQ0Y7QUFFdEMsU0FBU0UsbUJBQW1CLEtBQTBDO1FBQTFDLEVBQUVDLElBQUksRUFBb0MsR0FBMUM7O0lBQ3pDLE1BQU0sRUFBRUMsY0FBYyxFQUFFQyxRQUFRLEVBQUVDLGlCQUFpQixFQUFFQyxLQUFLLEVBQUUsR0FBR04sbUVBQWFBO0lBQzVFLE1BQU1PLFdBQVdKLG1CQUFtQkQsS0FBS00sRUFBRTtJQUUzQyxxQkFDRSw4REFBQ0M7UUFBSUMsZ0JBQWNSLEtBQUtNLEVBQUU7UUFBRUcsZUFBYSxDQUFDLENBQUNULEtBQUtVLFNBQVM7OzBCQUN2RCw4REFBQ0g7Z0JBQUlJLE9BQU87b0JBQUVDLFNBQVM7b0JBQVFDLFlBQVk7b0JBQVVDLEtBQUs7Z0JBQUU7O2tDQUMxRCw4REFBQ0M7d0JBQUtDLGVBQVk7OzRCQUFhaEIsS0FBS2lCLElBQUk7NEJBQUM7NEJBQUVqQixLQUFLa0IsUUFBUSxHQUFHLG1CQUFtQjs7Ozs7OztvQkFDN0VsQixLQUFLVSxTQUFTLElBQUlWLEtBQUttQixpQkFBaUIsSUFBSSxRQUFRbkIsS0FBS29CLGNBQWMsSUFBSSxzQkFDMUUsOERBQUNDO3dCQUFlQyxjQUFjdEIsS0FBS21CLGlCQUFpQjt3QkFBRUksV0FBV3ZCLEtBQUtvQixjQUFjOzs7Ozs7Ozs7Ozs7MEJBR3hGLDhEQUFDYjtnQkFBSUksT0FBTztvQkFBRUMsU0FBUztvQkFBUUMsWUFBWTtvQkFBVUMsS0FBSztvQkFBR1UsV0FBVztnQkFBRTs7a0NBQ3hFLDhEQUFDQzt3QkFBTWQsT0FBTzs0QkFBRWUsVUFBVTt3QkFBRztrQ0FBRzs7Ozs7O2tDQUNoQyw4REFBQ0M7d0JBQ0NDLE1BQUs7d0JBQ0xDLEtBQUs7d0JBQ0xDLEtBQUs7d0JBQ0xDLE9BQU8vQixLQUFLZ0MsYUFBYTt3QkFDekJDLFVBQVVDLENBQUFBOzRCQUNSLE1BQU1DLE1BQU1DLE9BQU9GLEVBQUVHLE1BQU0sQ0FBQ04sS0FBSzs0QkFDakNsQyxpRUFBWUEsQ0FBQ3lDLGlCQUFpQixDQUFDdEMsS0FBS00sRUFBRSxFQUFFNkIsS0FBS25DLEtBQUt1QyxPQUFPOzRCQUN6RHJDLFNBQVNzQyxDQUFBQSxPQUFRQSxLQUFLQyxHQUFHLENBQUNDLENBQUFBLElBQU07d0NBQUUsR0FBR0EsQ0FBQzt3Q0FBRUMscUJBQXFCRCxFQUFFQyxtQkFBbUIsQ0FBQ0YsR0FBRyxDQUFDRyxDQUFBQSxLQUFPQSxHQUFHdEMsRUFBRSxLQUFLTixLQUFLTSxFQUFFLEdBQUc7Z0RBQUUsR0FBR3NDLEVBQUU7Z0RBQUVaLGVBQWVHOzRDQUFJLElBQUlTO29DQUFLO3dCQUN6Sjs7Ozs7O2tDQUVGLDhEQUFDQzt3QkFBTzdCLGVBQVk7d0JBQ2xCOEIsU0FBUzs0QkFDUCxNQUFNQyxXQUFXMUMsV0FBVyxPQUFPTCxLQUFLTSxFQUFFOzRCQUMxQ0gsa0JBQWtCNEM7NEJBQ2xCLGlFQUFpRTs0QkFDakUsTUFBTUMsTUFBTTVDLE1BQU02QyxPQUFPLENBQUNQLENBQUFBLElBQUtBLEVBQUVDLG1CQUFtQjs0QkFDcEQsS0FBSyxNQUFNQyxNQUFNSSxJQUFLO2dDQUNwQixNQUFNRSxRQUFRSCxXQUFXSCxHQUFHdEMsRUFBRSxLQUFLeUMsV0FBV0gsR0FBR0wsT0FBTztnQ0FDeEQxQyxpRUFBWUEsQ0FBQ3lDLGlCQUFpQixDQUFDTSxHQUFHdEMsRUFBRSxFQUFFc0MsR0FBR1osYUFBYSxFQUFFa0I7NEJBQzFEO3dCQUNGO2tDQUVDN0MsV0FBVyxXQUFXOzs7Ozs7a0NBRXpCLDhEQUFDd0M7d0JBQU83QixlQUFZO3dCQUNsQjhCLFNBQVMsSUFBTTVDLFNBQVNzQyxDQUFBQSxPQUFRQSxLQUFLQyxHQUFHLENBQUNDLENBQUFBLElBQU07d0NBQUUsR0FBR0EsQ0FBQzt3Q0FBRUMscUJBQXFCRCxFQUFFQyxtQkFBbUIsQ0FBQ0YsR0FBRyxDQUFDRyxDQUFBQSxLQUFPQSxHQUFHdEMsRUFBRSxLQUFLTixLQUFLTSxFQUFFLEdBQUc7Z0RBQUUsR0FBR3NDLEVBQUU7Z0RBQUVMLFNBQVMsQ0FBQ0ssR0FBR0wsT0FBTzs0Q0FBQyxJQUFJSztvQ0FBSztrQ0FFdks1QyxLQUFLdUMsT0FBTyxHQUFHLFdBQVc7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUtyQztHQS9Dd0J4Qzs7UUFDeUNELCtEQUFhQTs7O0tBRHREQztBQWlEeEIsU0FBU3NCLGVBQWUsS0FBd0U7UUFBeEUsRUFBRUMsWUFBWSxFQUFFQyxTQUFTLEVBQStDLEdBQXhFO0lBQ3RCLE1BQU00QixNQUFNLENBQUM7UUFDWCxNQUFNQyxNQUFNdkQsaUVBQVlBLENBQUN3RCxRQUFRO1FBQ2pDLElBQUksQ0FBQ0QsS0FBSyxPQUFPO1FBQ2pCLE1BQU1FLE1BQU1GLElBQUlHLFdBQVc7UUFDM0IsTUFBTUMsUUFBUUMsS0FBSzNCLEdBQUcsQ0FBQyxPQUFPUixlQUFlQztRQUM3QyxNQUFNbUMsVUFBVUQsS0FBSzNCLEdBQUcsQ0FBQyxHQUFHd0IsTUFBTS9CO1FBQ2xDLE1BQU1tQixJQUFJZSxLQUFLNUIsR0FBRyxDQUFDLEdBQUc2QixVQUFVRjtRQUNoQyxPQUFPQyxLQUFLRSxLQUFLLENBQUNqQixJQUFJO0lBQ3hCO0lBQ0EscUJBQ0UsOERBQUMzQjtRQUFLNkMsY0FBVztRQUFTQyxPQUFNO1FBQVM3QyxlQUFZO1FBQWtCTCxPQUFPO1lBQUVDLFNBQVM7WUFBZ0JrRCxPQUFPO1lBQUlDLFFBQVE7WUFBR0MsWUFBWTtZQUFRQyxjQUFjO1lBQUdDLFVBQVU7UUFBUztrQkFDckwsNEVBQUNuRDtZQUFLSixPQUFPO2dCQUFFQyxTQUFTO2dCQUFTa0QsT0FBTyxHQUFPLE9BQUpYLEtBQUk7Z0JBQUlZLFFBQVE7Z0JBQVFDLFlBQVk7WUFBTzs7Ozs7Ozs7Ozs7QUFHNUY7TUFmUzNDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9jb21wb25lbnRzL0Fzc2lnbmVkSW5zdHJ1bWVudC50c3g/ODQwMCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCdcblxuaW1wb3J0IHR5cGUgeyBBc3NpZ25lZEluc3RydW1lbnQgYXMgQXNzaWduZWRJbnN0cnVtZW50VHlwZSB9IGZyb20gJ0AvbGliL3R5cGVzJ1xuaW1wb3J0IHsgYXVkaW9TZXJ2aWNlIH0gZnJvbSAnQC9saWIvYXVkaW8vQXVkaW9TZXJ2aWNlJ1xuaW1wb3J0IHsgdXNlUGFydHNTdG9yZSB9IGZyb20gJ0AvaG9va3MvdXNlUGFydHNTdG9yZSdcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQXNzaWduZWRJbnN0cnVtZW50KHsgaW5zdCB9OiB7IGluc3Q6IEFzc2lnbmVkSW5zdHJ1bWVudFR5cGUgfSkge1xuICBjb25zdCB7IHNvbG9JbnN0YW5jZUlkLCBzZXRQYXJ0cywgc2V0U29sb0luc3RhbmNlSWQsIHBhcnRzIH0gPSB1c2VQYXJ0c1N0b3JlKClcbiAgY29uc3QgaXNTb2xvZWQgPSBzb2xvSW5zdGFuY2VJZCA9PT0gaW5zdC5pZFxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBkYXRhLWluc3QtaWQ9e2luc3QuaWR9IGRhdGEtcXVldWVkPXshIWluc3QuaXNMb2FkaW5nfT5cbiAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywgZ2FwOiA4IH19PlxuICAgICAgICA8c3BhbiBkYXRhLXRlc3RpZD1cImluc3QtbmFtZVwiPntpbnN0Lm5hbWV9IHtpbnN0Lmhhc0Vycm9yID8gJyhGaWxlIG1pc3NpbmcpJyA6ICcnfTwvc3Bhbj5cbiAgICAgICAge2luc3QuaXNMb2FkaW5nICYmIGluc3QucXVldWVTY2hlZHVsZVRpbWUgIT0gbnVsbCAmJiBpbnN0LnF1ZXVlU3RhcnRUaW1lICE9IG51bGwgJiYgKFxuICAgICAgICAgIDxRdWV1ZWRQcm9ncmVzcyBzY2hlZHVsZVRpbWU9e2luc3QucXVldWVTY2hlZHVsZVRpbWV9IHN0YXJ0VGltZT17aW5zdC5xdWV1ZVN0YXJ0VGltZX0gLz5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBnYXA6IDgsIG1hcmdpblRvcDogNCB9fT5cbiAgICAgICAgPGxhYmVsIHN0eWxlPXt7IGZvbnRTaXplOiAxMiB9fT5CYWxhbmNlPC9sYWJlbD5cbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgdHlwZT1cInJhbmdlXCJcbiAgICAgICAgICBtaW49ezB9XG4gICAgICAgICAgbWF4PXsxMDB9XG4gICAgICAgICAgdmFsdWU9e2luc3Qudm9sdW1lQmFsYW5jZX1cbiAgICAgICAgICBvbkNoYW5nZT17ZSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2YWwgPSBOdW1iZXIoZS50YXJnZXQudmFsdWUpXG4gICAgICAgICAgICBhdWRpb1NlcnZpY2Uuc2V0QmFzZUdhaW5WYWx1ZXMoaW5zdC5pZCwgdmFsLCBpbnN0LmlzTXV0ZWQpXG4gICAgICAgICAgICBzZXRQYXJ0cyhwcmV2ID0+IHByZXYubWFwKHAgPT4gKHsgLi4ucCwgYXNzaWduZWRJbnN0cnVtZW50czogcC5hc3NpZ25lZEluc3RydW1lbnRzLm1hcChhaSA9PiAoYWkuaWQgPT09IGluc3QuaWQgPyB7IC4uLmFpLCB2b2x1bWVCYWxhbmNlOiB2YWwgfSA6IGFpKSkgfSkpKVxuICAgICAgICAgIH19XG4gICAgICAgIC8+XG4gICAgICAgIDxidXR0b24gZGF0YS10ZXN0aWQ9XCJzb2xvLXRvZ2dsZVwiXG4gICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV4dFNvbG8gPSBpc1NvbG9lZCA/IG51bGwgOiBpbnN0LmlkXG4gICAgICAgICAgICBzZXRTb2xvSW5zdGFuY2VJZChuZXh0U29sbylcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBiYXNlIGdhaW5zIG11dGUgc3RhdGUgZm9yIGFsbCBpbnN0cnVtZW50cyBiYXNlZCBvbiBzb2xvXG4gICAgICAgICAgICBjb25zdCBhbGwgPSBwYXJ0cy5mbGF0TWFwKHAgPT4gcC5hc3NpZ25lZEluc3RydW1lbnRzKVxuICAgICAgICAgICAgZm9yIChjb25zdCBhaSBvZiBhbGwpIHtcbiAgICAgICAgICAgICAgY29uc3QgbXV0ZWQgPSBuZXh0U29sbyA/IGFpLmlkICE9PSBuZXh0U29sbyA6IGFpLmlzTXV0ZWRcbiAgICAgICAgICAgICAgYXVkaW9TZXJ2aWNlLnNldEJhc2VHYWluVmFsdWVzKGFpLmlkLCBhaS52b2x1bWVCYWxhbmNlLCBtdXRlZClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAge2lzU29sb2VkID8gJ1Vuc29sbycgOiAnU29sbyd9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGRhdGEtdGVzdGlkPVwibXV0ZS10b2dnbGVcIlxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFBhcnRzKHByZXYgPT4gcHJldi5tYXAocCA9PiAoeyAuLi5wLCBhc3NpZ25lZEluc3RydW1lbnRzOiBwLmFzc2lnbmVkSW5zdHJ1bWVudHMubWFwKGFpID0+IChhaS5pZCA9PT0gaW5zdC5pZCA/IHsgLi4uYWksIGlzTXV0ZWQ6ICFhaS5pc011dGVkIH0gOiBhaSkpIH0pKSl9XG4gICAgICAgID5cbiAgICAgICAgICB7aW5zdC5pc011dGVkID8gJ1VubXV0ZScgOiAnTXV0ZSd9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZnVuY3Rpb24gUXVldWVkUHJvZ3Jlc3MoeyBzY2hlZHVsZVRpbWUsIHN0YXJ0VGltZSB9OiB7IHNjaGVkdWxlVGltZTogbnVtYmVyOyBzdGFydFRpbWU6IG51bWJlciB9KSB7XG4gIGNvbnN0IHBjdCA9ICgoKSA9PiB7XG4gICAgY29uc3QgY3R4ID0gYXVkaW9TZXJ2aWNlLmF1ZGlvQ3R4XG4gICAgaWYgKCFjdHgpIHJldHVybiAwXG4gICAgY29uc3Qgbm93ID0gY3R4LmN1cnJlbnRUaW1lXG4gICAgY29uc3QgdG90YWwgPSBNYXRoLm1heCgwLjAwMSwgc2NoZWR1bGVUaW1lIC0gc3RhcnRUaW1lKVxuICAgIGNvbnN0IGVsYXBzZWQgPSBNYXRoLm1heCgwLCBub3cgLSBzdGFydFRpbWUpXG4gICAgY29uc3QgcCA9IE1hdGgubWluKDEsIGVsYXBzZWQgLyB0b3RhbClcbiAgICByZXR1cm4gTWF0aC5yb3VuZChwICogMTAwKVxuICB9KSgpXG4gIHJldHVybiAoXG4gICAgPHNwYW4gYXJpYS1sYWJlbD1cIlF1ZXVlZFwiIHRpdGxlPVwiUXVldWVkXCIgZGF0YS10ZXN0aWQ9XCJxdWV1ZWQtcHJvZ3Jlc3NcIiBzdHlsZT17eyBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJywgd2lkdGg6IDYwLCBoZWlnaHQ6IDYsIGJhY2tncm91bmQ6ICcjZWVlJywgYm9yZGVyUmFkaXVzOiA0LCBvdmVyZmxvdzogJ2hpZGRlbicgfX0+XG4gICAgICA8c3BhbiBzdHlsZT17eyBkaXNwbGF5OiAnYmxvY2snLCB3aWR0aDogYCR7cGN0fSVgLCBoZWlnaHQ6ICcxMDAlJywgYmFja2dyb3VuZDogJyM5OTknIH19IC8+XG4gICAgPC9zcGFuPlxuICApXG59XG4iXSwibmFtZXMiOlsiYXVkaW9TZXJ2aWNlIiwidXNlUGFydHNTdG9yZSIsIkFzc2lnbmVkSW5zdHJ1bWVudCIsImluc3QiLCJzb2xvSW5zdGFuY2VJZCIsInNldFBhcnRzIiwic2V0U29sb0luc3RhbmNlSWQiLCJwYXJ0cyIsImlzU29sb2VkIiwiaWQiLCJkaXYiLCJkYXRhLWluc3QtaWQiLCJkYXRhLXF1ZXVlZCIsImlzTG9hZGluZyIsInN0eWxlIiwiZGlzcGxheSIsImFsaWduSXRlbXMiLCJnYXAiLCJzcGFuIiwiZGF0YS10ZXN0aWQiLCJuYW1lIiwiaGFzRXJyb3IiLCJxdWV1ZVNjaGVkdWxlVGltZSIsInF1ZXVlU3RhcnRUaW1lIiwiUXVldWVkUHJvZ3Jlc3MiLCJzY2hlZHVsZVRpbWUiLCJzdGFydFRpbWUiLCJtYXJnaW5Ub3AiLCJsYWJlbCIsImZvbnRTaXplIiwiaW5wdXQiLCJ0eXBlIiwibWluIiwibWF4IiwidmFsdWUiLCJ2b2x1bWVCYWxhbmNlIiwib25DaGFuZ2UiLCJlIiwidmFsIiwiTnVtYmVyIiwidGFyZ2V0Iiwic2V0QmFzZUdhaW5WYWx1ZXMiLCJpc011dGVkIiwicHJldiIsIm1hcCIsInAiLCJhc3NpZ25lZEluc3RydW1lbnRzIiwiYWkiLCJidXR0b24iLCJvbkNsaWNrIiwibmV4dFNvbG8iLCJhbGwiLCJmbGF0TWFwIiwibXV0ZWQiLCJwY3QiLCJjdHgiLCJhdWRpb0N0eCIsIm5vdyIsImN1cnJlbnRUaW1lIiwidG90YWwiLCJNYXRoIiwiZWxhcHNlZCIsInJvdW5kIiwiYXJpYS1sYWJlbCIsInRpdGxlIiwid2lkdGgiLCJoZWlnaHQiLCJiYWNrZ3JvdW5kIiwiYm9yZGVyUmFkaXVzIiwib3ZlcmZsb3ciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/AssignedInstrument.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/BeatDebug.tsx":
/*!**************************************!*\
  !*** ./src/components/BeatDebug.tsx ***!
  \**************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ BeatDebug; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _hooks_usePartsStore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/hooks/usePartsStore */ \"(app-pages-browser)/./src/hooks/usePartsStore.ts\");\n/* harmony import */ var _lib_audio_AudioService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/audio/AudioService */ \"(app-pages-browser)/./src/lib/audio/AudioService.ts\");\n/* harmony import */ var _lib_audio_audioUtils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/audio/audioUtils */ \"(app-pages-browser)/./src/lib/audio/audioUtils.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\nfunction beatInLoop(beatIndex, tempo) {\n    const spb = (0,_lib_audio_audioUtils__WEBPACK_IMPORTED_MODULE_4__.secondsPerBeat)(tempo);\n    const bpl = Math.round((0,_lib_audio_audioUtils__WEBPACK_IMPORTED_MODULE_4__.loopDuration)(tempo) / spb);\n    const mod = (beatIndex % bpl + bpl) % bpl;\n    return {\n        beatInLoop: mod,\n        beatsPerLoop: bpl\n    };\n}\nfunction BeatDebug(param) {\n    let { scheduler } = param;\n    _s();\n    const store = (0,_hooks_usePartsStore__WEBPACK_IMPORTED_MODULE_2__.usePartsStore)();\n    const [now, setNow] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let raf = 0;\n        const tick = ()=>{\n            const ctx = _lib_audio_AudioService__WEBPACK_IMPORTED_MODULE_3__.audioService.audioCtx;\n            setNow(ctx ? ctx.currentTime : 0);\n            raf = requestAnimationFrame(tick);\n        };\n        raf = requestAnimationFrame(tick);\n        return ()=>cancelAnimationFrame(raf);\n    }, []);\n    const data = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        var _store_loopAnchorRef;\n        const tempo = store.currentTempoRef.current;\n        const playing = store.playStateRef.current;\n        var _store_loopAnchorRef_current;\n        // use audible loop anchor rather than nominal transport start\n        const transport = (_store_loopAnchorRef_current = (_store_loopAnchorRef = store.loopAnchorRef) === null || _store_loopAnchorRef === void 0 ? void 0 : _store_loopAnchorRef.current) !== null && _store_loopAnchorRef_current !== void 0 ? _store_loopAnchorRef_current : store.transportStartRef.current;\n        const spb = (0,_lib_audio_audioUtils__WEBPACK_IMPORTED_MODULE_4__.secondsPerBeat)(tempo);\n        let currentBeat = null;\n        if (playing && transport != null) {\n            currentBeat = (0,_lib_audio_audioUtils__WEBPACK_IMPORTED_MODULE_4__.computeCurrentBeatIndex)(now, transport, tempo);\n        }\n        const sched = (scheduler === null || scheduler === void 0 ? void 0 : scheduler.getScheduledTempoSwitch()) || null;\n        let nextBeatIdx = null;\n        let targetBeatIdx = null;\n        let targetTempo = null;\n        let etaMs = null;\n        let currentInLoop = null;\n        let targetInLoop = null;\n        if (playing && transport != null) {\n            // what would be the next beat on current grid\n            nextBeatIdx = Math.floor((now - transport) / spb) + 1;\n            currentInLoop = beatInLoop(nextBeatIdx, tempo);\n        }\n        if (sched && sched.scheduleTime && playing && transport != null) {\n            targetTempo = sched.targetTempo;\n            targetBeatIdx = nextBeatIdx;\n            const tspb = (0,_lib_audio_audioUtils__WEBPACK_IMPORTED_MODULE_4__.secondsPerBeat)(targetTempo);\n            targetInLoop = targetBeatIdx != null ? beatInLoop(targetBeatIdx, targetTempo) : null;\n            etaMs = Math.max(0, sched.scheduleTime - now) * 1000;\n        }\n        return {\n            tempo,\n            now,\n            spb,\n            currentBeat,\n            nextBeatIdx,\n            currentInLoop,\n            targetTempo,\n            targetBeatIdx,\n            targetInLoop,\n            etaMs\n        };\n    }, [\n        now,\n        scheduler,\n        store\n    ]);\n    var _data_currentBeat, _data_nextBeatIdx, _data_targetTempo, _data_targetBeatIdx;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            marginTop: 8,\n            padding: 8,\n            border: \"1px dashed #ccc\",\n            borderRadius: 8\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    fontWeight: 600,\n                    marginBottom: 4\n                },\n                children: \"Beat Debug\"\n            }, void 0, false, {\n                fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/BeatDebug.tsx\",\n                lineNumber: 69,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                children: [\n                    \"Now: tempo=\",\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                        children: _hooks_usePartsStore__WEBPACK_IMPORTED_MODULE_2__.usePartsStore.getState().tempo\n                    }, void 0, false, {\n                        fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/BeatDebug.tsx\",\n                        lineNumber: 71,\n                        columnNumber: 20\n                    }, this),\n                    \", currentBeat=\",\n                    (_data_currentBeat = data.currentBeat) !== null && _data_currentBeat !== void 0 ? _data_currentBeat : \"-\"\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/BeatDebug.tsx\",\n                lineNumber: 70,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                children: [\n                    \"Next beat (current grid): \",\n                    (_data_nextBeatIdx = data.nextBeatIdx) !== null && _data_nextBeatIdx !== void 0 ? _data_nextBeatIdx : \"-\",\n                    data.currentInLoop && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        children: [\n                            \" (in-loop \",\n                            data.currentInLoop.beatInLoop + 1,\n                            \")\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/BeatDebug.tsx\",\n                        lineNumber: 76,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/BeatDebug.tsx\",\n                lineNumber: 73,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                children: [\n                    \"Scheduled switch: \",\n                    (_data_targetTempo = data.targetTempo) !== null && _data_targetTempo !== void 0 ? _data_targetTempo : \"-\",\n                    \" \",\n                    data.etaMs != null ? \"(in \".concat(Math.round(data.etaMs), \"ms)\") : \"\"\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/BeatDebug.tsx\",\n                lineNumber: 79,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                children: [\n                    \"Target beat on switch: \",\n                    (_data_targetBeatIdx = data.targetBeatIdx) !== null && _data_targetBeatIdx !== void 0 ? _data_targetBeatIdx : \"-\",\n                    data.targetInLoop && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        children: [\n                            \" (in-loop \",\n                            data.targetInLoop.beatInLoop + 1,\n                            \")\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/BeatDebug.tsx\",\n                        lineNumber: 85,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/BeatDebug.tsx\",\n                lineNumber: 82,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/BeatDebug.tsx\",\n        lineNumber: 68,\n        columnNumber: 5\n    }, this);\n}\n_s(BeatDebug, \"cpkfE3uR2y/UXtPpMMB1ABV5K8Y=\", false, function() {\n    return [\n        _hooks_usePartsStore__WEBPACK_IMPORTED_MODULE_2__.usePartsStore\n    ];\n});\n_c = BeatDebug;\nvar _c;\n$RefreshReg$(_c, \"BeatDebug\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL0JlYXREZWJ1Zy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBRW9EO0FBQ0M7QUFDRTtBQUN1QztBQUk5RixTQUFTUSxXQUFXQyxTQUFpQixFQUFFQyxLQUFZO0lBQ2pELE1BQU1DLE1BQU1OLHFFQUFjQSxDQUFDSztJQUMzQixNQUFNRSxNQUFNQyxLQUFLQyxLQUFLLENBQUNSLG1FQUFZQSxDQUFDSSxTQUFTQztJQUM3QyxNQUFNSSxNQUFNLENBQUMsWUFBYUgsTUFBT0EsR0FBRSxJQUFLQTtJQUN4QyxPQUFPO1FBQUVKLFlBQVlPO1FBQUtDLGNBQWNKO0lBQUk7QUFDOUM7QUFFZSxTQUFTSyxVQUFVLEtBQTZDO1FBQTdDLEVBQUVDLFNBQVMsRUFBa0MsR0FBN0M7O0lBQ2hDLE1BQU1DLFFBQVFoQixtRUFBYUE7SUFDM0IsTUFBTSxDQUFDaUIsS0FBS0MsT0FBTyxHQUFHbkIsK0NBQVFBLENBQVM7SUFFdkNGLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSXNCLE1BQU07UUFDVixNQUFNQyxPQUFPO1lBQ1gsTUFBTUMsTUFBTXBCLGlFQUFZQSxDQUFDcUIsUUFBUTtZQUNqQ0osT0FBT0csTUFBTUEsSUFBSUUsV0FBVyxHQUFHO1lBQy9CSixNQUFNSyxzQkFBc0JKO1FBQzlCO1FBQ0FELE1BQU1LLHNCQUFzQko7UUFDNUIsT0FBTyxJQUFNSyxxQkFBcUJOO0lBQ3BDLEdBQUcsRUFBRTtJQUVMLE1BQU1PLE9BQU81Qiw4Q0FBT0EsQ0FBQztZQUlEO1FBSGxCLE1BQU1TLFFBQVFTLE1BQU1XLGVBQWUsQ0FBQ0MsT0FBTztRQUMzQyxNQUFNQyxVQUFVYixNQUFNYyxZQUFZLENBQUNGLE9BQU87WUFFeEI7UUFEbEIsOERBQThEO1FBQzlELE1BQU1HLFlBQVksOERBQWVDLGFBQWEsY0FBNUIsZ0VBQThCSixPQUFPLGNBQXJDLHlFQUF5Q1osTUFBTWlCLGlCQUFpQixDQUFDTCxPQUFPO1FBQzFGLE1BQU1wQixNQUFNTixxRUFBY0EsQ0FBQ0s7UUFDM0IsSUFBSTJCLGNBQWM7UUFDbEIsSUFBSUwsV0FBV0UsYUFBYSxNQUFNO1lBQ2hDRyxjQUFjOUIsOEVBQXVCQSxDQUFDYSxLQUFLYyxXQUFXeEI7UUFDeEQ7UUFFQSxNQUFNNEIsUUFBUXBCLENBQUFBLHNCQUFBQSxnQ0FBQUEsVUFBV3FCLHVCQUF1QixPQUFNO1FBQ3RELElBQUlDLGNBQWM7UUFDbEIsSUFBSUMsZ0JBQWdCO1FBQ3BCLElBQUlDLGNBQTRCO1FBQ2hDLElBQUlDLFFBQVE7UUFDWixJQUFJQyxnQkFBcUU7UUFDekUsSUFBSUMsZUFBb0U7UUFFeEUsSUFBSWIsV0FBV0UsYUFBYSxNQUFNO1lBQ2hDLDhDQUE4QztZQUM5Q00sY0FBYzNCLEtBQUtpQyxLQUFLLENBQUMsQ0FBQzFCLE1BQU1jLFNBQVEsSUFBS3ZCLE9BQU87WUFDcERpQyxnQkFBZ0JwQyxXQUFXZ0MsYUFBYTlCO1FBQzFDO1FBQ0EsSUFBSTRCLFNBQVNBLE1BQU1TLFlBQVksSUFBSWYsV0FBV0UsYUFBYSxNQUFNO1lBQy9EUSxjQUFjSixNQUFNSSxXQUFXO1lBQy9CRCxnQkFBZ0JEO1lBQ2hCLE1BQU1RLE9BQU8zQyxxRUFBY0EsQ0FBQ3FDO1lBQzVCRyxlQUFlSixpQkFBaUIsT0FBT2pDLFdBQVdpQyxlQUFlQyxlQUFlO1lBQ2hGQyxRQUFROUIsS0FBS29DLEdBQUcsQ0FBQyxHQUFHWCxNQUFNUyxZQUFZLEdBQUczQixPQUFPO1FBQ2xEO1FBRUEsT0FBTztZQUFFVjtZQUFPVTtZQUFLVDtZQUFLMEI7WUFBYUc7WUFBYUk7WUFBZUY7WUFBYUQ7WUFBZUk7WUFBY0Y7UUFBTTtJQUNySCxHQUFHO1FBQUN2QjtRQUFLRjtRQUFXQztLQUFNO1FBTXVEVSxtQkFHaERBLG1CQU1SQSxtQkFHS0E7SUFoQjlCLHFCQUNFLDhEQUFDcUI7UUFBSUMsT0FBTztZQUFFQyxXQUFXO1lBQUdDLFNBQVM7WUFBR0MsUUFBUTtZQUFtQkMsY0FBYztRQUFFOzswQkFDakYsOERBQUNMO2dCQUFJQyxPQUFPO29CQUFFSyxZQUFZO29CQUFLQyxjQUFjO2dCQUFFOzBCQUFHOzs7Ozs7MEJBQ2xELDhEQUFDUDs7b0JBQUk7a0NBQ1EsOERBQUNRO2tDQUFRdkQsK0RBQWFBLENBQUN3RCxRQUFRLEdBQUdqRCxLQUFLOzs7Ozs7b0JBQVU7b0JBQWVtQixDQUFBQSxvQkFBQUEsS0FBS1EsV0FBVyxjQUFoQlIsK0JBQUFBLG9CQUFvQjs7Ozs7OzswQkFFakcsOERBQUNxQjs7b0JBQUk7b0JBQ3dCckIsQ0FBQUEsb0JBQUFBLEtBQUtXLFdBQVcsY0FBaEJYLCtCQUFBQSxvQkFBb0I7b0JBQzlDQSxLQUFLZSxhQUFhLGtCQUNqQiw4REFBQ2dCOzs0QkFBSzs0QkFBVy9CLEtBQUtlLGFBQWEsQ0FBQ3BDLFVBQVUsR0FBRzs0QkFBRTs7Ozs7Ozs7Ozs7OzswQkFHdkQsOERBQUMwQzs7b0JBQUk7b0JBQ2dCckIsQ0FBQUEsb0JBQUFBLEtBQUthLFdBQVcsY0FBaEJiLCtCQUFBQSxvQkFBb0I7b0JBQUk7b0JBQUVBLEtBQUtjLEtBQUssSUFBSSxPQUFPLE9BQThCLE9BQXZCOUIsS0FBS0MsS0FBSyxDQUFDZSxLQUFLYyxLQUFLLEdBQUUsU0FBTzs7Ozs7OzswQkFFekcsOERBQUNPOztvQkFBSTtvQkFDcUJyQixDQUFBQSxzQkFBQUEsS0FBS1ksYUFBYSxjQUFsQlosaUNBQUFBLHNCQUFzQjtvQkFDN0NBLEtBQUtnQixZQUFZLGtCQUNoQiw4REFBQ2U7OzRCQUFLOzRCQUFXL0IsS0FBS2dCLFlBQVksQ0FBQ3JDLFVBQVUsR0FBRzs0QkFBRTs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUs1RDtHQXpFd0JTOztRQUNSZCwrREFBYUE7OztLQURMYyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvY29tcG9uZW50cy9CZWF0RGVidWcudHN4PzZmYjMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnXG5cbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IHVzZVBhcnRzU3RvcmUgfSBmcm9tICdAL2hvb2tzL3VzZVBhcnRzU3RvcmUnXG5pbXBvcnQgeyBhdWRpb1NlcnZpY2UgfSBmcm9tICdAL2xpYi9hdWRpby9BdWRpb1NlcnZpY2UnXG5pbXBvcnQgeyBzZWNvbmRzUGVyQmVhdCwgbG9vcER1cmF0aW9uLCBjb21wdXRlQ3VycmVudEJlYXRJbmRleCB9IGZyb20gJ0AvbGliL2F1ZGlvL2F1ZGlvVXRpbHMnXG5pbXBvcnQgdHlwZSB7IFRlbXBvIH0gZnJvbSAnQC9saWIvdHlwZXMnXG5pbXBvcnQgdHlwZSB7IEF1ZGlvU2NoZWR1bGVyIH0gZnJvbSAnQC9saWIvYXVkaW8vQXVkaW9TY2hlZHVsZXInXG5cbmZ1bmN0aW9uIGJlYXRJbkxvb3AoYmVhdEluZGV4OiBudW1iZXIsIHRlbXBvOiBUZW1wbykge1xuICBjb25zdCBzcGIgPSBzZWNvbmRzUGVyQmVhdCh0ZW1wbylcbiAgY29uc3QgYnBsID0gTWF0aC5yb3VuZChsb29wRHVyYXRpb24odGVtcG8pIC8gc3BiKVxuICBjb25zdCBtb2QgPSAoKGJlYXRJbmRleCAlIGJwbCkgKyBicGwpICUgYnBsXG4gIHJldHVybiB7IGJlYXRJbkxvb3A6IG1vZCwgYmVhdHNQZXJMb29wOiBicGwgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBCZWF0RGVidWcoeyBzY2hlZHVsZXIgfTogeyBzY2hlZHVsZXI/OiBBdWRpb1NjaGVkdWxlciB9KSB7XG4gIGNvbnN0IHN0b3JlID0gdXNlUGFydHNTdG9yZSgpXG4gIGNvbnN0IFtub3csIHNldE5vd10gPSB1c2VTdGF0ZTxudW1iZXI+KDApXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsZXQgcmFmID0gMFxuICAgIGNvbnN0IHRpY2sgPSAoKSA9PiB7XG4gICAgICBjb25zdCBjdHggPSBhdWRpb1NlcnZpY2UuYXVkaW9DdHhcbiAgICAgIHNldE5vdyhjdHggPyBjdHguY3VycmVudFRpbWUgOiAwKVxuICAgICAgcmFmID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRpY2spXG4gICAgfVxuICAgIHJhZiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aWNrKVxuICAgIHJldHVybiAoKSA9PiBjYW5jZWxBbmltYXRpb25GcmFtZShyYWYpXG4gIH0sIFtdKVxuXG4gIGNvbnN0IGRhdGEgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCB0ZW1wbyA9IHN0b3JlLmN1cnJlbnRUZW1wb1JlZi5jdXJyZW50XG4gICAgY29uc3QgcGxheWluZyA9IHN0b3JlLnBsYXlTdGF0ZVJlZi5jdXJyZW50XG4gICAgLy8gdXNlIGF1ZGlibGUgbG9vcCBhbmNob3IgcmF0aGVyIHRoYW4gbm9taW5hbCB0cmFuc3BvcnQgc3RhcnRcbiAgICBjb25zdCB0cmFuc3BvcnQgPSAoc3RvcmUgYXMgYW55KS5sb29wQW5jaG9yUmVmPy5jdXJyZW50ID8/IHN0b3JlLnRyYW5zcG9ydFN0YXJ0UmVmLmN1cnJlbnRcbiAgICBjb25zdCBzcGIgPSBzZWNvbmRzUGVyQmVhdCh0ZW1wbylcbiAgICBsZXQgY3VycmVudEJlYXQgPSBudWxsIGFzIG51bWJlciB8IG51bGxcbiAgICBpZiAocGxheWluZyAmJiB0cmFuc3BvcnQgIT0gbnVsbCkge1xuICAgICAgY3VycmVudEJlYXQgPSBjb21wdXRlQ3VycmVudEJlYXRJbmRleChub3csIHRyYW5zcG9ydCwgdGVtcG8pXG4gICAgfVxuXG4gICAgY29uc3Qgc2NoZWQgPSBzY2hlZHVsZXI/LmdldFNjaGVkdWxlZFRlbXBvU3dpdGNoKCkgfHwgbnVsbFxuICAgIGxldCBuZXh0QmVhdElkeCA9IG51bGwgYXMgbnVtYmVyIHwgbnVsbFxuICAgIGxldCB0YXJnZXRCZWF0SWR4ID0gbnVsbCBhcyBudW1iZXIgfCBudWxsXG4gICAgbGV0IHRhcmdldFRlbXBvOiBUZW1wbyB8IG51bGwgPSBudWxsXG4gICAgbGV0IGV0YU1zID0gbnVsbCBhcyBudW1iZXIgfCBudWxsXG4gICAgbGV0IGN1cnJlbnRJbkxvb3A6IHsgYmVhdEluTG9vcDogbnVtYmVyOyBiZWF0c1Blckxvb3A6IG51bWJlciB9IHwgbnVsbCA9IG51bGxcbiAgICBsZXQgdGFyZ2V0SW5Mb29wOiB7IGJlYXRJbkxvb3A6IG51bWJlcjsgYmVhdHNQZXJMb29wOiBudW1iZXIgfSB8IG51bGwgPSBudWxsXG5cbiAgICBpZiAocGxheWluZyAmJiB0cmFuc3BvcnQgIT0gbnVsbCkge1xuICAgICAgLy8gd2hhdCB3b3VsZCBiZSB0aGUgbmV4dCBiZWF0IG9uIGN1cnJlbnQgZ3JpZFxuICAgICAgbmV4dEJlYXRJZHggPSBNYXRoLmZsb29yKChub3cgLSB0cmFuc3BvcnQpIC8gc3BiKSArIDFcbiAgICAgIGN1cnJlbnRJbkxvb3AgPSBiZWF0SW5Mb29wKG5leHRCZWF0SWR4LCB0ZW1wbylcbiAgICB9XG4gICAgaWYgKHNjaGVkICYmIHNjaGVkLnNjaGVkdWxlVGltZSAmJiBwbGF5aW5nICYmIHRyYW5zcG9ydCAhPSBudWxsKSB7XG4gICAgICB0YXJnZXRUZW1wbyA9IHNjaGVkLnRhcmdldFRlbXBvXG4gICAgICB0YXJnZXRCZWF0SWR4ID0gbmV4dEJlYXRJZHhcbiAgICAgIGNvbnN0IHRzcGIgPSBzZWNvbmRzUGVyQmVhdCh0YXJnZXRUZW1wbylcbiAgICAgIHRhcmdldEluTG9vcCA9IHRhcmdldEJlYXRJZHggIT0gbnVsbCA/IGJlYXRJbkxvb3AodGFyZ2V0QmVhdElkeCwgdGFyZ2V0VGVtcG8pIDogbnVsbFxuICAgICAgZXRhTXMgPSBNYXRoLm1heCgwLCBzY2hlZC5zY2hlZHVsZVRpbWUgLSBub3cpICogMTAwMFxuICAgIH1cblxuICAgIHJldHVybiB7IHRlbXBvLCBub3csIHNwYiwgY3VycmVudEJlYXQsIG5leHRCZWF0SWR4LCBjdXJyZW50SW5Mb29wLCB0YXJnZXRUZW1wbywgdGFyZ2V0QmVhdElkeCwgdGFyZ2V0SW5Mb29wLCBldGFNcyB9XG4gIH0sIFtub3csIHNjaGVkdWxlciwgc3RvcmVdKVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Ub3A6IDgsIHBhZGRpbmc6IDgsIGJvcmRlcjogJzFweCBkYXNoZWQgI2NjYycsIGJvcmRlclJhZGl1czogOCB9fT5cbiAgICAgIDxkaXYgc3R5bGU9e3sgZm9udFdlaWdodDogNjAwLCBtYXJnaW5Cb3R0b206IDQgfX0+QmVhdCBEZWJ1ZzwvZGl2PlxuICAgICAgPGRpdj5cbiAgICAgICAgTm93OiB0ZW1wbz08c3Ryb25nPnt1c2VQYXJ0c1N0b3JlLmdldFN0YXRlKCkudGVtcG99PC9zdHJvbmc+LCBjdXJyZW50QmVhdD17ZGF0YS5jdXJyZW50QmVhdCA/PyAnLSd9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXY+XG4gICAgICAgIE5leHQgYmVhdCAoY3VycmVudCBncmlkKToge2RhdGEubmV4dEJlYXRJZHggPz8gJy0nfVxuICAgICAgICB7ZGF0YS5jdXJyZW50SW5Mb29wICYmIChcbiAgICAgICAgICA8c3Bhbj4gKGluLWxvb3Age2RhdGEuY3VycmVudEluTG9vcC5iZWF0SW5Mb29wICsgMX0pPC9zcGFuPlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2PlxuICAgICAgICBTY2hlZHVsZWQgc3dpdGNoOiB7ZGF0YS50YXJnZXRUZW1wbyA/PyAnLSd9IHtkYXRhLmV0YU1zICE9IG51bGwgPyBgKGluICR7TWF0aC5yb3VuZChkYXRhLmV0YU1zKX1tcylgIDogJyd9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXY+XG4gICAgICAgIFRhcmdldCBiZWF0IG9uIHN3aXRjaDoge2RhdGEudGFyZ2V0QmVhdElkeCA/PyAnLSd9XG4gICAgICAgIHtkYXRhLnRhcmdldEluTG9vcCAmJiAoXG4gICAgICAgICAgPHNwYW4+IChpbi1sb29wIHtkYXRhLnRhcmdldEluTG9vcC5iZWF0SW5Mb29wICsgMX0pPC9zcGFuPlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwidXNlU3RhdGUiLCJ1c2VQYXJ0c1N0b3JlIiwiYXVkaW9TZXJ2aWNlIiwic2Vjb25kc1BlckJlYXQiLCJsb29wRHVyYXRpb24iLCJjb21wdXRlQ3VycmVudEJlYXRJbmRleCIsImJlYXRJbkxvb3AiLCJiZWF0SW5kZXgiLCJ0ZW1wbyIsInNwYiIsImJwbCIsIk1hdGgiLCJyb3VuZCIsIm1vZCIsImJlYXRzUGVyTG9vcCIsIkJlYXREZWJ1ZyIsInNjaGVkdWxlciIsInN0b3JlIiwibm93Iiwic2V0Tm93IiwicmFmIiwidGljayIsImN0eCIsImF1ZGlvQ3R4IiwiY3VycmVudFRpbWUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImRhdGEiLCJjdXJyZW50VGVtcG9SZWYiLCJjdXJyZW50IiwicGxheWluZyIsInBsYXlTdGF0ZVJlZiIsInRyYW5zcG9ydCIsImxvb3BBbmNob3JSZWYiLCJ0cmFuc3BvcnRTdGFydFJlZiIsImN1cnJlbnRCZWF0Iiwic2NoZWQiLCJnZXRTY2hlZHVsZWRUZW1wb1N3aXRjaCIsIm5leHRCZWF0SWR4IiwidGFyZ2V0QmVhdElkeCIsInRhcmdldFRlbXBvIiwiZXRhTXMiLCJjdXJyZW50SW5Mb29wIiwidGFyZ2V0SW5Mb29wIiwiZmxvb3IiLCJzY2hlZHVsZVRpbWUiLCJ0c3BiIiwibWF4IiwiZGl2Iiwic3R5bGUiLCJtYXJnaW5Ub3AiLCJwYWRkaW5nIiwiYm9yZGVyIiwiYm9yZGVyUmFkaXVzIiwiZm9udFdlaWdodCIsIm1hcmdpbkJvdHRvbSIsInN0cm9uZyIsImdldFN0YXRlIiwic3BhbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/BeatDebug.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/InstrumentList.tsx":
/*!*******************************************!*\
  !*** ./src/components/InstrumentList.tsx ***!
  \*******************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ InstrumentList; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var _lib_instruments__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/instruments */ \"(app-pages-browser)/./src/lib/instruments.ts\");\n/* harmony import */ var _hooks_usePartsStore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/hooks/usePartsStore */ \"(app-pages-browser)/./src/hooks/usePartsStore.ts\");\n/* harmony import */ var _hooks_useAssignments__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/hooks/useAssignments */ \"(app-pages-browser)/./src/hooks/useAssignments.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\nfunction InstrumentList() {\n    _s();\n    const { selectedInstrument, setSelectedInstrument } = (0,_hooks_usePartsStore__WEBPACK_IMPORTED_MODULE_2__.usePartsStore)();\n    const { addInstrument } = (0,_hooks_useAssignments__WEBPACK_IMPORTED_MODULE_3__.useAssignments)();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                children: \"Instruments\"\n            }, void 0, false, {\n                fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/InstrumentList.tsx\",\n                lineNumber: 13,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                style: {\n                    color: \"#777\"\n                },\n                children: \"Drag to a part or tap to select, then tap a part.\"\n            }, void 0, false, {\n                fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/InstrumentList.tsx\",\n                lineNumber: 14,\n                columnNumber: 7\n            }, this),\n            _lib_instruments__WEBPACK_IMPORTED_MODULE_1__.PARTS.map((partId)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        marginTop: 8\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                fontWeight: 600,\n                                marginBottom: 4,\n                                textTransform: \"capitalize\"\n                            },\n                            children: partId\n                        }, void 0, false, {\n                            fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/InstrumentList.tsx\",\n                            lineNumber: 17,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                            style: {\n                                margin: 0,\n                                paddingLeft: 16\n                            },\n                            children: _lib_instruments__WEBPACK_IMPORTED_MODULE_1__.INSTRUMENTS_BY_PART[partId].map((inst)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        draggable: true,\n                                        onDragStart: (e)=>{\n                                            e.dataTransfer.setData(\"text/partId\", partId);\n                                            e.dataTransfer.setData(\"text/instrumentId\", inst.id);\n                                            e.dataTransfer.setData(\"text/instrumentName\", inst.name);\n                                        },\n                                        onClick: ()=>setSelectedInstrument({\n                                                id: \"\".concat(partId, \":\").concat(inst.id),\n                                                name: inst.name\n                                            }),\n                                        \"aria-pressed\": (selectedInstrument === null || selectedInstrument === void 0 ? void 0 : selectedInstrument.id) === \"\".concat(partId, \":\").concat(inst.id),\n                                        style: {\n                                            border: (selectedInstrument === null || selectedInstrument === void 0 ? void 0 : selectedInstrument.id) === \"\".concat(partId, \":\").concat(inst.id) ? \"2px solid #333\" : \"1px solid #ccc\",\n                                            padding: \"4px 8px\",\n                                            borderRadius: 6,\n                                            background: \"#fff\",\n                                            cursor: \"pointer\"\n                                        },\n                                        children: inst.name\n                                    }, void 0, false, {\n                                        fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/InstrumentList.tsx\",\n                                        lineNumber: 21,\n                                        columnNumber: 17\n                                    }, this)\n                                }, \"\".concat(partId, \"-\").concat(inst.id), false, {\n                                    fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/InstrumentList.tsx\",\n                                    lineNumber: 20,\n                                    columnNumber: 15\n                                }, this))\n                        }, void 0, false, {\n                            fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/InstrumentList.tsx\",\n                            lineNumber: 18,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, partId, true, {\n                    fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/InstrumentList.tsx\",\n                    lineNumber: 16,\n                    columnNumber: 9\n                }, this))\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/InstrumentList.tsx\",\n        lineNumber: 12,\n        columnNumber: 5\n    }, this);\n}\n_s(InstrumentList, \"LcB5izV6ZQQV+k44siP7bVhF+C4=\", false, function() {\n    return [\n        _hooks_usePartsStore__WEBPACK_IMPORTED_MODULE_2__.usePartsStore,\n        _hooks_useAssignments__WEBPACK_IMPORTED_MODULE_3__.useAssignments\n    ];\n});\n_c = InstrumentList;\nvar _c;\n$RefreshReg$(_c, \"InstrumentList\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL0luc3RydW1lbnRMaXN0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBRThEO0FBQ1Q7QUFDRTtBQUV4QyxTQUFTSTs7SUFDdEIsTUFBTSxFQUFFQyxrQkFBa0IsRUFBRUMscUJBQXFCLEVBQUUsR0FBR0osbUVBQWFBO0lBQ25FLE1BQU0sRUFBRUssYUFBYSxFQUFFLEdBQUdKLHFFQUFjQTtJQUV4QyxxQkFDRSw4REFBQ0s7OzBCQUNDLDhEQUFDQzswQkFBRzs7Ozs7OzBCQUNKLDhEQUFDQztnQkFBRUMsT0FBTztvQkFBRUMsT0FBTztnQkFBTzswQkFBRzs7Ozs7O1lBQzVCWCxtREFBS0EsQ0FBQ1ksR0FBRyxDQUFDQyxDQUFBQSx1QkFDVCw4REFBQ047b0JBQWlCRyxPQUFPO3dCQUFFSSxXQUFXO29CQUFFOztzQ0FDdEMsOERBQUNQOzRCQUFJRyxPQUFPO2dDQUFFSyxZQUFZO2dDQUFLQyxjQUFjO2dDQUFHQyxlQUFlOzRCQUFhO3NDQUFJSjs7Ozs7O3NDQUNoRiw4REFBQ0s7NEJBQUdSLE9BQU87Z0NBQUVTLFFBQVE7Z0NBQUdDLGFBQWE7NEJBQUc7c0NBQ3JDckIsaUVBQW1CLENBQUNjLE9BQU8sQ0FBQ0QsR0FBRyxDQUFDUyxDQUFBQSxxQkFDL0IsOERBQUNDOzhDQUNDLDRFQUFDQzt3Q0FDQ0MsU0FBUzt3Q0FDVEMsYUFBYUMsQ0FBQUE7NENBQ1hBLEVBQUVDLFlBQVksQ0FBQ0MsT0FBTyxDQUFDLGVBQWVmOzRDQUN0Q2EsRUFBRUMsWUFBWSxDQUFDQyxPQUFPLENBQUMscUJBQXFCUCxLQUFLUSxFQUFFOzRDQUNuREgsRUFBRUMsWUFBWSxDQUFDQyxPQUFPLENBQUMsdUJBQXVCUCxLQUFLUyxJQUFJO3dDQUN6RDt3Q0FDQUMsU0FBUyxJQUFNMUIsc0JBQXNCO2dEQUFFd0IsSUFBSSxHQUFhUixPQUFWUixRQUFPLEtBQVcsT0FBUlEsS0FBS1EsRUFBRTtnREFBSUMsTUFBTVQsS0FBS1MsSUFBSTs0Q0FBQzt3Q0FDbkZFLGdCQUFjNUIsQ0FBQUEsK0JBQUFBLHlDQUFBQSxtQkFBb0J5QixFQUFFLE1BQUssR0FBYVIsT0FBVlIsUUFBTyxLQUFXLE9BQVJRLEtBQUtRLEVBQUU7d0NBQzdEbkIsT0FBTzs0Q0FDTHVCLFFBQVE3QixDQUFBQSwrQkFBQUEseUNBQUFBLG1CQUFvQnlCLEVBQUUsTUFBSyxHQUFhUixPQUFWUixRQUFPLEtBQVcsT0FBUlEsS0FBS1EsRUFBRSxJQUFLLG1CQUFtQjs0Q0FDL0VLLFNBQVM7NENBQ1RDLGNBQWM7NENBQ2RDLFlBQVk7NENBQ1pDLFFBQVE7d0NBQ1Y7a0RBRUNoQixLQUFLUyxJQUFJOzs7Ozs7bUNBbEJMLEdBQWFULE9BQVZSLFFBQU8sS0FBVyxPQUFSUSxLQUFLUSxFQUFFOzs7Ozs7Ozs7OzttQkFKekJoQjs7Ozs7Ozs7Ozs7QUErQmxCO0dBeEN3QlY7O1FBQ2dDRiwrREFBYUE7UUFDekNDLGlFQUFjQTs7O0tBRmxCQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvY29tcG9uZW50cy9JbnN0cnVtZW50TGlzdC50c3g/M2Y5NSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCdcblxuaW1wb3J0IHsgSU5TVFJVTUVOVFNfQllfUEFSVCwgUEFSVFMgfSBmcm9tICdAL2xpYi9pbnN0cnVtZW50cydcbmltcG9ydCB7IHVzZVBhcnRzU3RvcmUgfSBmcm9tICdAL2hvb2tzL3VzZVBhcnRzU3RvcmUnXG5pbXBvcnQgeyB1c2VBc3NpZ25tZW50cyB9IGZyb20gJ0AvaG9va3MvdXNlQXNzaWdubWVudHMnXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEluc3RydW1lbnRMaXN0KCkge1xuICBjb25zdCB7IHNlbGVjdGVkSW5zdHJ1bWVudCwgc2V0U2VsZWN0ZWRJbnN0cnVtZW50IH0gPSB1c2VQYXJ0c1N0b3JlKClcbiAgY29uc3QgeyBhZGRJbnN0cnVtZW50IH0gPSB1c2VBc3NpZ25tZW50cygpXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2PlxuICAgICAgPGgzPkluc3RydW1lbnRzPC9oMz5cbiAgICAgIDxwIHN0eWxlPXt7IGNvbG9yOiAnIzc3NycgfX0+RHJhZyB0byBhIHBhcnQgb3IgdGFwIHRvIHNlbGVjdCwgdGhlbiB0YXAgYSBwYXJ0LjwvcD5cbiAgICAgIHtQQVJUUy5tYXAocGFydElkID0+IChcbiAgICAgICAgPGRpdiBrZXk9e3BhcnRJZH0gc3R5bGU9e3sgbWFyZ2luVG9wOiA4IH19PlxuICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZm9udFdlaWdodDogNjAwLCBtYXJnaW5Cb3R0b206IDQsIHRleHRUcmFuc2Zvcm06ICdjYXBpdGFsaXplJyB9fT57cGFydElkfTwvZGl2PlxuICAgICAgICAgIDx1bCBzdHlsZT17eyBtYXJnaW46IDAsIHBhZGRpbmdMZWZ0OiAxNiB9fT5cbiAgICAgICAgICAgIHtJTlNUUlVNRU5UU19CWV9QQVJUW3BhcnRJZF0ubWFwKGluc3QgPT4gKFxuICAgICAgICAgICAgICA8bGkga2V5PXtgJHtwYXJ0SWR9LSR7aW5zdC5pZH1gfT5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBkcmFnZ2FibGVcbiAgICAgICAgICAgICAgICAgIG9uRHJhZ1N0YXJ0PXtlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZS5kYXRhVHJhbnNmZXIuc2V0RGF0YSgndGV4dC9wYXJ0SWQnLCBwYXJ0SWQpXG4gICAgICAgICAgICAgICAgICAgIGUuZGF0YVRyYW5zZmVyLnNldERhdGEoJ3RleHQvaW5zdHJ1bWVudElkJywgaW5zdC5pZClcbiAgICAgICAgICAgICAgICAgICAgZS5kYXRhVHJhbnNmZXIuc2V0RGF0YSgndGV4dC9pbnN0cnVtZW50TmFtZScsIGluc3QubmFtZSlcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTZWxlY3RlZEluc3RydW1lbnQoeyBpZDogYCR7cGFydElkfToke2luc3QuaWR9YCwgbmFtZTogaW5zdC5uYW1lIH0pfVxuICAgICAgICAgICAgICAgICAgYXJpYS1wcmVzc2VkPXtzZWxlY3RlZEluc3RydW1lbnQ/LmlkID09PSBgJHtwYXJ0SWR9OiR7aW5zdC5pZH1gfVxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBzZWxlY3RlZEluc3RydW1lbnQ/LmlkID09PSBgJHtwYXJ0SWR9OiR7aW5zdC5pZH1gID8gJzJweCBzb2xpZCAjMzMzJyA6ICcxcHggc29saWQgI2NjYycsXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICc0cHggOHB4JyxcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA2LFxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAnI2ZmZicsXG4gICAgICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtpbnN0Lm5hbWV9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L3VsPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICkpfVxuICAgIDwvZGl2PlxuICApXG59XG5cbiJdLCJuYW1lcyI6WyJJTlNUUlVNRU5UU19CWV9QQVJUIiwiUEFSVFMiLCJ1c2VQYXJ0c1N0b3JlIiwidXNlQXNzaWdubWVudHMiLCJJbnN0cnVtZW50TGlzdCIsInNlbGVjdGVkSW5zdHJ1bWVudCIsInNldFNlbGVjdGVkSW5zdHJ1bWVudCIsImFkZEluc3RydW1lbnQiLCJkaXYiLCJoMyIsInAiLCJzdHlsZSIsImNvbG9yIiwibWFwIiwicGFydElkIiwibWFyZ2luVG9wIiwiZm9udFdlaWdodCIsIm1hcmdpbkJvdHRvbSIsInRleHRUcmFuc2Zvcm0iLCJ1bCIsIm1hcmdpbiIsInBhZGRpbmdMZWZ0IiwiaW5zdCIsImxpIiwiYnV0dG9uIiwiZHJhZ2dhYmxlIiwib25EcmFnU3RhcnQiLCJlIiwiZGF0YVRyYW5zZmVyIiwic2V0RGF0YSIsImlkIiwibmFtZSIsIm9uQ2xpY2siLCJhcmlhLXByZXNzZWQiLCJib3JkZXIiLCJwYWRkaW5nIiwiYm9yZGVyUmFkaXVzIiwiYmFja2dyb3VuZCIsImN1cnNvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/InstrumentList.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/InteractiveListeningMap.tsx":
/*!****************************************************!*\
  !*** ./src/components/InteractiveListeningMap.tsx ***!
  \****************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ InteractiveListeningMap; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _PlayerControls__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PlayerControls */ \"(app-pages-browser)/./src/components/PlayerControls.tsx\");\n/* harmony import */ var _PartsGrid__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./PartsGrid */ \"(app-pages-browser)/./src/components/PartsGrid.tsx\");\n/* harmony import */ var _InstrumentList__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./InstrumentList */ \"(app-pages-browser)/./src/components/InstrumentList.tsx\");\n/* harmony import */ var _hooks_usePartsStore__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/hooks/usePartsStore */ \"(app-pages-browser)/./src/hooks/usePartsStore.ts\");\n/* harmony import */ var _lib_audio_AudioScheduler__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/lib/audio/AudioScheduler */ \"(app-pages-browser)/./src/lib/audio/AudioScheduler.ts\");\n/* harmony import */ var _hooks_useAudioInspector__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/hooks/useAudioInspector */ \"(app-pages-browser)/./src/hooks/useAudioInspector.ts\");\n/* harmony import */ var _BeatDebug__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./BeatDebug */ \"(app-pages-browser)/./src/components/BeatDebug.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\nfunction InteractiveListeningMap() {\n    _s();\n    const store = (0,_hooks_usePartsStore__WEBPACK_IMPORTED_MODULE_5__.usePartsStore)();\n    const scheduler = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>new _lib_audio_AudioScheduler__WEBPACK_IMPORTED_MODULE_6__.AudioScheduler({\n            partsRef: store.partsRef,\n            playStateRef: store.playStateRef,\n            transportStartRef: store.transportStartRef,\n            currentTempoRef: store.currentTempoRef,\n            deferredQueueRef: store.deferredQueueRef,\n            removedInstanceIdsRef: store.removedInstanceIdsRef,\n            nodeStartTimesRef: store.nodeStartTimesRef,\n            loopAnchorRef: store.loopAnchorRef,\n            setParts: store.setParts\n        }), []);\n    (0,_hooks_useAudioInspector__WEBPACK_IMPORTED_MODULE_7__.useAudioInspector)(scheduler);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            display: \"grid\",\n            gridTemplateColumns: \"260px 1fr\",\n            gap: 16,\n            padding: 16\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                        style: {\n                            margin: 0,\n                            fontSize: 20\n                        },\n                        children: \"Interactive Listening Map\"\n                    }, void 0, false, {\n                        fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/InteractiveListeningMap.tsx\",\n                        lineNumber: 34,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        style: {\n                            color: \"#555\"\n                        },\n                        children: \"Assign instruments to parts and play.\"\n                    }, void 0, false, {\n                        fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/InteractiveListeningMap.tsx\",\n                        lineNumber: 35,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_PlayerControls__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                        scheduler: scheduler\n                    }, void 0, false, {\n                        fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/InteractiveListeningMap.tsx\",\n                        lineNumber: 36,\n                        columnNumber: 3\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_BeatDebug__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                        scheduler: scheduler\n                    }, void 0, false, {\n                        fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/InteractiveListeningMap.tsx\",\n                        lineNumber: 37,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_InstrumentList__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {}, void 0, false, {\n                        fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/InteractiveListeningMap.tsx\",\n                        lineNumber: 38,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/InteractiveListeningMap.tsx\",\n                lineNumber: 33,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_PartsGrid__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {}, void 0, false, {\n                    fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/InteractiveListeningMap.tsx\",\n                    lineNumber: 41,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/InteractiveListeningMap.tsx\",\n                lineNumber: 40,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/InteractiveListeningMap.tsx\",\n        lineNumber: 32,\n        columnNumber: 5\n    }, this);\n}\n_s(InteractiveListeningMap, \"L1LYKVvpjVV3yoIvVouc576u9ds=\", false, function() {\n    return [\n        _hooks_usePartsStore__WEBPACK_IMPORTED_MODULE_5__.usePartsStore,\n        _hooks_useAudioInspector__WEBPACK_IMPORTED_MODULE_7__.useAudioInspector\n    ];\n});\n_c = InteractiveListeningMap;\nvar _c;\n$RefreshReg$(_c, \"InteractiveListeningMap\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL0ludGVyYWN0aXZlTGlzdGVuaW5nTWFwLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBRTBDO0FBQ0c7QUFDVjtBQUNVO0FBQ1E7QUFDTTtBQUNFO0FBQzFCO0FBRXBCLFNBQVNROztJQUN0QixNQUFNQyxRQUFRTCxtRUFBYUE7SUFDM0IsTUFBTU0sWUFBWVYsOENBQU9BLENBQ3ZCLElBQ0UsSUFBSUsscUVBQWNBLENBQUM7WUFDakJNLFVBQVVGLE1BQU1FLFFBQVE7WUFDeEJDLGNBQWNILE1BQU1HLFlBQVk7WUFDaENDLG1CQUFtQkosTUFBTUksaUJBQWlCO1lBQzFDQyxpQkFBaUJMLE1BQU1LLGVBQWU7WUFDdENDLGtCQUFrQk4sTUFBTU0sZ0JBQWdCO1lBQ3hDQyx1QkFBdUJQLE1BQU1PLHFCQUFxQjtZQUNsREMsbUJBQW1CUixNQUFNUSxpQkFBaUI7WUFDMUNDLGVBQWVULE1BQU1TLGFBQWE7WUFDbENDLFVBQVVWLE1BQU1VLFFBQVE7UUFDMUIsSUFDRixFQUFFO0lBRUpiLDJFQUFpQkEsQ0FBQ0k7SUFFbEIscUJBQ0UsOERBQUNVO1FBQUlDLE9BQU87WUFBRUMsU0FBUztZQUFRQyxxQkFBcUI7WUFBYUMsS0FBSztZQUFJQyxTQUFTO1FBQUc7OzBCQUNwRiw4REFBQ0w7O2tDQUNDLDhEQUFDTTt3QkFBR0wsT0FBTzs0QkFBRU0sUUFBUTs0QkFBR0MsVUFBVTt3QkFBRztrQ0FBRzs7Ozs7O2tDQUN4Qyw4REFBQ0M7d0JBQUVSLE9BQU87NEJBQUVTLE9BQU87d0JBQU87a0NBQUc7Ozs7OztrQ0FDbkMsOERBQUM3Qix1REFBY0E7d0JBQUNTLFdBQVdBOzs7Ozs7a0NBQ3JCLDhEQUFDSCxrREFBU0E7d0JBQUNHLFdBQVdBOzs7Ozs7a0NBQ3RCLDhEQUFDUCx1REFBY0E7Ozs7Ozs7Ozs7OzBCQUVqQiw4REFBQ2lCOzBCQUNDLDRFQUFDbEIsa0RBQVNBOzs7Ozs7Ozs7Ozs7Ozs7O0FBSWxCO0dBakN3Qk07O1FBQ1JKLCtEQUFhQTtRQWdCM0JFLHVFQUFpQkE7OztLQWpCS0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2NvbXBvbmVudHMvSW50ZXJhY3RpdmVMaXN0ZW5pbmdNYXAudHN4PzE0NTciXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnXG5cbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlTWVtbyB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IFBsYXllckNvbnRyb2xzIGZyb20gJy4vUGxheWVyQ29udHJvbHMnXG5pbXBvcnQgUGFydHNHcmlkIGZyb20gJy4vUGFydHNHcmlkJ1xuaW1wb3J0IEluc3RydW1lbnRMaXN0IGZyb20gJy4vSW5zdHJ1bWVudExpc3QnXG5pbXBvcnQgeyB1c2VQYXJ0c1N0b3JlIH0gZnJvbSAnQC9ob29rcy91c2VQYXJ0c1N0b3JlJ1xuaW1wb3J0IHsgQXVkaW9TY2hlZHVsZXIgfSBmcm9tICdAL2xpYi9hdWRpby9BdWRpb1NjaGVkdWxlcidcbmltcG9ydCB7IHVzZUF1ZGlvSW5zcGVjdG9yIH0gZnJvbSAnQC9ob29rcy91c2VBdWRpb0luc3BlY3RvcidcbmltcG9ydCBCZWF0RGVidWcgZnJvbSAnLi9CZWF0RGVidWcnXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEludGVyYWN0aXZlTGlzdGVuaW5nTWFwKCkge1xuICBjb25zdCBzdG9yZSA9IHVzZVBhcnRzU3RvcmUoKVxuICBjb25zdCBzY2hlZHVsZXIgPSB1c2VNZW1vKFxuICAgICgpID0+XG4gICAgICBuZXcgQXVkaW9TY2hlZHVsZXIoe1xuICAgICAgICBwYXJ0c1JlZjogc3RvcmUucGFydHNSZWYsXG4gICAgICAgIHBsYXlTdGF0ZVJlZjogc3RvcmUucGxheVN0YXRlUmVmLFxuICAgICAgICB0cmFuc3BvcnRTdGFydFJlZjogc3RvcmUudHJhbnNwb3J0U3RhcnRSZWYsXG4gICAgICAgIGN1cnJlbnRUZW1wb1JlZjogc3RvcmUuY3VycmVudFRlbXBvUmVmLFxuICAgICAgICBkZWZlcnJlZFF1ZXVlUmVmOiBzdG9yZS5kZWZlcnJlZFF1ZXVlUmVmLFxuICAgICAgICByZW1vdmVkSW5zdGFuY2VJZHNSZWY6IHN0b3JlLnJlbW92ZWRJbnN0YW5jZUlkc1JlZixcbiAgICAgICAgbm9kZVN0YXJ0VGltZXNSZWY6IHN0b3JlLm5vZGVTdGFydFRpbWVzUmVmLFxuICAgICAgICBsb29wQW5jaG9yUmVmOiBzdG9yZS5sb29wQW5jaG9yUmVmLFxuICAgICAgICBzZXRQYXJ0czogc3RvcmUuc2V0UGFydHNcbiAgICAgIH0pLFxuICAgIFtdXG4gIClcbiAgdXNlQXVkaW9JbnNwZWN0b3Ioc2NoZWR1bGVyKVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZ3JpZCcsIGdyaWRUZW1wbGF0ZUNvbHVtbnM6ICcyNjBweCAxZnInLCBnYXA6IDE2LCBwYWRkaW5nOiAxNiB9fT5cbiAgICAgIDxkaXY+XG4gICAgICAgIDxoMSBzdHlsZT17eyBtYXJnaW46IDAsIGZvbnRTaXplOiAyMCB9fT5JbnRlcmFjdGl2ZSBMaXN0ZW5pbmcgTWFwPC9oMT5cbiAgICAgICAgPHAgc3R5bGU9e3sgY29sb3I6ICcjNTU1JyB9fT5Bc3NpZ24gaW5zdHJ1bWVudHMgdG8gcGFydHMgYW5kIHBsYXkuPC9wPlxuICA8UGxheWVyQ29udHJvbHMgc2NoZWR1bGVyPXtzY2hlZHVsZXJ9IC8+XG4gICAgICAgIDxCZWF0RGVidWcgc2NoZWR1bGVyPXtzY2hlZHVsZXJ9IC8+XG4gICAgICAgIDxJbnN0cnVtZW50TGlzdCAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2PlxuICAgICAgICA8UGFydHNHcmlkIC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIl0sIm5hbWVzIjpbInVzZU1lbW8iLCJQbGF5ZXJDb250cm9scyIsIlBhcnRzR3JpZCIsIkluc3RydW1lbnRMaXN0IiwidXNlUGFydHNTdG9yZSIsIkF1ZGlvU2NoZWR1bGVyIiwidXNlQXVkaW9JbnNwZWN0b3IiLCJCZWF0RGVidWciLCJJbnRlcmFjdGl2ZUxpc3RlbmluZ01hcCIsInN0b3JlIiwic2NoZWR1bGVyIiwicGFydHNSZWYiLCJwbGF5U3RhdGVSZWYiLCJ0cmFuc3BvcnRTdGFydFJlZiIsImN1cnJlbnRUZW1wb1JlZiIsImRlZmVycmVkUXVldWVSZWYiLCJyZW1vdmVkSW5zdGFuY2VJZHNSZWYiLCJub2RlU3RhcnRUaW1lc1JlZiIsImxvb3BBbmNob3JSZWYiLCJzZXRQYXJ0cyIsImRpdiIsInN0eWxlIiwiZGlzcGxheSIsImdyaWRUZW1wbGF0ZUNvbHVtbnMiLCJnYXAiLCJwYWRkaW5nIiwiaDEiLCJtYXJnaW4iLCJmb250U2l6ZSIsInAiLCJjb2xvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/InteractiveListeningMap.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/PartCard.tsx":
/*!*************************************!*\
  !*** ./src/components/PartCard.tsx ***!
  \*************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ PartCard; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var _hooks_usePartsStore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/hooks/usePartsStore */ \"(app-pages-browser)/./src/hooks/usePartsStore.ts\");\n/* harmony import */ var _hooks_useAssignments__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/hooks/useAssignments */ \"(app-pages-browser)/./src/hooks/useAssignments.ts\");\n/* harmony import */ var _components_AssignedInstrument__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/AssignedInstrument */ \"(app-pages-browser)/./src/components/AssignedInstrument.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\nfunction PartCard(param) {\n    let { partId } = param;\n    _s();\n    const { parts } = (0,_hooks_usePartsStore__WEBPACK_IMPORTED_MODULE_1__.usePartsStore)();\n    const { addInstrument, removeInstrument } = (0,_hooks_useAssignments__WEBPACK_IMPORTED_MODULE_2__.useAssignments)();\n    const { selectedInstrument, setSelectedInstrument } = (0,_hooks_usePartsStore__WEBPACK_IMPORTED_MODULE_1__.usePartsStore)();\n    const part = parts.find((p)=>p.id === partId);\n    if (!part) return null;\n    const atCapacity = part.assignedInstruments.length >= 4;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        onDragOver: (e)=>e.preventDefault(),\n        onDrop: (e)=>{\n            const dropPartId = e.dataTransfer.getData(\"text/partId\");\n            const instrumentId = e.dataTransfer.getData(\"text/instrumentId\");\n            const instrumentName = e.dataTransfer.getData(\"text/instrumentName\");\n            if (dropPartId && instrumentId) {\n                // prevent duplicates and capacity\n                if (part.assignedInstruments.some((ai)=>ai.instrumentId === instrumentId)) return;\n                if (atCapacity) return;\n                addInstrument(partId, instrumentId, instrumentName);\n            }\n        },\n        onClick: ()=>{\n            if (selectedInstrument) {\n                const [selPart, instId] = selectedInstrument.id.split(\":\");\n                if (selPart === partId) {\n                    if (part.assignedInstruments.some((ai)=>ai.instrumentId === instId)) return;\n                    if (atCapacity) return;\n                    addInstrument(partId, instId, selectedInstrument.name);\n                    setSelectedInstrument(null);\n                }\n            }\n        },\n        style: {\n            border: \"1px solid #ddd\",\n            borderRadius: 8,\n            padding: 12,\n            opacity: atCapacity ? 0.6 : 1\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    fontWeight: 600,\n                    marginBottom: 8\n                },\n                \"data-testid\": \"part-\".concat(part.id),\n                children: [\n                    part.name,\n                    \" \",\n                    atCapacity ? \"(full)\" : \"\"\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/PartCard.tsx\",\n                lineNumber: 41,\n                columnNumber: 7\n            }, this),\n            part.assignedInstruments.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    color: \"#888\"\n                },\n                children: \"Drop or tap to add\"\n            }, void 0, false, {\n                fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/PartCard.tsx\",\n                lineNumber: 43,\n                columnNumber: 9\n            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                style: {\n                    margin: 0,\n                    paddingLeft: 16\n                },\n                children: part.assignedInstruments.map((inst)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                        style: {\n                            marginBottom: 8\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AssignedInstrument__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                inst: inst\n                            }, void 0, false, {\n                                fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/PartCard.tsx\",\n                                lineNumber: 48,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>removeInstrument(inst.id),\n                                \"aria-label\": \"Remove \".concat(inst.name),\n                                style: {\n                                    marginTop: 4\n                                },\n                                children: \"Remove\"\n                            }, void 0, false, {\n                                fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/PartCard.tsx\",\n                                lineNumber: 49,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, inst.id, true, {\n                        fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/PartCard.tsx\",\n                        lineNumber: 47,\n                        columnNumber: 13\n                    }, this))\n            }, void 0, false, {\n                fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/PartCard.tsx\",\n                lineNumber: 45,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/PartCard.tsx\",\n        lineNumber: 15,\n        columnNumber: 5\n    }, this);\n}\n_s(PartCard, \"6Beo008FiRpFTUXwsVp8G8sXAEI=\", false, function() {\n    return [\n        _hooks_usePartsStore__WEBPACK_IMPORTED_MODULE_1__.usePartsStore,\n        _hooks_useAssignments__WEBPACK_IMPORTED_MODULE_2__.useAssignments,\n        _hooks_usePartsStore__WEBPACK_IMPORTED_MODULE_1__.usePartsStore\n    ];\n});\n_c = PartCard;\nvar _c;\n$RefreshReg$(_c, \"PartCard\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL1BhcnRDYXJkLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBRXFEO0FBQ0U7QUFDUztBQUVqRCxTQUFTRyxTQUFTLEtBQW1FO1FBQW5FLEVBQUVDLE1BQU0sRUFBMkQsR0FBbkU7O0lBQy9CLE1BQU0sRUFBRUMsS0FBSyxFQUFFLEdBQUdMLG1FQUFhQTtJQUMvQixNQUFNLEVBQUVNLGFBQWEsRUFBRUMsZ0JBQWdCLEVBQUUsR0FBR04scUVBQWNBO0lBQzFELE1BQU0sRUFBRU8sa0JBQWtCLEVBQUVDLHFCQUFxQixFQUFFLEdBQUdULG1FQUFhQTtJQUNuRSxNQUFNVSxPQUFPTCxNQUFNTSxJQUFJLENBQUMsQ0FBQ0MsSUFBTUEsRUFBRUMsRUFBRSxLQUFLVDtJQUN4QyxJQUFJLENBQUNNLE1BQU0sT0FBTztJQUNsQixNQUFNSSxhQUFhSixLQUFLSyxtQkFBbUIsQ0FBQ0MsTUFBTSxJQUFJO0lBQ3RELHFCQUNFLDhEQUFDQztRQUNDQyxZQUFZQyxDQUFBQSxJQUFLQSxFQUFFQyxjQUFjO1FBQ2pDQyxRQUFRRixDQUFBQTtZQUNOLE1BQU1HLGFBQWFILEVBQUVJLFlBQVksQ0FBQ0MsT0FBTyxDQUFDO1lBQzFDLE1BQU1DLGVBQWVOLEVBQUVJLFlBQVksQ0FBQ0MsT0FBTyxDQUFDO1lBQzVDLE1BQU1FLGlCQUFpQlAsRUFBRUksWUFBWSxDQUFDQyxPQUFPLENBQUM7WUFDOUMsSUFBSUYsY0FBY0csY0FBYztnQkFDOUIsa0NBQWtDO2dCQUNsQyxJQUFJZixLQUFLSyxtQkFBbUIsQ0FBQ1ksSUFBSSxDQUFDQyxDQUFBQSxLQUFNQSxHQUFHSCxZQUFZLEtBQUtBLGVBQWU7Z0JBQzNFLElBQUlYLFlBQVk7Z0JBQ2hCUixjQUFjRixRQUFRcUIsY0FBY0M7WUFDdEM7UUFDRjtRQUNBRyxTQUFTO1lBQ1AsSUFBSXJCLG9CQUFvQjtnQkFDdEIsTUFBTSxDQUFDc0IsU0FBU0MsT0FBTyxHQUFHdkIsbUJBQW1CSyxFQUFFLENBQUNtQixLQUFLLENBQUM7Z0JBQ3RELElBQUlGLFlBQVkxQixRQUFRO29CQUN0QixJQUFJTSxLQUFLSyxtQkFBbUIsQ0FBQ1ksSUFBSSxDQUFDQyxDQUFBQSxLQUFNQSxHQUFHSCxZQUFZLEtBQUtNLFNBQVM7b0JBQ3JFLElBQUlqQixZQUFZO29CQUNoQlIsY0FBY0YsUUFBUTJCLFFBQVF2QixtQkFBbUJ5QixJQUFJO29CQUNyRHhCLHNCQUFzQjtnQkFDeEI7WUFDRjtRQUNGO1FBQ0F5QixPQUFPO1lBQUVDLFFBQVE7WUFBa0JDLGNBQWM7WUFBR0MsU0FBUztZQUFJQyxTQUFTeEIsYUFBYSxNQUFNO1FBQUU7OzBCQUUvRiw4REFBQ0c7Z0JBQUlpQixPQUFPO29CQUFFSyxZQUFZO29CQUFLQyxjQUFjO2dCQUFFO2dCQUFHQyxlQUFhLFFBQWdCLE9BQVIvQixLQUFLRyxFQUFFOztvQkFBS0gsS0FBS3VCLElBQUk7b0JBQUM7b0JBQUVuQixhQUFhLFdBQVc7Ozs7Ozs7WUFDdEhKLEtBQUtLLG1CQUFtQixDQUFDQyxNQUFNLEtBQUssa0JBQ25DLDhEQUFDQztnQkFBSWlCLE9BQU87b0JBQUVRLE9BQU87Z0JBQU87MEJBQUc7Ozs7O3FDQUUvQiw4REFBQ0M7Z0JBQUdULE9BQU87b0JBQUVVLFFBQVE7b0JBQUdDLGFBQWE7Z0JBQUc7MEJBQ3JDbkMsS0FBS0ssbUJBQW1CLENBQUMrQixHQUFHLENBQUMsQ0FBQ0MscUJBQzdCLDhEQUFDQzt3QkFBaUJkLE9BQU87NEJBQUVNLGNBQWM7d0JBQUU7OzBDQUN6Qyw4REFBQ3RDLHNFQUFrQkE7Z0NBQUM2QyxNQUFNQTs7Ozs7OzBDQUMxQiw4REFBQ0U7Z0NBQU9wQixTQUFTLElBQU10QixpQkFBaUJ3QyxLQUFLbEMsRUFBRTtnQ0FBR3FDLGNBQVksVUFBb0IsT0FBVkgsS0FBS2QsSUFBSTtnQ0FBSUMsT0FBTztvQ0FBRWlCLFdBQVc7Z0NBQUU7MENBQUc7Ozs7Ozs7dUJBRnZHSixLQUFLbEMsRUFBRTs7Ozs7Ozs7Ozs7Ozs7OztBQVM1QjtHQWpEd0JWOztRQUNKSCwrREFBYUE7UUFDYUMsaUVBQWNBO1FBQ0pELCtEQUFhQTs7O0tBSDdDRyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvY29tcG9uZW50cy9QYXJ0Q2FyZC50c3g/YTRiMSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCdcblxuaW1wb3J0IHsgdXNlUGFydHNTdG9yZSB9IGZyb20gJ0AvaG9va3MvdXNlUGFydHNTdG9yZSdcbmltcG9ydCB7IHVzZUFzc2lnbm1lbnRzIH0gZnJvbSAnQC9ob29rcy91c2VBc3NpZ25tZW50cydcbmltcG9ydCBBc3NpZ25lZEluc3RydW1lbnQgZnJvbSAnQC9jb21wb25lbnRzL0Fzc2lnbmVkSW5zdHJ1bWVudCdcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUGFydENhcmQoeyBwYXJ0SWQgfTogeyBwYXJ0SWQ6ICdtZWxvZHknIHwgJ2hhcm1vbnknIHwgJ3JoeXRobScgfCAndGV4dHVyZScgfSkge1xuICBjb25zdCB7IHBhcnRzIH0gPSB1c2VQYXJ0c1N0b3JlKClcbiAgY29uc3QgeyBhZGRJbnN0cnVtZW50LCByZW1vdmVJbnN0cnVtZW50IH0gPSB1c2VBc3NpZ25tZW50cygpXG4gIGNvbnN0IHsgc2VsZWN0ZWRJbnN0cnVtZW50LCBzZXRTZWxlY3RlZEluc3RydW1lbnQgfSA9IHVzZVBhcnRzU3RvcmUoKVxuICBjb25zdCBwYXJ0ID0gcGFydHMuZmluZCgocCkgPT4gcC5pZCA9PT0gcGFydElkKVxuICBpZiAoIXBhcnQpIHJldHVybiBudWxsXG4gIGNvbnN0IGF0Q2FwYWNpdHkgPSBwYXJ0LmFzc2lnbmVkSW5zdHJ1bWVudHMubGVuZ3RoID49IDRcbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBvbkRyYWdPdmVyPXtlID0+IGUucHJldmVudERlZmF1bHQoKX1cbiAgICAgIG9uRHJvcD17ZSA9PiB7XG4gICAgICAgIGNvbnN0IGRyb3BQYXJ0SWQgPSBlLmRhdGFUcmFuc2Zlci5nZXREYXRhKCd0ZXh0L3BhcnRJZCcpIGFzICdtZWxvZHknIHwgJ2hhcm1vbnknIHwgJ3JoeXRobScgfCAndGV4dHVyZSdcbiAgICAgICAgY29uc3QgaW5zdHJ1bWVudElkID0gZS5kYXRhVHJhbnNmZXIuZ2V0RGF0YSgndGV4dC9pbnN0cnVtZW50SWQnKVxuICAgICAgICBjb25zdCBpbnN0cnVtZW50TmFtZSA9IGUuZGF0YVRyYW5zZmVyLmdldERhdGEoJ3RleHQvaW5zdHJ1bWVudE5hbWUnKVxuICAgICAgICBpZiAoZHJvcFBhcnRJZCAmJiBpbnN0cnVtZW50SWQpIHtcbiAgICAgICAgICAvLyBwcmV2ZW50IGR1cGxpY2F0ZXMgYW5kIGNhcGFjaXR5XG4gICAgICAgICAgaWYgKHBhcnQuYXNzaWduZWRJbnN0cnVtZW50cy5zb21lKGFpID0+IGFpLmluc3RydW1lbnRJZCA9PT0gaW5zdHJ1bWVudElkKSkgcmV0dXJuXG4gICAgICAgICAgaWYgKGF0Q2FwYWNpdHkpIHJldHVyblxuICAgICAgICAgIGFkZEluc3RydW1lbnQocGFydElkLCBpbnN0cnVtZW50SWQsIGluc3RydW1lbnROYW1lKVxuICAgICAgICB9XG4gICAgICB9fVxuICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICBpZiAoc2VsZWN0ZWRJbnN0cnVtZW50KSB7XG4gICAgICAgICAgY29uc3QgW3NlbFBhcnQsIGluc3RJZF0gPSBzZWxlY3RlZEluc3RydW1lbnQuaWQuc3BsaXQoJzonKVxuICAgICAgICAgIGlmIChzZWxQYXJ0ID09PSBwYXJ0SWQpIHtcbiAgICAgICAgICAgIGlmIChwYXJ0LmFzc2lnbmVkSW5zdHJ1bWVudHMuc29tZShhaSA9PiBhaS5pbnN0cnVtZW50SWQgPT09IGluc3RJZCkpIHJldHVyblxuICAgICAgICAgICAgaWYgKGF0Q2FwYWNpdHkpIHJldHVyblxuICAgICAgICAgICAgYWRkSW5zdHJ1bWVudChwYXJ0SWQsIGluc3RJZCwgc2VsZWN0ZWRJbnN0cnVtZW50Lm5hbWUpXG4gICAgICAgICAgICBzZXRTZWxlY3RlZEluc3RydW1lbnQobnVsbClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH19XG4gICAgICBzdHlsZT17eyBib3JkZXI6ICcxcHggc29saWQgI2RkZCcsIGJvcmRlclJhZGl1czogOCwgcGFkZGluZzogMTIsIG9wYWNpdHk6IGF0Q2FwYWNpdHkgPyAwLjYgOiAxIH19XG4gICAgPlxuICAgICAgPGRpdiBzdHlsZT17eyBmb250V2VpZ2h0OiA2MDAsIG1hcmdpbkJvdHRvbTogOCB9fSBkYXRhLXRlc3RpZD17YHBhcnQtJHtwYXJ0LmlkfWB9PntwYXJ0Lm5hbWV9IHthdENhcGFjaXR5ID8gJyhmdWxsKScgOiAnJ308L2Rpdj5cbiAgICAgIHtwYXJ0LmFzc2lnbmVkSW5zdHJ1bWVudHMubGVuZ3RoID09PSAwID8gKFxuICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiAnIzg4OCcgfX0+RHJvcCBvciB0YXAgdG8gYWRkPC9kaXY+XG4gICAgICApIDogKFxuICAgICAgICA8dWwgc3R5bGU9e3sgbWFyZ2luOiAwLCBwYWRkaW5nTGVmdDogMTYgfX0+XG4gICAgICAgICAge3BhcnQuYXNzaWduZWRJbnN0cnVtZW50cy5tYXAoKGluc3QpID0+IChcbiAgICAgICAgICAgIDxsaSBrZXk9e2luc3QuaWR9IHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogOCB9fT5cbiAgICAgICAgICAgICAgPEFzc2lnbmVkSW5zdHJ1bWVudCBpbnN0PXtpbnN0fSAvPlxuICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHJlbW92ZUluc3RydW1lbnQoaW5zdC5pZCl9IGFyaWEtbGFiZWw9e2BSZW1vdmUgJHtpbnN0Lm5hbWV9YH0gc3R5bGU9e3sgbWFyZ2luVG9wOiA0IH19PlJlbW92ZTwvYnV0dG9uPlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC91bD5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gIClcbn1cbiJdLCJuYW1lcyI6WyJ1c2VQYXJ0c1N0b3JlIiwidXNlQXNzaWdubWVudHMiLCJBc3NpZ25lZEluc3RydW1lbnQiLCJQYXJ0Q2FyZCIsInBhcnRJZCIsInBhcnRzIiwiYWRkSW5zdHJ1bWVudCIsInJlbW92ZUluc3RydW1lbnQiLCJzZWxlY3RlZEluc3RydW1lbnQiLCJzZXRTZWxlY3RlZEluc3RydW1lbnQiLCJwYXJ0IiwiZmluZCIsInAiLCJpZCIsImF0Q2FwYWNpdHkiLCJhc3NpZ25lZEluc3RydW1lbnRzIiwibGVuZ3RoIiwiZGl2Iiwib25EcmFnT3ZlciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIm9uRHJvcCIsImRyb3BQYXJ0SWQiLCJkYXRhVHJhbnNmZXIiLCJnZXREYXRhIiwiaW5zdHJ1bWVudElkIiwiaW5zdHJ1bWVudE5hbWUiLCJzb21lIiwiYWkiLCJvbkNsaWNrIiwic2VsUGFydCIsImluc3RJZCIsInNwbGl0IiwibmFtZSIsInN0eWxlIiwiYm9yZGVyIiwiYm9yZGVyUmFkaXVzIiwicGFkZGluZyIsIm9wYWNpdHkiLCJmb250V2VpZ2h0IiwibWFyZ2luQm90dG9tIiwiZGF0YS10ZXN0aWQiLCJjb2xvciIsInVsIiwibWFyZ2luIiwicGFkZGluZ0xlZnQiLCJtYXAiLCJpbnN0IiwibGkiLCJidXR0b24iLCJhcmlhLWxhYmVsIiwibWFyZ2luVG9wIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/PartCard.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/PartsGrid.tsx":
/*!**************************************!*\
  !*** ./src/components/PartsGrid.tsx ***!
  \**************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ PartsGrid; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var _hooks_usePartsStore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/hooks/usePartsStore */ \"(app-pages-browser)/./src/hooks/usePartsStore.ts\");\n/* harmony import */ var _components_PartCard__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/PartCard */ \"(app-pages-browser)/./src/components/PartCard.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\nfunction PartsGrid() {\n    _s();\n    const { parts } = (0,_hooks_usePartsStore__WEBPACK_IMPORTED_MODULE_1__.usePartsStore)();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            display: \"grid\",\n            gridTemplateColumns: \"1fr 1fr\",\n            gap: 12\n        },\n        children: parts.map((p)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_PartCard__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                partId: p.id\n            }, p.id, false, {\n                fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/PartsGrid.tsx\",\n                lineNumber: 11,\n                columnNumber: 9\n            }, this))\n    }, void 0, false, {\n        fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/PartsGrid.tsx\",\n        lineNumber: 9,\n        columnNumber: 5\n    }, this);\n}\n_s(PartsGrid, \"vPjc/n7DsrHcio9ClayQBotTxBk=\", false, function() {\n    return [\n        _hooks_usePartsStore__WEBPACK_IMPORTED_MODULE_1__.usePartsStore\n    ];\n});\n_c = PartsGrid;\nvar _c;\n$RefreshReg$(_c, \"PartsGrid\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL1BhcnRzR3JpZC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBRXFEO0FBQ1Q7QUFFN0IsU0FBU0U7O0lBQ3RCLE1BQU0sRUFBRUMsS0FBSyxFQUFFLEdBQUdILG1FQUFhQTtJQUMvQixxQkFDRSw4REFBQ0k7UUFBSUMsT0FBTztZQUFFQyxTQUFTO1lBQVFDLHFCQUFxQjtZQUFXQyxLQUFLO1FBQUc7a0JBQ3BFTCxNQUFNTSxHQUFHLENBQUMsQ0FBQ0Msa0JBQ1YsOERBQUNULDREQUFRQTtnQkFBWVUsUUFBUUQsRUFBRUUsRUFBRTtlQUFsQkYsRUFBRUUsRUFBRTs7Ozs7Ozs7OztBQUkzQjtHQVR3QlY7O1FBQ0pGLCtEQUFhQTs7O0tBRFRFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9jb21wb25lbnRzL1BhcnRzR3JpZC50c3g/MGU4ZiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCdcblxuaW1wb3J0IHsgdXNlUGFydHNTdG9yZSB9IGZyb20gJ0AvaG9va3MvdXNlUGFydHNTdG9yZSdcbmltcG9ydCBQYXJ0Q2FyZCBmcm9tICdAL2NvbXBvbmVudHMvUGFydENhcmQnXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBhcnRzR3JpZCgpIHtcbiAgY29uc3QgeyBwYXJ0cyB9ID0gdXNlUGFydHNTdG9yZSgpXG4gIHJldHVybiAoXG4gICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZ3JpZCcsIGdyaWRUZW1wbGF0ZUNvbHVtbnM6ICcxZnIgMWZyJywgZ2FwOiAxMiB9fT5cbiAgICAgIHtwYXJ0cy5tYXAoKHApID0+IChcbiAgICAgICAgPFBhcnRDYXJkIGtleT17cC5pZH0gcGFydElkPXtwLmlkfSAvPlxuICAgICAgKSl9XG4gICAgPC9kaXY+XG4gIClcbn1cbiJdLCJuYW1lcyI6WyJ1c2VQYXJ0c1N0b3JlIiwiUGFydENhcmQiLCJQYXJ0c0dyaWQiLCJwYXJ0cyIsImRpdiIsInN0eWxlIiwiZGlzcGxheSIsImdyaWRUZW1wbGF0ZUNvbHVtbnMiLCJnYXAiLCJtYXAiLCJwIiwicGFydElkIiwiaWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/PartsGrid.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/PlayerControls.tsx":
/*!*******************************************!*\
  !*** ./src/components/PlayerControls.tsx ***!
  \*******************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ PlayerControls; },\n/* harmony export */   useSpaceToToggle: function() { return /* binding */ useSpaceToToggle; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _hooks_usePartsStore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/hooks/usePartsStore */ \"(app-pages-browser)/./src/hooks/usePartsStore.ts\");\n/* harmony import */ var _lib_audio_AudioService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/audio/AudioService */ \"(app-pages-browser)/./src/lib/audio/AudioService.ts\");\n/* harmony import */ var _hooks_useSpaceToggle__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/hooks/useSpaceToggle */ \"(app-pages-browser)/./src/hooks/useSpaceToggle.ts\");\n/* __next_internal_client_entry_do_not_use__ default,useSpaceToToggle auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\n\nfunction PlayerControls() {\n    let { scheduler } = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n    _s();\n    const { play, tempo, setPlay, setTempo, transportStartRef, currentTempoRef, setParts, deferredQueueRef } = (0,_hooks_usePartsStore__WEBPACK_IMPORTED_MODULE_2__.usePartsStore)();\n    const onToggle = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        _lib_audio_AudioService__WEBPACK_IMPORTED_MODULE_3__.audioService.initIfNeeded();\n        if (!_lib_audio_AudioService__WEBPACK_IMPORTED_MODULE_3__.audioService.audioCtx) return;\n        if (_lib_audio_AudioService__WEBPACK_IMPORTED_MODULE_3__.audioService.audioCtx.state === \"suspended\") await _lib_audio_AudioService__WEBPACK_IMPORTED_MODULE_3__.audioService.audioCtx.resume();\n        if (!play) {\n            setPlay(true);\n            transportStartRef.current = _lib_audio_AudioService__WEBPACK_IMPORTED_MODULE_3__.audioService.audioCtx.currentTime;\n            if (scheduler) scheduler.scheduleLoopStartIfNeeded();\n        } else {\n            setPlay(false);\n            _lib_audio_AudioService__WEBPACK_IMPORTED_MODULE_3__.audioService.stopAllActive(50);\n            scheduler === null || scheduler === void 0 ? void 0 : scheduler.stop();\n        }\n    }, [\n        play,\n        scheduler,\n        setPlay,\n        transportStartRef\n    ]);\n    (0,_hooks_useSpaceToggle__WEBPACK_IMPORTED_MODULE_4__.useSpaceToggle)(onToggle);\n    const onClear = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        // reset state and stop audio\n        setPlay(false);\n        _lib_audio_AudioService__WEBPACK_IMPORTED_MODULE_3__.audioService.stopAllActive(50);\n        transportStartRef.current = null;\n        currentTempoRef.current = \"fast\";\n        setTempo(\"fast\");\n        deferredQueueRef.current = [];\n        setParts(()=>[\n                {\n                    id: \"melody\",\n                    name: \"Melody\",\n                    assignedInstruments: []\n                },\n                {\n                    id: \"harmony\",\n                    name: \"Harmony\",\n                    assignedInstruments: []\n                },\n                {\n                    id: \"rhythm\",\n                    name: \"Rhythm\",\n                    assignedInstruments: []\n                },\n                {\n                    id: \"texture\",\n                    name: \"Texture\",\n                    assignedInstruments: []\n                }\n            ]);\n    }, [\n        setPlay,\n        transportStartRef,\n        currentTempoRef,\n        deferredQueueRef,\n        setParts\n    ]);\n    const onTempoChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (e)=>{\n        const t = e.target.value;\n        setTempo(t);\n        if (play && scheduler) {\n            await scheduler.scheduleTempoSwitch(t);\n        }\n    }, [\n        play,\n        scheduler,\n        setTempo\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            display: \"flex\",\n            gap: 8,\n            alignItems: \"center\",\n            margin: \"8px 0\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: onToggle,\n                \"aria-label\": play ? \"Pause\" : \"Play\",\n                children: play ? \"Pause\" : \"Play\"\n            }, void 0, false, {\n                fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/PlayerControls.tsx\",\n                lineNumber: 60,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                children: [\n                    \"Tempo:\",\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                        value: tempo,\n                        onChange: onTempoChange,\n                        \"aria-label\": \"Tempo\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                value: \"fast\",\n                                children: \"Fast\"\n                            }, void 0, false, {\n                                fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/PlayerControls.tsx\",\n                                lineNumber: 64,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                value: \"slow\",\n                                children: \"Slow\"\n                            }, void 0, false, {\n                                fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/PlayerControls.tsx\",\n                                lineNumber: 65,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/PlayerControls.tsx\",\n                        lineNumber: 63,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/PlayerControls.tsx\",\n                lineNumber: 61,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: onClear,\n                children: \"Clear\"\n            }, void 0, false, {\n                fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/PlayerControls.tsx\",\n                lineNumber: 68,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/milodavidson/Documents/GitHub/firebird-interactive-attempt2/src/components/PlayerControls.tsx\",\n        lineNumber: 59,\n        columnNumber: 5\n    }, this);\n}\n_s(PlayerControls, \"dSh8Exq/PBqQpQm5pOF+Y6kmzxU=\", false, function() {\n    return [\n        _hooks_usePartsStore__WEBPACK_IMPORTED_MODULE_2__.usePartsStore,\n        _hooks_useSpaceToggle__WEBPACK_IMPORTED_MODULE_4__.useSpaceToggle\n    ];\n});\n_c = PlayerControls;\n// Attach Space key to toggle play/pause, ignoring typing in inputs\nfunction useSpaceToToggle(onToggle) {\n    _s1();\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handler = (e)=>{\n            if (e.code !== \"Space\") return;\n            const target = e.target;\n            const tag = ((target === null || target === void 0 ? void 0 : target.tagName) || \"\").toLowerCase();\n            if (tag === \"input\" || tag === \"textarea\" || tag === \"select\" || (target === null || target === void 0 ? void 0 : target.isContentEditable)) return;\n            e.preventDefault();\n            onToggle();\n        };\n        window.addEventListener(\"keydown\", handler);\n        return ()=>window.removeEventListener(\"keydown\", handler);\n    }, [\n        onToggle\n    ]);\n}\n_s1(useSpaceToToggle, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\nvar _c;\n$RefreshReg$(_c, \"PlayerControls\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL1BsYXllckNvbnRyb2xzLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBRThDO0FBQ087QUFDRTtBQUVBO0FBSXhDLFNBQVNLO1FBQWUsRUFBRUMsU0FBUyxFQUFTLEdBQXBCLGlFQUF1QixDQUFDOztJQUM3RCxNQUFNLEVBQUVDLElBQUksRUFBRUMsS0FBSyxFQUFFQyxPQUFPLEVBQUVDLFFBQVEsRUFBRUMsaUJBQWlCLEVBQUVDLGVBQWUsRUFBRUMsUUFBUSxFQUFFQyxnQkFBZ0IsRUFBRSxHQUFHWixtRUFBYUE7SUFFeEgsTUFBTWEsV0FBV2Ysa0RBQVdBLENBQUM7UUFDM0JHLGlFQUFZQSxDQUFDYSxZQUFZO1FBQ3pCLElBQUksQ0FBQ2IsaUVBQVlBLENBQUNjLFFBQVEsRUFBRTtRQUM1QixJQUFJZCxpRUFBWUEsQ0FBQ2MsUUFBUSxDQUFDQyxLQUFLLEtBQUssYUFBYSxNQUFNZixpRUFBWUEsQ0FBQ2MsUUFBUSxDQUFDRSxNQUFNO1FBQ25GLElBQUksQ0FBQ1osTUFBTTtZQUNURSxRQUFRO1lBQ1JFLGtCQUFrQlMsT0FBTyxHQUFHakIsaUVBQVlBLENBQUNjLFFBQVEsQ0FBQ0ksV0FBVztZQUM3RCxJQUFJZixXQUFXQSxVQUFVZ0IseUJBQXlCO1FBQ3BELE9BQU87WUFDTGIsUUFBUTtZQUNSTixpRUFBWUEsQ0FBQ29CLGFBQWEsQ0FBQztZQUMzQmpCLHNCQUFBQSxnQ0FBQUEsVUFBV2tCLElBQUk7UUFDakI7SUFDRixHQUFHO1FBQUNqQjtRQUFNRDtRQUFXRztRQUFTRTtLQUFrQjtJQUVoRFAscUVBQWNBLENBQUNXO0lBRWYsTUFBTVUsVUFBVXpCLGtEQUFXQSxDQUFDO1FBQzFCLDZCQUE2QjtRQUM3QlMsUUFBUTtRQUNSTixpRUFBWUEsQ0FBQ29CLGFBQWEsQ0FBQztRQUMzQlosa0JBQWtCUyxPQUFPLEdBQUc7UUFDNUJSLGdCQUFnQlEsT0FBTyxHQUFHO1FBQzFCVixTQUFTO1FBQ1RJLGlCQUFpQk0sT0FBTyxHQUFHLEVBQUU7UUFDN0JQLFNBQVMsSUFBTTtnQkFDYjtvQkFBRWEsSUFBSTtvQkFBVUMsTUFBTTtvQkFBVUMscUJBQXFCLEVBQUU7Z0JBQUM7Z0JBQ3hEO29CQUFFRixJQUFJO29CQUFXQyxNQUFNO29CQUFXQyxxQkFBcUIsRUFBRTtnQkFBQztnQkFDMUQ7b0JBQUVGLElBQUk7b0JBQVVDLE1BQU07b0JBQVVDLHFCQUFxQixFQUFFO2dCQUFDO2dCQUN4RDtvQkFBRUYsSUFBSTtvQkFBV0MsTUFBTTtvQkFBV0MscUJBQXFCLEVBQUU7Z0JBQUM7YUFDM0Q7SUFDSCxHQUFHO1FBQUNuQjtRQUFTRTtRQUFtQkM7UUFBaUJFO1FBQWtCRDtLQUFTO0lBRTVFLE1BQU1nQixnQkFBZ0I3QixrREFBV0EsQ0FDL0IsT0FBTzhCO1FBQ0wsTUFBTUMsSUFBSUQsRUFBRUUsTUFBTSxDQUFDQyxLQUFLO1FBQ3hCdkIsU0FBU3FCO1FBQ1QsSUFBSXhCLFFBQVFELFdBQVc7WUFDckIsTUFBTUEsVUFBVTRCLG1CQUFtQixDQUFDSDtRQUN0QztJQUNGLEdBQ0E7UUFBQ3hCO1FBQU1EO1FBQVdJO0tBQVM7SUFHN0IscUJBQ0UsOERBQUN5QjtRQUFJQyxPQUFPO1lBQUVDLFNBQVM7WUFBUUMsS0FBSztZQUFHQyxZQUFZO1lBQVVDLFFBQVE7UUFBUTs7MEJBQzNFLDhEQUFDQztnQkFBT0MsU0FBUzNCO2dCQUFVNEIsY0FBWXBDLE9BQU8sVUFBVTswQkFBU0EsT0FBTyxVQUFVOzs7Ozs7MEJBQ2xGLDhEQUFDcUM7O29CQUFNO2tDQUVMLDhEQUFDQzt3QkFBT1osT0FBT3pCO3dCQUFPc0MsVUFBVWpCO3dCQUFlYyxjQUFXOzswQ0FDeEQsOERBQUNJO2dDQUFPZCxPQUFNOzBDQUFPOzs7Ozs7MENBQ3JCLDhEQUFDYztnQ0FBT2QsT0FBTTswQ0FBTzs7Ozs7Ozs7Ozs7Ozs7Ozs7OzBCQUd6Qiw4REFBQ1E7Z0JBQU9DLFNBQVNqQjswQkFBUzs7Ozs7Ozs7Ozs7O0FBR2hDO0dBNUR3QnBCOztRQUNxRkgsK0RBQWFBO1FBaUJ4SEUsaUVBQWNBOzs7S0FsQlFDO0FBOER4QixtRUFBbUU7QUFDNUQsU0FBUzJDLGlCQUFpQmpDLFFBQW9COztJQUNuRGQsZ0RBQVNBLENBQUM7UUFDUixNQUFNZ0QsVUFBVSxDQUFDbkI7WUFDZixJQUFJQSxFQUFFb0IsSUFBSSxLQUFLLFNBQVM7WUFDeEIsTUFBTWxCLFNBQVNGLEVBQUVFLE1BQU07WUFDdkIsTUFBTW1CLE1BQU0sQ0FBQ25CLENBQUFBLG1CQUFBQSw2QkFBQUEsT0FBUW9CLE9BQU8sS0FBSSxFQUFDLEVBQUdDLFdBQVc7WUFDL0MsSUFBSUYsUUFBUSxXQUFXQSxRQUFRLGNBQWNBLFFBQVEsYUFBWW5CLG1CQUFBQSw2QkFBQUEsT0FBUXNCLGlCQUFpQixHQUFFO1lBQzVGeEIsRUFBRXlCLGNBQWM7WUFDaEJ4QztRQUNGO1FBQ0F5QyxPQUFPQyxnQkFBZ0IsQ0FBQyxXQUFXUjtRQUNuQyxPQUFPLElBQU1PLE9BQU9FLG1CQUFtQixDQUFDLFdBQVdUO0lBQ3JELEdBQUc7UUFBQ2xDO0tBQVM7QUFDZjtJQWJnQmlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9jb21wb25lbnRzL1BsYXllckNvbnRyb2xzLnRzeD8zYmJiIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50J1xuXG5pbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyB1c2VQYXJ0c1N0b3JlIH0gZnJvbSAnQC9ob29rcy91c2VQYXJ0c1N0b3JlJ1xuaW1wb3J0IHsgYXVkaW9TZXJ2aWNlIH0gZnJvbSAnQC9saWIvYXVkaW8vQXVkaW9TZXJ2aWNlJ1xuaW1wb3J0IHsgQXVkaW9TY2hlZHVsZXIgfSBmcm9tICdAL2xpYi9hdWRpby9BdWRpb1NjaGVkdWxlcidcbmltcG9ydCB7IHVzZVNwYWNlVG9nZ2xlIH0gZnJvbSAnQC9ob29rcy91c2VTcGFjZVRvZ2dsZSdcblxudHlwZSBQcm9wcyA9IHsgc2NoZWR1bGVyPzogQXVkaW9TY2hlZHVsZXIgfVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQbGF5ZXJDb250cm9scyh7IHNjaGVkdWxlciB9OiBQcm9wcyA9IHt9KSB7XG4gIGNvbnN0IHsgcGxheSwgdGVtcG8sIHNldFBsYXksIHNldFRlbXBvLCB0cmFuc3BvcnRTdGFydFJlZiwgY3VycmVudFRlbXBvUmVmLCBzZXRQYXJ0cywgZGVmZXJyZWRRdWV1ZVJlZiB9ID0gdXNlUGFydHNTdG9yZSgpXG5cbiAgY29uc3Qgb25Ub2dnbGUgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgYXVkaW9TZXJ2aWNlLmluaXRJZk5lZWRlZCgpXG4gICAgaWYgKCFhdWRpb1NlcnZpY2UuYXVkaW9DdHgpIHJldHVyblxuICAgIGlmIChhdWRpb1NlcnZpY2UuYXVkaW9DdHguc3RhdGUgPT09ICdzdXNwZW5kZWQnKSBhd2FpdCBhdWRpb1NlcnZpY2UuYXVkaW9DdHgucmVzdW1lKClcbiAgICBpZiAoIXBsYXkpIHtcbiAgICAgIHNldFBsYXkodHJ1ZSlcbiAgICAgIHRyYW5zcG9ydFN0YXJ0UmVmLmN1cnJlbnQgPSBhdWRpb1NlcnZpY2UuYXVkaW9DdHguY3VycmVudFRpbWVcbiAgICAgIGlmIChzY2hlZHVsZXIpIHNjaGVkdWxlci5zY2hlZHVsZUxvb3BTdGFydElmTmVlZGVkKClcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0UGxheShmYWxzZSlcbiAgICAgIGF1ZGlvU2VydmljZS5zdG9wQWxsQWN0aXZlKDUwKVxuICAgICAgc2NoZWR1bGVyPy5zdG9wKClcbiAgICB9XG4gIH0sIFtwbGF5LCBzY2hlZHVsZXIsIHNldFBsYXksIHRyYW5zcG9ydFN0YXJ0UmVmXSlcblxuICB1c2VTcGFjZVRvZ2dsZShvblRvZ2dsZSlcblxuICBjb25zdCBvbkNsZWFyID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIC8vIHJlc2V0IHN0YXRlIGFuZCBzdG9wIGF1ZGlvXG4gICAgc2V0UGxheShmYWxzZSlcbiAgICBhdWRpb1NlcnZpY2Uuc3RvcEFsbEFjdGl2ZSg1MClcbiAgICB0cmFuc3BvcnRTdGFydFJlZi5jdXJyZW50ID0gbnVsbFxuICAgIGN1cnJlbnRUZW1wb1JlZi5jdXJyZW50ID0gJ2Zhc3QnXG4gICAgc2V0VGVtcG8oJ2Zhc3QnKVxuICAgIGRlZmVycmVkUXVldWVSZWYuY3VycmVudCA9IFtdXG4gICAgc2V0UGFydHMoKCkgPT4gW1xuICAgICAgeyBpZDogJ21lbG9keScsIG5hbWU6ICdNZWxvZHknLCBhc3NpZ25lZEluc3RydW1lbnRzOiBbXSB9LFxuICAgICAgeyBpZDogJ2hhcm1vbnknLCBuYW1lOiAnSGFybW9ueScsIGFzc2lnbmVkSW5zdHJ1bWVudHM6IFtdIH0sXG4gICAgICB7IGlkOiAncmh5dGhtJywgbmFtZTogJ1JoeXRobScsIGFzc2lnbmVkSW5zdHJ1bWVudHM6IFtdIH0sXG4gICAgICB7IGlkOiAndGV4dHVyZScsIG5hbWU6ICdUZXh0dXJlJywgYXNzaWduZWRJbnN0cnVtZW50czogW10gfVxuICAgIF0pXG4gIH0sIFtzZXRQbGF5LCB0cmFuc3BvcnRTdGFydFJlZiwgY3VycmVudFRlbXBvUmVmLCBkZWZlcnJlZFF1ZXVlUmVmLCBzZXRQYXJ0c10pXG5cbiAgY29uc3Qgb25UZW1wb0NoYW5nZSA9IHVzZUNhbGxiYWNrKFxuICAgIGFzeW5jIChlOiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MU2VsZWN0RWxlbWVudD4pID0+IHtcbiAgICAgIGNvbnN0IHQgPSBlLnRhcmdldC52YWx1ZSBhcyAnZmFzdCcgfCAnc2xvdydcbiAgICAgIHNldFRlbXBvKHQpXG4gICAgICBpZiAocGxheSAmJiBzY2hlZHVsZXIpIHtcbiAgICAgICAgYXdhaXQgc2NoZWR1bGVyLnNjaGVkdWxlVGVtcG9Td2l0Y2godClcbiAgICAgIH1cbiAgICB9LFxuICAgIFtwbGF5LCBzY2hlZHVsZXIsIHNldFRlbXBvXVxuICApXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZ2FwOiA4LCBhbGlnbkl0ZW1zOiAnY2VudGVyJywgbWFyZ2luOiAnOHB4IDAnIH19PlxuICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtvblRvZ2dsZX0gYXJpYS1sYWJlbD17cGxheSA/ICdQYXVzZScgOiAnUGxheSd9PntwbGF5ID8gJ1BhdXNlJyA6ICdQbGF5J308L2J1dHRvbj5cbiAgICAgIDxsYWJlbD5cbiAgICAgICAgVGVtcG86XG4gICAgICAgIDxzZWxlY3QgdmFsdWU9e3RlbXBvfSBvbkNoYW5nZT17b25UZW1wb0NoYW5nZX0gYXJpYS1sYWJlbD1cIlRlbXBvXCI+XG4gICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImZhc3RcIj5GYXN0PC9vcHRpb24+XG4gICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInNsb3dcIj5TbG93PC9vcHRpb24+XG4gICAgICAgIDwvc2VsZWN0PlxuICAgICAgPC9sYWJlbD5cbiAgICAgIDxidXR0b24gb25DbGljaz17b25DbGVhcn0+Q2xlYXI8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG4vLyBBdHRhY2ggU3BhY2Uga2V5IHRvIHRvZ2dsZSBwbGF5L3BhdXNlLCBpZ25vcmluZyB0eXBpbmcgaW4gaW5wdXRzXG5leHBvcnQgZnVuY3Rpb24gdXNlU3BhY2VUb1RvZ2dsZShvblRvZ2dsZTogKCkgPT4gdm9pZCkge1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZXIgPSAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgaWYgKGUuY29kZSAhPT0gJ1NwYWNlJykgcmV0dXJuXG4gICAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudCB8IG51bGxcbiAgICAgIGNvbnN0IHRhZyA9ICh0YXJnZXQ/LnRhZ05hbWUgfHwgJycpLnRvTG93ZXJDYXNlKClcbiAgICAgIGlmICh0YWcgPT09ICdpbnB1dCcgfHwgdGFnID09PSAndGV4dGFyZWEnIHx8IHRhZyA9PT0gJ3NlbGVjdCcgfHwgdGFyZ2V0Py5pc0NvbnRlbnRFZGl0YWJsZSkgcmV0dXJuXG4gICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgIG9uVG9nZ2xlKClcbiAgICB9XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVyKVxuICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZXIpXG4gIH0sIFtvblRvZ2dsZV0pXG59XG4iXSwibmFtZXMiOlsidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJ1c2VQYXJ0c1N0b3JlIiwiYXVkaW9TZXJ2aWNlIiwidXNlU3BhY2VUb2dnbGUiLCJQbGF5ZXJDb250cm9scyIsInNjaGVkdWxlciIsInBsYXkiLCJ0ZW1wbyIsInNldFBsYXkiLCJzZXRUZW1wbyIsInRyYW5zcG9ydFN0YXJ0UmVmIiwiY3VycmVudFRlbXBvUmVmIiwic2V0UGFydHMiLCJkZWZlcnJlZFF1ZXVlUmVmIiwib25Ub2dnbGUiLCJpbml0SWZOZWVkZWQiLCJhdWRpb0N0eCIsInN0YXRlIiwicmVzdW1lIiwiY3VycmVudCIsImN1cnJlbnRUaW1lIiwic2NoZWR1bGVMb29wU3RhcnRJZk5lZWRlZCIsInN0b3BBbGxBY3RpdmUiLCJzdG9wIiwib25DbGVhciIsImlkIiwibmFtZSIsImFzc2lnbmVkSW5zdHJ1bWVudHMiLCJvblRlbXBvQ2hhbmdlIiwiZSIsInQiLCJ0YXJnZXQiLCJ2YWx1ZSIsInNjaGVkdWxlVGVtcG9Td2l0Y2giLCJkaXYiLCJzdHlsZSIsImRpc3BsYXkiLCJnYXAiLCJhbGlnbkl0ZW1zIiwibWFyZ2luIiwiYnV0dG9uIiwib25DbGljayIsImFyaWEtbGFiZWwiLCJsYWJlbCIsInNlbGVjdCIsIm9uQ2hhbmdlIiwib3B0aW9uIiwidXNlU3BhY2VUb1RvZ2dsZSIsImhhbmRsZXIiLCJjb2RlIiwidGFnIiwidGFnTmFtZSIsInRvTG93ZXJDYXNlIiwiaXNDb250ZW50RWRpdGFibGUiLCJwcmV2ZW50RGVmYXVsdCIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/PlayerControls.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/hooks/useAssignments.ts":
/*!*************************************!*\
  !*** ./src/hooks/useAssignments.ts ***!
  \*************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useAssignments: function() { return /* binding */ useAssignments; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _usePartsStore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./usePartsStore */ \"(app-pages-browser)/./src/hooks/usePartsStore.ts\");\n/* harmony import */ var _lib_audio_AudioService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/audio/AudioService */ \"(app-pages-browser)/./src/lib/audio/AudioService.ts\");\n/* harmony import */ var _lib_audio_audioUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/audio/audioUtils */ \"(app-pages-browser)/./src/lib/audio/audioUtils.ts\");\n/* __next_internal_client_entry_do_not_use__ useAssignments auto */ \n\n\n\nfunction useAssignments() {\n    const store = (0,_usePartsStore__WEBPACK_IMPORTED_MODULE_1__.usePartsStore)();\n    const addInstrument = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (partId, instrumentId, name)=>{\n        const instId = \"\".concat(partId, \"-\").concat(instrumentId, \"-\").concat(Date.now());\n        const tempo = store.currentTempoRef.current;\n        const softFile = \"/audio/\".concat(partId, \"/\").concat(instrumentId, \"-p-\").concat(tempo, \".mp3\");\n        const loudFile = \"/audio/\".concat(partId, \"/\").concat(instrumentId, \"-f-\").concat(tempo, \".mp3\");\n        const assigned = {\n            id: instId,\n            instrumentId,\n            name,\n            softFile,\n            loudFile,\n            volumeBalance: 50,\n            isMuted: false\n        };\n        // prevent duplicates per part by instrumentId\n        const part = store.partsRef.current.find((p)=>p.id === partId);\n        if (part.assignedInstruments.some((ai)=>ai.instrumentId === instrumentId)) return;\n        if (!store.playStateRef.current) {\n            // idle: preload both tempos and add directly\n            await Promise.all([\n                _lib_audio_AudioService__WEBPACK_IMPORTED_MODULE_2__.audioService.preloadTempoForInstance(instId, partId, instrumentId, \"fast\"),\n                _lib_audio_AudioService__WEBPACK_IMPORTED_MODULE_2__.audioService.preloadTempoForInstance(instId, partId, instrumentId, \"slow\")\n            ]);\n            // detect missing audio for current tempo\n            const bufs = _lib_audio_AudioService__WEBPACK_IMPORTED_MODULE_2__.audioService.getBuffersFor(instId, store.currentTempoRef.current);\n            const hasError = !(bufs === null || bufs === void 0 ? void 0 : bufs.soft) || !(bufs === null || bufs === void 0 ? void 0 : bufs.loud);\n            store.setParts((prev)=>prev.map((p)=>p.id === partId ? {\n                        ...p,\n                        assignedInstruments: [\n                            ...p.assignedInstruments,\n                            {\n                                ...assigned,\n                                hasError\n                            }\n                        ]\n                    } : p));\n        } else {\n            // playing: mark queued and push to deferredQueueRef\n            _lib_audio_AudioService__WEBPACK_IMPORTED_MODULE_2__.audioService.initIfNeeded();\n            const ctx = _lib_audio_AudioService__WEBPACK_IMPORTED_MODULE_2__.audioService.audioCtx;\n            const transport = store.transportStartRef.current;\n            const { scheduleTime } = (0,_lib_audio_audioUtils__WEBPACK_IMPORTED_MODULE_3__.computeNextBeatScheduleTime)(ctx.currentTime, transport, store.currentTempoRef.current);\n            const remaining = Math.max(0, scheduleTime - ctx.currentTime) // to next beat boundary\n            ;\n            const queued = {\n                ...assigned,\n                isLoading: true,\n                queueStartTime: ctx.currentTime,\n                queueTimeRemaining: remaining,\n                queueScheduleTime: scheduleTime\n            };\n            store.setParts((prev)=>prev.map((p)=>p.id === partId ? {\n                        ...p,\n                        assignedInstruments: [\n                            ...p.assignedInstruments,\n                            queued\n                        ]\n                    } : p));\n            store.deferredQueueRef.current = [\n                ...store.deferredQueueRef.current,\n                queued\n            ];\n            // preload current tempo first\n            await _lib_audio_AudioService__WEBPACK_IMPORTED_MODULE_2__.audioService.preloadTempoForInstance(instId, partId, instrumentId, store.currentTempoRef.current);\n            // preload other tempo in background\n            _lib_audio_AudioService__WEBPACK_IMPORTED_MODULE_2__.audioService.preloadTempoForInstance(instId, partId, instrumentId, store.currentTempoRef.current === \"fast\" ? \"slow\" : \"fast\");\n        }\n    }, [\n        store\n    ]);\n    const removeInstrument = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((instId)=>{\n        store.removedInstanceIdsRef.current.add(instId);\n        store.setParts((prev)=>prev.map((p)=>({\n                    ...p,\n                    assignedInstruments: p.assignedInstruments.filter((ai)=>ai.id !== instId)\n                })));\n        // stop audio\n        _lib_audio_AudioService__WEBPACK_IMPORTED_MODULE_2__.audioService.stopAndCleanupNode(instId, \"soft\");\n        _lib_audio_AudioService__WEBPACK_IMPORTED_MODULE_2__.audioService.stopAndCleanupNode(instId, \"loud\");\n        _lib_audio_AudioService__WEBPACK_IMPORTED_MODULE_2__.audioService.releaseInstance(instId);\n    }, [\n        store\n    ]);\n    return {\n        addInstrument,\n        removeInstrument\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9ob29rcy91c2VBc3NpZ25tZW50cy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7b0VBRW1DO0FBQ1k7QUFFUTtBQUMyQztBQUUzRixTQUFTSTtJQUNkLE1BQU1DLFFBQVFKLDZEQUFhQTtJQUMzQixNQUFNSyxnQkFBZ0JOLGtEQUFXQSxDQUMvQixPQUFPTyxRQUFnQkMsY0FBc0JDO1FBQzNDLE1BQU1DLFNBQVMsR0FBYUYsT0FBVkQsUUFBTyxLQUFtQkksT0FBaEJILGNBQWEsS0FBYyxPQUFYRyxLQUFLQyxHQUFHO1FBQ3BELE1BQU1DLFFBQVFSLE1BQU1TLGVBQWUsQ0FBQ0MsT0FBTztRQUMzQyxNQUFNQyxXQUFXLFVBQW9CUixPQUFWRCxRQUFPLEtBQXFCTSxPQUFsQkwsY0FBYSxPQUFXLE9BQU5LLE9BQU07UUFDN0QsTUFBTUksV0FBVyxVQUFvQlQsT0FBVkQsUUFBTyxLQUFxQk0sT0FBbEJMLGNBQWEsT0FBVyxPQUFOSyxPQUFNO1FBQzdELE1BQU1LLFdBQStCO1lBQ25DQyxJQUFJVDtZQUNKRjtZQUNBQztZQUNBTztZQUNBQztZQUNBRyxlQUFlO1lBQ2ZDLFNBQVM7UUFDWDtRQUVBLDhDQUE4QztRQUM5QyxNQUFNQyxPQUFPakIsTUFBTWtCLFFBQVEsQ0FBQ1IsT0FBTyxDQUFDUyxJQUFJLENBQUNDLENBQUFBLElBQUtBLEVBQUVOLEVBQUUsS0FBS1o7UUFDdkQsSUFBSWUsS0FBS0ksbUJBQW1CLENBQUNDLElBQUksQ0FBQ0MsQ0FBQUEsS0FBTUEsR0FBR3BCLFlBQVksS0FBS0EsZUFBZTtRQUUzRSxJQUFJLENBQUNILE1BQU13QixZQUFZLENBQUNkLE9BQU8sRUFBRTtZQUMvQiw2Q0FBNkM7WUFDN0MsTUFBTWUsUUFBUUMsR0FBRyxDQUFDO2dCQUNoQjdCLGlFQUFZQSxDQUFDOEIsdUJBQXVCLENBQUN0QixRQUFRSCxRQUFRQyxjQUFjO2dCQUNuRU4saUVBQVlBLENBQUM4Qix1QkFBdUIsQ0FBQ3RCLFFBQVFILFFBQVFDLGNBQWM7YUFDcEU7WUFDRCx5Q0FBeUM7WUFDekMsTUFBTXlCLE9BQU8vQixpRUFBWUEsQ0FBQ2dDLGFBQWEsQ0FBQ3hCLFFBQVFMLE1BQU1TLGVBQWUsQ0FBQ0MsT0FBTztZQUM3RSxNQUFNb0IsV0FBVyxFQUFDRixpQkFBQUEsMkJBQUFBLEtBQU1HLElBQUksS0FBSSxFQUFDSCxpQkFBQUEsMkJBQUFBLEtBQU1JLElBQUk7WUFDM0NoQyxNQUFNaUMsUUFBUSxDQUFDQyxDQUFBQSxPQUNiQSxLQUFLQyxHQUFHLENBQUNmLENBQUFBLElBQU1BLEVBQUVOLEVBQUUsS0FBS1osU0FBUzt3QkFBRSxHQUFHa0IsQ0FBQzt3QkFBRUMscUJBQXFCOytCQUFJRCxFQUFFQyxtQkFBbUI7NEJBQUU7Z0NBQUUsR0FBR1IsUUFBUTtnQ0FBRWlCOzRCQUFTO3lCQUFFO29CQUFDLElBQUlWO1FBRTVILE9BQU87WUFDTCxvREFBb0Q7WUFDcER2QixpRUFBWUEsQ0FBQ3VDLFlBQVk7WUFDekIsTUFBTUMsTUFBTXhDLGlFQUFZQSxDQUFDeUMsUUFBUTtZQUNqQyxNQUFNQyxZQUFZdkMsTUFBTXdDLGlCQUFpQixDQUFDOUIsT0FBTztZQUNqRCxNQUFNLEVBQUUrQixZQUFZLEVBQUUsR0FBRzNDLGtGQUEyQkEsQ0FBQ3VDLElBQUlLLFdBQVcsRUFBRUgsV0FBV3ZDLE1BQU1TLGVBQWUsQ0FBQ0MsT0FBTztZQUNwSCxNQUFNaUMsWUFBWUMsS0FBS0MsR0FBRyxDQUFDLEdBQUdKLGVBQWVKLElBQUlLLFdBQVcsRUFBRSx3QkFBd0I7O1lBQ3RGLE1BQU1JLFNBQVM7Z0JBQUUsR0FBR2pDLFFBQVE7Z0JBQUVrQyxXQUFXO2dCQUFNQyxnQkFBZ0JYLElBQUlLLFdBQVc7Z0JBQUVPLG9CQUFvQk47Z0JBQVdPLG1CQUFtQlQ7WUFBYTtZQUN6SXpDLE1BQU1pQyxRQUFRLENBQUNDLENBQUFBLE9BQVFBLEtBQUtDLEdBQUcsQ0FBQ2YsQ0FBQUEsSUFBTUEsRUFBRU4sRUFBRSxLQUFLWixTQUFTO3dCQUFFLEdBQUdrQixDQUFDO3dCQUFFQyxxQkFBcUI7K0JBQUlELEVBQUVDLG1CQUFtQjs0QkFBRXlCO3lCQUFPO29CQUFDLElBQUkxQjtZQUM1SHBCLE1BQU1tRCxnQkFBZ0IsQ0FBQ3pDLE9BQU8sR0FBRzttQkFBSVYsTUFBTW1ELGdCQUFnQixDQUFDekMsT0FBTztnQkFBRW9DO2FBQU87WUFDNUUsOEJBQThCO1lBQzlCLE1BQU1qRCxpRUFBWUEsQ0FBQzhCLHVCQUF1QixDQUFDdEIsUUFBUUgsUUFBUUMsY0FBY0gsTUFBTVMsZUFBZSxDQUFDQyxPQUFPO1lBQ3RHLG9DQUFvQztZQUNwQ2IsaUVBQVlBLENBQUM4Qix1QkFBdUIsQ0FBQ3RCLFFBQVFILFFBQVFDLGNBQWNILE1BQU1TLGVBQWUsQ0FBQ0MsT0FBTyxLQUFLLFNBQVMsU0FBUztRQUN6SDtJQUNGLEdBQ0E7UUFBQ1Y7S0FBTTtJQUdULE1BQU1vRCxtQkFBbUJ6RCxrREFBV0EsQ0FDbEMsQ0FBQ1U7UUFDQ0wsTUFBTXFELHFCQUFxQixDQUFDM0MsT0FBTyxDQUFDNEMsR0FBRyxDQUFDakQ7UUFDeENMLE1BQU1pQyxRQUFRLENBQUNDLENBQUFBLE9BQVFBLEtBQUtDLEdBQUcsQ0FBQ2YsQ0FBQUEsSUFBTTtvQkFBRSxHQUFHQSxDQUFDO29CQUFFQyxxQkFBcUJELEVBQUVDLG1CQUFtQixDQUFDa0MsTUFBTSxDQUFDaEMsQ0FBQUEsS0FBTUEsR0FBR1QsRUFBRSxLQUFLVDtnQkFBUTtRQUN4SCxhQUFhO1FBQ2JSLGlFQUFZQSxDQUFDMkQsa0JBQWtCLENBQUNuRCxRQUFRO1FBQ3hDUixpRUFBWUEsQ0FBQzJELGtCQUFrQixDQUFDbkQsUUFBUTtRQUN4Q1IsaUVBQVlBLENBQUM0RCxlQUFlLENBQUNwRDtJQUMvQixHQUNBO1FBQUNMO0tBQU07SUFHVCxPQUFPO1FBQUVDO1FBQWVtRDtJQUFpQjtBQUMzQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvaG9va3MvdXNlQXNzaWdubWVudHMudHM/MWE3NSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCdcblxuaW1wb3J0IHsgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IHVzZVBhcnRzU3RvcmUgfSBmcm9tICcuL3VzZVBhcnRzU3RvcmUnXG5pbXBvcnQgdHlwZSB7IFBhcnRJZCwgQXNzaWduZWRJbnN0cnVtZW50IH0gZnJvbSAnQC9saWIvdHlwZXMnXG5pbXBvcnQgeyBhdWRpb1NlcnZpY2UgfSBmcm9tICdAL2xpYi9hdWRpby9BdWRpb1NlcnZpY2UnXG5pbXBvcnQgeyBjb21wdXRlTmV4dEJlYXRTY2hlZHVsZVRpbWUsIGxvb3BEdXJhdGlvbiwgc2Vjb25kc1BlckJlYXQgfSBmcm9tICdAL2xpYi9hdWRpby9hdWRpb1V0aWxzJ1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlQXNzaWdubWVudHMoKSB7XG4gIGNvbnN0IHN0b3JlID0gdXNlUGFydHNTdG9yZSgpXG4gIGNvbnN0IGFkZEluc3RydW1lbnQgPSB1c2VDYWxsYmFjayhcbiAgICBhc3luYyAocGFydElkOiBQYXJ0SWQsIGluc3RydW1lbnRJZDogc3RyaW5nLCBuYW1lOiBzdHJpbmcpID0+IHtcbiAgICAgIGNvbnN0IGluc3RJZCA9IGAke3BhcnRJZH0tJHtpbnN0cnVtZW50SWR9LSR7RGF0ZS5ub3coKX1gXG4gICAgICBjb25zdCB0ZW1wbyA9IHN0b3JlLmN1cnJlbnRUZW1wb1JlZi5jdXJyZW50XG4gICAgICBjb25zdCBzb2Z0RmlsZSA9IGAvYXVkaW8vJHtwYXJ0SWR9LyR7aW5zdHJ1bWVudElkfS1wLSR7dGVtcG99Lm1wM2BcbiAgICAgIGNvbnN0IGxvdWRGaWxlID0gYC9hdWRpby8ke3BhcnRJZH0vJHtpbnN0cnVtZW50SWR9LWYtJHt0ZW1wb30ubXAzYFxuICAgICAgY29uc3QgYXNzaWduZWQ6IEFzc2lnbmVkSW5zdHJ1bWVudCA9IHtcbiAgICAgICAgaWQ6IGluc3RJZCxcbiAgICAgICAgaW5zdHJ1bWVudElkLFxuICAgICAgICBuYW1lLFxuICAgICAgICBzb2Z0RmlsZSxcbiAgICAgICAgbG91ZEZpbGUsXG4gICAgICAgIHZvbHVtZUJhbGFuY2U6IDUwLFxuICAgICAgICBpc011dGVkOiBmYWxzZVxuICAgICAgfVxuXG4gICAgICAvLyBwcmV2ZW50IGR1cGxpY2F0ZXMgcGVyIHBhcnQgYnkgaW5zdHJ1bWVudElkXG4gICAgICBjb25zdCBwYXJ0ID0gc3RvcmUucGFydHNSZWYuY3VycmVudC5maW5kKHAgPT4gcC5pZCA9PT0gcGFydElkKSFcbiAgICAgIGlmIChwYXJ0LmFzc2lnbmVkSW5zdHJ1bWVudHMuc29tZShhaSA9PiBhaS5pbnN0cnVtZW50SWQgPT09IGluc3RydW1lbnRJZCkpIHJldHVyblxuXG4gICAgICBpZiAoIXN0b3JlLnBsYXlTdGF0ZVJlZi5jdXJyZW50KSB7XG4gICAgICAgIC8vIGlkbGU6IHByZWxvYWQgYm90aCB0ZW1wb3MgYW5kIGFkZCBkaXJlY3RseVxuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgYXVkaW9TZXJ2aWNlLnByZWxvYWRUZW1wb0Zvckluc3RhbmNlKGluc3RJZCwgcGFydElkLCBpbnN0cnVtZW50SWQsICdmYXN0JyksXG4gICAgICAgICAgYXVkaW9TZXJ2aWNlLnByZWxvYWRUZW1wb0Zvckluc3RhbmNlKGluc3RJZCwgcGFydElkLCBpbnN0cnVtZW50SWQsICdzbG93JylcbiAgICAgICAgXSlcbiAgICAgICAgLy8gZGV0ZWN0IG1pc3NpbmcgYXVkaW8gZm9yIGN1cnJlbnQgdGVtcG9cbiAgICAgICAgY29uc3QgYnVmcyA9IGF1ZGlvU2VydmljZS5nZXRCdWZmZXJzRm9yKGluc3RJZCwgc3RvcmUuY3VycmVudFRlbXBvUmVmLmN1cnJlbnQpXG4gICAgICAgIGNvbnN0IGhhc0Vycm9yID0gIWJ1ZnM/LnNvZnQgfHwgIWJ1ZnM/LmxvdWRcbiAgICAgICAgc3RvcmUuc2V0UGFydHMocHJldiA9PlxuICAgICAgICAgIHByZXYubWFwKHAgPT4gKHAuaWQgPT09IHBhcnRJZCA/IHsgLi4ucCwgYXNzaWduZWRJbnN0cnVtZW50czogWy4uLnAuYXNzaWduZWRJbnN0cnVtZW50cywgeyAuLi5hc3NpZ25lZCwgaGFzRXJyb3IgfV0gfSA6IHApKVxuICAgICAgICApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBwbGF5aW5nOiBtYXJrIHF1ZXVlZCBhbmQgcHVzaCB0byBkZWZlcnJlZFF1ZXVlUmVmXG4gICAgICAgIGF1ZGlvU2VydmljZS5pbml0SWZOZWVkZWQoKVxuICAgICAgICBjb25zdCBjdHggPSBhdWRpb1NlcnZpY2UuYXVkaW9DdHghXG4gICAgICAgIGNvbnN0IHRyYW5zcG9ydCA9IHN0b3JlLnRyYW5zcG9ydFN0YXJ0UmVmLmN1cnJlbnQhXG4gICAgICAgIGNvbnN0IHsgc2NoZWR1bGVUaW1lIH0gPSBjb21wdXRlTmV4dEJlYXRTY2hlZHVsZVRpbWUoY3R4LmN1cnJlbnRUaW1lLCB0cmFuc3BvcnQsIHN0b3JlLmN1cnJlbnRUZW1wb1JlZi5jdXJyZW50KVxuICBjb25zdCByZW1haW5pbmcgPSBNYXRoLm1heCgwLCBzY2hlZHVsZVRpbWUgLSBjdHguY3VycmVudFRpbWUpIC8vIHRvIG5leHQgYmVhdCBib3VuZGFyeVxuICBjb25zdCBxdWV1ZWQgPSB7IC4uLmFzc2lnbmVkLCBpc0xvYWRpbmc6IHRydWUsIHF1ZXVlU3RhcnRUaW1lOiBjdHguY3VycmVudFRpbWUsIHF1ZXVlVGltZVJlbWFpbmluZzogcmVtYWluaW5nLCBxdWV1ZVNjaGVkdWxlVGltZTogc2NoZWR1bGVUaW1lIH1cbiAgICAgICAgc3RvcmUuc2V0UGFydHMocHJldiA9PiBwcmV2Lm1hcChwID0+IChwLmlkID09PSBwYXJ0SWQgPyB7IC4uLnAsIGFzc2lnbmVkSW5zdHJ1bWVudHM6IFsuLi5wLmFzc2lnbmVkSW5zdHJ1bWVudHMsIHF1ZXVlZF0gfSA6IHApKSlcbiAgICAgICAgc3RvcmUuZGVmZXJyZWRRdWV1ZVJlZi5jdXJyZW50ID0gWy4uLnN0b3JlLmRlZmVycmVkUXVldWVSZWYuY3VycmVudCwgcXVldWVkXVxuICAgICAgICAvLyBwcmVsb2FkIGN1cnJlbnQgdGVtcG8gZmlyc3RcbiAgICAgICAgYXdhaXQgYXVkaW9TZXJ2aWNlLnByZWxvYWRUZW1wb0Zvckluc3RhbmNlKGluc3RJZCwgcGFydElkLCBpbnN0cnVtZW50SWQsIHN0b3JlLmN1cnJlbnRUZW1wb1JlZi5jdXJyZW50KVxuICAgICAgICAvLyBwcmVsb2FkIG90aGVyIHRlbXBvIGluIGJhY2tncm91bmRcbiAgICAgICAgYXVkaW9TZXJ2aWNlLnByZWxvYWRUZW1wb0Zvckluc3RhbmNlKGluc3RJZCwgcGFydElkLCBpbnN0cnVtZW50SWQsIHN0b3JlLmN1cnJlbnRUZW1wb1JlZi5jdXJyZW50ID09PSAnZmFzdCcgPyAnc2xvdycgOiAnZmFzdCcpXG4gICAgICB9XG4gICAgfSxcbiAgICBbc3RvcmVdXG4gIClcblxuICBjb25zdCByZW1vdmVJbnN0cnVtZW50ID0gdXNlQ2FsbGJhY2soXG4gICAgKGluc3RJZDogc3RyaW5nKSA9PiB7XG4gICAgICBzdG9yZS5yZW1vdmVkSW5zdGFuY2VJZHNSZWYuY3VycmVudC5hZGQoaW5zdElkKVxuICAgICAgc3RvcmUuc2V0UGFydHMocHJldiA9PiBwcmV2Lm1hcChwID0+ICh7IC4uLnAsIGFzc2lnbmVkSW5zdHJ1bWVudHM6IHAuYXNzaWduZWRJbnN0cnVtZW50cy5maWx0ZXIoYWkgPT4gYWkuaWQgIT09IGluc3RJZCkgfSkpKVxuICAgICAgLy8gc3RvcCBhdWRpb1xuICAgICAgYXVkaW9TZXJ2aWNlLnN0b3BBbmRDbGVhbnVwTm9kZShpbnN0SWQsICdzb2Z0JylcbiAgICAgIGF1ZGlvU2VydmljZS5zdG9wQW5kQ2xlYW51cE5vZGUoaW5zdElkLCAnbG91ZCcpXG4gICAgICBhdWRpb1NlcnZpY2UucmVsZWFzZUluc3RhbmNlKGluc3RJZClcbiAgICB9LFxuICAgIFtzdG9yZV1cbiAgKVxuXG4gIHJldHVybiB7IGFkZEluc3RydW1lbnQsIHJlbW92ZUluc3RydW1lbnQgfVxufVxuIl0sIm5hbWVzIjpbInVzZUNhbGxiYWNrIiwidXNlUGFydHNTdG9yZSIsImF1ZGlvU2VydmljZSIsImNvbXB1dGVOZXh0QmVhdFNjaGVkdWxlVGltZSIsInVzZUFzc2lnbm1lbnRzIiwic3RvcmUiLCJhZGRJbnN0cnVtZW50IiwicGFydElkIiwiaW5zdHJ1bWVudElkIiwibmFtZSIsImluc3RJZCIsIkRhdGUiLCJub3ciLCJ0ZW1wbyIsImN1cnJlbnRUZW1wb1JlZiIsImN1cnJlbnQiLCJzb2Z0RmlsZSIsImxvdWRGaWxlIiwiYXNzaWduZWQiLCJpZCIsInZvbHVtZUJhbGFuY2UiLCJpc011dGVkIiwicGFydCIsInBhcnRzUmVmIiwiZmluZCIsInAiLCJhc3NpZ25lZEluc3RydW1lbnRzIiwic29tZSIsImFpIiwicGxheVN0YXRlUmVmIiwiUHJvbWlzZSIsImFsbCIsInByZWxvYWRUZW1wb0Zvckluc3RhbmNlIiwiYnVmcyIsImdldEJ1ZmZlcnNGb3IiLCJoYXNFcnJvciIsInNvZnQiLCJsb3VkIiwic2V0UGFydHMiLCJwcmV2IiwibWFwIiwiaW5pdElmTmVlZGVkIiwiY3R4IiwiYXVkaW9DdHgiLCJ0cmFuc3BvcnQiLCJ0cmFuc3BvcnRTdGFydFJlZiIsInNjaGVkdWxlVGltZSIsImN1cnJlbnRUaW1lIiwicmVtYWluaW5nIiwiTWF0aCIsIm1heCIsInF1ZXVlZCIsImlzTG9hZGluZyIsInF1ZXVlU3RhcnRUaW1lIiwicXVldWVUaW1lUmVtYWluaW5nIiwicXVldWVTY2hlZHVsZVRpbWUiLCJkZWZlcnJlZFF1ZXVlUmVmIiwicmVtb3ZlSW5zdHJ1bWVudCIsInJlbW92ZWRJbnN0YW5jZUlkc1JlZiIsImFkZCIsImZpbHRlciIsInN0b3BBbmRDbGVhbnVwTm9kZSIsInJlbGVhc2VJbnN0YW5jZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/hooks/useAssignments.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/hooks/useAudioInspector.ts":
/*!****************************************!*\
  !*** ./src/hooks/useAudioInspector.ts ***!
  \****************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useAudioInspector: function() { return /* binding */ useAudioInspector; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _usePartsStore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./usePartsStore */ \"(app-pages-browser)/./src/hooks/usePartsStore.ts\");\n/* harmony import */ var _lib_audio_AudioService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/audio/AudioService */ \"(app-pages-browser)/./src/lib/audio/AudioService.ts\");\n/* __next_internal_client_entry_do_not_use__ useAudioInspector auto */ \n\n\nfunction useAudioInspector(scheduler) {\n    const store = (0,_usePartsStore__WEBPACK_IMPORTED_MODULE_1__.usePartsStore)();\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const inspector = {\n            getAudioBuffers: ()=>_lib_audio_AudioService__WEBPACK_IMPORTED_MODULE_2__.audioService.getInspectorSnapshot().getAudioBuffers(),\n            getAudioBuffersByTempo: ()=>_lib_audio_AudioService__WEBPACK_IMPORTED_MODULE_2__.audioService.getBuffersByInstTempoSnapshot(),\n            getNodeStartTimes: ()=>{\n                const arrMap = store.nodeStartTimesRef.current;\n                const out = {};\n                for (const [id, v] of Object.entries(arrMap)){\n                    const soft = v.soft && v.soft.length > 0 ? v.soft[v.soft.length - 1] : undefined;\n                    const loud = v.loud && v.loud.length > 0 ? v.loud[v.loud.length - 1] : undefined;\n                    out[id] = {\n                        soft,\n                        loud\n                    };\n                }\n                return out;\n            },\n            getDeferredQueue: ()=>store.deferredQueueRef.current.map((q)=>({\n                        id: q.id,\n                        instrumentId: q.instrumentId,\n                        queueStartTime: q.queueStartTime,\n                        queueTimeRemaining: q.queueTimeRemaining\n                    })),\n            getPlayState: ()=>store.playStateRef.current,\n            getParts: ()=>JSON.parse(JSON.stringify(store.partsRef.current)),\n            getTransportStartTime: ()=>store.transportStartRef.current,\n            getTempo: ()=>store.currentTempoRef.current\n        };\n        Object.defineProperty(inspector, \"scheduledTempoSwitch\", {\n            get () {\n                return scheduler ? scheduler.getScheduledTempoSwitch() : null;\n            },\n            enumerable: true\n        });\n        window.__audioInspector = inspector;\n        return ()=>{\n            delete window.__audioInspector;\n        };\n    }, [\n        scheduler,\n        store\n    ]);\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9ob29rcy91c2VBdWRpb0luc3BlY3Rvci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozt1RUFFaUM7QUFDYztBQUNRO0FBVWhELFNBQVNHLGtCQUFrQkMsU0FBMEI7SUFDMUQsTUFBTUMsUUFBUUosNkRBQWFBO0lBQzNCRCxnREFBU0EsQ0FBQztRQUNSLE1BQU1NLFlBQWlCO1lBQ3JCQyxpQkFBaUIsSUFBTUwsaUVBQVlBLENBQUNNLG9CQUFvQixHQUFHRCxlQUFlO1lBQzFFRSx3QkFBd0IsSUFBTVAsaUVBQVlBLENBQUNRLDZCQUE2QjtZQUN4RUMsbUJBQW1CO2dCQUNqQixNQUFNQyxTQUFTUCxNQUFNUSxpQkFBaUIsQ0FBQ0MsT0FBTztnQkFDOUMsTUFBTUMsTUFBd0QsQ0FBQztnQkFDL0QsS0FBSyxNQUFNLENBQUNDLElBQUlDLEVBQUUsSUFBSUMsT0FBT0MsT0FBTyxDQUFDUCxRQUFTO29CQUM1QyxNQUFNUSxPQUFPSCxFQUFFRyxJQUFJLElBQUlILEVBQUVHLElBQUksQ0FBQ0MsTUFBTSxHQUFHLElBQUlKLEVBQUVHLElBQUksQ0FBQ0gsRUFBRUcsSUFBSSxDQUFDQyxNQUFNLEdBQUcsRUFBRSxHQUFHQztvQkFDdkUsTUFBTUMsT0FBT04sRUFBRU0sSUFBSSxJQUFJTixFQUFFTSxJQUFJLENBQUNGLE1BQU0sR0FBRyxJQUFJSixFQUFFTSxJQUFJLENBQUNOLEVBQUVNLElBQUksQ0FBQ0YsTUFBTSxHQUFHLEVBQUUsR0FBR0M7b0JBQ3ZFUCxHQUFHLENBQUNDLEdBQUcsR0FBRzt3QkFBRUk7d0JBQU1HO29CQUFLO2dCQUN6QjtnQkFDQSxPQUFPUjtZQUNUO1lBQ0FTLGtCQUFrQixJQUNoQm5CLE1BQU1vQixnQkFBZ0IsQ0FBQ1gsT0FBTyxDQUFDWSxHQUFHLENBQUNDLENBQUFBLElBQU07d0JBQUVYLElBQUlXLEVBQUVYLEVBQUU7d0JBQUVZLGNBQWNELEVBQUVDLFlBQVk7d0JBQUVDLGdCQUFnQkYsRUFBRUUsY0FBYzt3QkFBR0Msb0JBQW9CSCxFQUFFRyxrQkFBa0I7b0JBQUU7WUFDbEtDLGNBQWMsSUFBTTFCLE1BQU0yQixZQUFZLENBQUNsQixPQUFPO1lBQzlDbUIsVUFBVSxJQUFNQyxLQUFLQyxLQUFLLENBQUNELEtBQUtFLFNBQVMsQ0FBQy9CLE1BQU1nQyxRQUFRLENBQUN2QixPQUFPO1lBQ2hFd0IsdUJBQXVCLElBQU1qQyxNQUFNa0MsaUJBQWlCLENBQUN6QixPQUFPO1lBQzVEMEIsVUFBVSxJQUFNbkMsTUFBTW9DLGVBQWUsQ0FBQzNCLE9BQU87UUFDL0M7UUFFQUksT0FBT3dCLGNBQWMsQ0FBQ3BDLFdBQVcsd0JBQXdCO1lBQ3ZEcUM7Z0JBQ0UsT0FBT3ZDLFlBQVlBLFVBQVV3Qyx1QkFBdUIsS0FBSztZQUMzRDtZQUNBQyxZQUFZO1FBQ2Q7UUFFQUMsT0FBT0MsZ0JBQWdCLEdBQUd6QztRQUMxQixPQUFPO1lBQ0wsT0FBT3dDLE9BQU9DLGdCQUFnQjtRQUNoQztJQUNGLEdBQUc7UUFBQzNDO1FBQVdDO0tBQU07QUFDdkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2hvb2tzL3VzZUF1ZGlvSW5zcGVjdG9yLnRzP2IxOGIiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnXG5cbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgdXNlUGFydHNTdG9yZSB9IGZyb20gJy4vdXNlUGFydHNTdG9yZSdcbmltcG9ydCB7IGF1ZGlvU2VydmljZSB9IGZyb20gJ0AvbGliL2F1ZGlvL0F1ZGlvU2VydmljZSdcbmltcG9ydCB0eXBlIHsgQXVkaW9JbnNwZWN0b3JTbmFwc2hvdCB9IGZyb20gJ0AvbGliL3R5cGVzJ1xuaW1wb3J0IHR5cGUgeyBBdWRpb1NjaGVkdWxlciB9IGZyb20gJ0AvbGliL2F1ZGlvL0F1ZGlvU2NoZWR1bGVyJ1xuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBXaW5kb3cge1xuICAgIF9fYXVkaW9JbnNwZWN0b3I/OiBBdWRpb0luc3BlY3RvclNuYXBzaG90XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUF1ZGlvSW5zcGVjdG9yKHNjaGVkdWxlcj86IEF1ZGlvU2NoZWR1bGVyKSB7XG4gIGNvbnN0IHN0b3JlID0gdXNlUGFydHNTdG9yZSgpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaW5zcGVjdG9yOiBhbnkgPSB7XG4gICAgICBnZXRBdWRpb0J1ZmZlcnM6ICgpID0+IGF1ZGlvU2VydmljZS5nZXRJbnNwZWN0b3JTbmFwc2hvdCgpLmdldEF1ZGlvQnVmZmVycygpLFxuICAgICAgZ2V0QXVkaW9CdWZmZXJzQnlUZW1wbzogKCkgPT4gYXVkaW9TZXJ2aWNlLmdldEJ1ZmZlcnNCeUluc3RUZW1wb1NuYXBzaG90KCksXG4gICAgICBnZXROb2RlU3RhcnRUaW1lczogKCkgPT4ge1xuICAgICAgICBjb25zdCBhcnJNYXAgPSBzdG9yZS5ub2RlU3RhcnRUaW1lc1JlZi5jdXJyZW50XG4gICAgICAgIGNvbnN0IG91dDogUmVjb3JkPHN0cmluZywgeyBzb2Z0PzogbnVtYmVyOyBsb3VkPzogbnVtYmVyIH0+ID0ge31cbiAgICAgICAgZm9yIChjb25zdCBbaWQsIHZdIG9mIE9iamVjdC5lbnRyaWVzKGFyck1hcCkpIHtcbiAgICAgICAgICBjb25zdCBzb2Z0ID0gdi5zb2Z0ICYmIHYuc29mdC5sZW5ndGggPiAwID8gdi5zb2Z0W3Yuc29mdC5sZW5ndGggLSAxXSA6IHVuZGVmaW5lZFxuICAgICAgICAgIGNvbnN0IGxvdWQgPSB2LmxvdWQgJiYgdi5sb3VkLmxlbmd0aCA+IDAgPyB2LmxvdWRbdi5sb3VkLmxlbmd0aCAtIDFdIDogdW5kZWZpbmVkXG4gICAgICAgICAgb3V0W2lkXSA9IHsgc29mdCwgbG91ZCB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dFxuICAgICAgfSxcbiAgICAgIGdldERlZmVycmVkUXVldWU6ICgpID0+XG4gICAgICAgIHN0b3JlLmRlZmVycmVkUXVldWVSZWYuY3VycmVudC5tYXAocSA9PiAoeyBpZDogcS5pZCwgaW5zdHJ1bWVudElkOiBxLmluc3RydW1lbnRJZCwgcXVldWVTdGFydFRpbWU6IHEucXVldWVTdGFydFRpbWUhLCBxdWV1ZVRpbWVSZW1haW5pbmc6IHEucXVldWVUaW1lUmVtYWluaW5nISB9KSksXG4gICAgICBnZXRQbGF5U3RhdGU6ICgpID0+IHN0b3JlLnBsYXlTdGF0ZVJlZi5jdXJyZW50LFxuICAgICAgZ2V0UGFydHM6ICgpID0+IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc3RvcmUucGFydHNSZWYuY3VycmVudCkpLFxuICAgICAgZ2V0VHJhbnNwb3J0U3RhcnRUaW1lOiAoKSA9PiBzdG9yZS50cmFuc3BvcnRTdGFydFJlZi5jdXJyZW50LFxuICAgICAgZ2V0VGVtcG86ICgpID0+IHN0b3JlLmN1cnJlbnRUZW1wb1JlZi5jdXJyZW50XG4gICAgfVxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGluc3BlY3RvciwgJ3NjaGVkdWxlZFRlbXBvU3dpdGNoJywge1xuICAgICAgZ2V0KCkge1xuICAgICAgICByZXR1cm4gc2NoZWR1bGVyID8gc2NoZWR1bGVyLmdldFNjaGVkdWxlZFRlbXBvU3dpdGNoKCkgOiBudWxsXG4gICAgICB9LFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgIH0pXG5cbiAgICB3aW5kb3cuX19hdWRpb0luc3BlY3RvciA9IGluc3BlY3RvclxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBkZWxldGUgd2luZG93Ll9fYXVkaW9JbnNwZWN0b3JcbiAgICB9XG4gIH0sIFtzY2hlZHVsZXIsIHN0b3JlXSlcbn1cbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VQYXJ0c1N0b3JlIiwiYXVkaW9TZXJ2aWNlIiwidXNlQXVkaW9JbnNwZWN0b3IiLCJzY2hlZHVsZXIiLCJzdG9yZSIsImluc3BlY3RvciIsImdldEF1ZGlvQnVmZmVycyIsImdldEluc3BlY3RvclNuYXBzaG90IiwiZ2V0QXVkaW9CdWZmZXJzQnlUZW1wbyIsImdldEJ1ZmZlcnNCeUluc3RUZW1wb1NuYXBzaG90IiwiZ2V0Tm9kZVN0YXJ0VGltZXMiLCJhcnJNYXAiLCJub2RlU3RhcnRUaW1lc1JlZiIsImN1cnJlbnQiLCJvdXQiLCJpZCIsInYiLCJPYmplY3QiLCJlbnRyaWVzIiwic29mdCIsImxlbmd0aCIsInVuZGVmaW5lZCIsImxvdWQiLCJnZXREZWZlcnJlZFF1ZXVlIiwiZGVmZXJyZWRRdWV1ZVJlZiIsIm1hcCIsInEiLCJpbnN0cnVtZW50SWQiLCJxdWV1ZVN0YXJ0VGltZSIsInF1ZXVlVGltZVJlbWFpbmluZyIsImdldFBsYXlTdGF0ZSIsInBsYXlTdGF0ZVJlZiIsImdldFBhcnRzIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwicGFydHNSZWYiLCJnZXRUcmFuc3BvcnRTdGFydFRpbWUiLCJ0cmFuc3BvcnRTdGFydFJlZiIsImdldFRlbXBvIiwiY3VycmVudFRlbXBvUmVmIiwiZGVmaW5lUHJvcGVydHkiLCJnZXQiLCJnZXRTY2hlZHVsZWRUZW1wb1N3aXRjaCIsImVudW1lcmFibGUiLCJ3aW5kb3ciLCJfX2F1ZGlvSW5zcGVjdG9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/hooks/useAudioInspector.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/hooks/usePartsStore.ts":
/*!************************************!*\
  !*** ./src/hooks/usePartsStore.ts ***!
  \************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   usePartsStore: function() { return /* binding */ usePartsStore; }\n/* harmony export */ });\n/* harmony import */ var zustand__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zustand */ \"(app-pages-browser)/./node_modules/zustand/esm/index.mjs\");\n/* __next_internal_client_entry_do_not_use__ usePartsStore auto */ \nconst initialParts = [\n    {\n        id: \"melody\",\n        name: \"Melody\",\n        assignedInstruments: []\n    },\n    {\n        id: \"harmony\",\n        name: \"Harmony\",\n        assignedInstruments: []\n    },\n    {\n        id: \"rhythm\",\n        name: \"Rhythm\",\n        assignedInstruments: []\n    },\n    {\n        id: \"texture\",\n        name: \"Texture\",\n        assignedInstruments: []\n    }\n];\nconst usePartsStore = (0,zustand__WEBPACK_IMPORTED_MODULE_0__.create)((set, get)=>({\n        parts: initialParts,\n        play: false,\n        tempo: \"fast\",\n        soloInstanceId: null,\n        selectedInstrument: null,\n        partsRef: {\n            current: initialParts\n        },\n        playStateRef: {\n            current: false\n        },\n        transportStartRef: {\n            current: null\n        },\n        currentTempoRef: {\n            current: \"fast\"\n        },\n        deferredQueueRef: {\n            current: []\n        },\n        removedInstanceIdsRef: {\n            current: new Set()\n        },\n        nodeStartTimesRef: {\n            current: {}\n        },\n        loopAnchorRef: {\n            current: null\n        },\n        setPlay (p) {\n            set({\n                play: p\n            });\n            get().playStateRef.current = p;\n        },\n        setTempo (t) {\n            set({\n                tempo: t\n            });\n            get().currentTempoRef.current = t;\n        },\n        setParts (updater) {\n            set((state)=>{\n                const next = updater(state.parts);\n                get().partsRef.current = next;\n                return {\n                    parts: next\n                };\n            });\n        },\n        setSelectedInstrument (sel) {\n            set({\n                selectedInstrument: sel\n            });\n        },\n        setSoloInstanceId (id) {\n            set({\n                soloInstanceId: id\n            });\n        }\n    }));\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9ob29rcy91c2VQYXJ0c1N0b3JlLnRzIiwibWFwcGluZ3MiOiI7Ozs7O21FQUVnQztBQXlCaEMsTUFBTUMsZUFBOEI7SUFDbEM7UUFBRUMsSUFBSTtRQUFVQyxNQUFNO1FBQVVDLHFCQUFxQixFQUFFO0lBQUM7SUFDeEQ7UUFBRUYsSUFBSTtRQUFXQyxNQUFNO1FBQVdDLHFCQUFxQixFQUFFO0lBQUM7SUFDMUQ7UUFBRUYsSUFBSTtRQUFVQyxNQUFNO1FBQVVDLHFCQUFxQixFQUFFO0lBQUM7SUFDeEQ7UUFBRUYsSUFBSTtRQUFXQyxNQUFNO1FBQVdDLHFCQUFxQixFQUFFO0lBQUM7Q0FDM0Q7QUFFTSxNQUFNQyxnQkFBZ0JMLCtDQUFNQSxDQUFRLENBQUNNLEtBQVVDLE1BQWM7UUFDbEVDLE9BQU9QO1FBQ1BRLE1BQU07UUFDTkMsT0FBTztRQUNQQyxnQkFBZ0I7UUFDaEJDLG9CQUFvQjtRQUNwQkMsVUFBVTtZQUFFQyxTQUFTYjtRQUFhO1FBQ2xDYyxjQUFjO1lBQUVELFNBQVM7UUFBTTtRQUMvQkUsbUJBQW1CO1lBQUVGLFNBQVM7UUFBSztRQUNuQ0csaUJBQWlCO1lBQUVILFNBQVM7UUFBTztRQUNuQ0ksa0JBQWtCO1lBQUVKLFNBQVMsRUFBRTtRQUFDO1FBQ2hDSyx1QkFBdUI7WUFBRUwsU0FBUyxJQUFJTTtRQUFNO1FBQzVDQyxtQkFBbUI7WUFBRVAsU0FBUyxDQUFDO1FBQUU7UUFDakNRLGVBQWU7WUFBRVIsU0FBUztRQUFLO1FBQy9CUyxTQUFRQyxDQUFVO1lBQ2hCbEIsSUFBSTtnQkFBRUcsTUFBTWU7WUFBRTtZQUNkakIsTUFBTVEsWUFBWSxDQUFDRCxPQUFPLEdBQUdVO1FBQy9CO1FBQ0FDLFVBQVNDLENBQWtCO1lBQ3pCcEIsSUFBSTtnQkFBRUksT0FBT2dCO1lBQUU7WUFDZm5CLE1BQU1VLGVBQWUsQ0FBQ0gsT0FBTyxHQUFHWTtRQUNsQztRQUNBQyxVQUFTQyxPQUErQztZQUN0RHRCLElBQUksQ0FBQ3VCO2dCQUNILE1BQU1DLE9BQU9GLFFBQVFDLE1BQU1yQixLQUFLO2dCQUNoQ0QsTUFBTU0sUUFBUSxDQUFDQyxPQUFPLEdBQUdnQjtnQkFDekIsT0FBTztvQkFBRXRCLE9BQU9zQjtnQkFBSztZQUN2QjtRQUNGO1FBQ0FDLHVCQUFzQkMsR0FBRztZQUN2QjFCLElBQUk7Z0JBQUVNLG9CQUFvQm9CO1lBQUk7UUFDaEM7UUFDQUMsbUJBQWtCL0IsRUFBRTtZQUNsQkksSUFBSTtnQkFBRUssZ0JBQWdCVDtZQUFHO1FBQzNCO0lBQ0YsSUFBRyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvaG9va3MvdXNlUGFydHNTdG9yZS50cz9iOWExIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50J1xuXG5pbXBvcnQgeyBjcmVhdGUgfSBmcm9tICd6dXN0YW5kJ1xuaW1wb3J0IHR5cGUgeyBBc3NpZ25lZEluc3RydW1lbnQsIE11c2ljYWxQYXJ0LCBQYXJ0SWQsIFRlbXBvIH0gZnJvbSAnQC9saWIvdHlwZXMnXG5cbmV4cG9ydCB0eXBlIFN0b3JlID0ge1xuICBwYXJ0czogTXVzaWNhbFBhcnRbXVxuICBwbGF5OiBib29sZWFuXG4gIHRlbXBvOiBUZW1wb1xuICBzb2xvSW5zdGFuY2VJZDogc3RyaW5nIHwgbnVsbFxuICBzZWxlY3RlZEluc3RydW1lbnQ6IHsgaWQ6IHN0cmluZzsgbmFtZTogc3RyaW5nIH0gfCBudWxsXG4gIC8vIG11dGFibGUgcmVmcyBtaXJyb3JzXG4gIHBhcnRzUmVmOiB7IGN1cnJlbnQ6IE11c2ljYWxQYXJ0W10gfVxuICBwbGF5U3RhdGVSZWY6IHsgY3VycmVudDogYm9vbGVhbiB9XG4gIHRyYW5zcG9ydFN0YXJ0UmVmOiB7IGN1cnJlbnQ6IG51bWJlciB8IG51bGwgfVxuICBjdXJyZW50VGVtcG9SZWY6IHsgY3VycmVudDogVGVtcG8gfVxuICBkZWZlcnJlZFF1ZXVlUmVmOiB7IGN1cnJlbnQ6IEFzc2lnbmVkSW5zdHJ1bWVudFtdIH1cbiAgcmVtb3ZlZEluc3RhbmNlSWRzUmVmOiB7IGN1cnJlbnQ6IFNldDxzdHJpbmc+IH1cbiAgbm9kZVN0YXJ0VGltZXNSZWY6IHsgY3VycmVudDogUmVjb3JkPHN0cmluZywgeyBzb2Z0PzogbnVtYmVyW107IGxvdWQ/OiBudW1iZXJbXSB9PiB9XG4gIGxvb3BBbmNob3JSZWY6IHsgY3VycmVudDogbnVtYmVyIHwgbnVsbCB9XG4gIHNldFBsYXk6IChwOiBib29sZWFuKSA9PiB2b2lkXG4gIHNldFRlbXBvOiAodDogVGVtcG8pID0+IHZvaWRcbiAgc2V0UGFydHM6ICh1cGRhdGVyOiAocHJldjogTXVzaWNhbFBhcnRbXSkgPT4gTXVzaWNhbFBhcnRbXSkgPT4gdm9pZFxuICBzZXRTZWxlY3RlZEluc3RydW1lbnQ6IChzZWw6IHsgaWQ6IHN0cmluZzsgbmFtZTogc3RyaW5nIH0gfCBudWxsKSA9PiB2b2lkXG4gIHNldFNvbG9JbnN0YW5jZUlkOiAoaWQ6IHN0cmluZyB8IG51bGwpID0+IHZvaWRcbn1cblxuY29uc3QgaW5pdGlhbFBhcnRzOiBNdXNpY2FsUGFydFtdID0gW1xuICB7IGlkOiAnbWVsb2R5JywgbmFtZTogJ01lbG9keScsIGFzc2lnbmVkSW5zdHJ1bWVudHM6IFtdIH0sXG4gIHsgaWQ6ICdoYXJtb255JywgbmFtZTogJ0hhcm1vbnknLCBhc3NpZ25lZEluc3RydW1lbnRzOiBbXSB9LFxuICB7IGlkOiAncmh5dGhtJywgbmFtZTogJ1JoeXRobScsIGFzc2lnbmVkSW5zdHJ1bWVudHM6IFtdIH0sXG4gIHsgaWQ6ICd0ZXh0dXJlJywgbmFtZTogJ1RleHR1cmUnLCBhc3NpZ25lZEluc3RydW1lbnRzOiBbXSB9XG5dXG5cbmV4cG9ydCBjb25zdCB1c2VQYXJ0c1N0b3JlID0gY3JlYXRlPFN0b3JlPigoc2V0OiBhbnksIGdldDogYW55KSA9PiAoe1xuICBwYXJ0czogaW5pdGlhbFBhcnRzLFxuICBwbGF5OiBmYWxzZSxcbiAgdGVtcG86ICdmYXN0JyxcbiAgc29sb0luc3RhbmNlSWQ6IG51bGwsXG4gIHNlbGVjdGVkSW5zdHJ1bWVudDogbnVsbCxcbiAgcGFydHNSZWY6IHsgY3VycmVudDogaW5pdGlhbFBhcnRzIH0sXG4gIHBsYXlTdGF0ZVJlZjogeyBjdXJyZW50OiBmYWxzZSB9LFxuICB0cmFuc3BvcnRTdGFydFJlZjogeyBjdXJyZW50OiBudWxsIH0sXG4gIGN1cnJlbnRUZW1wb1JlZjogeyBjdXJyZW50OiAnZmFzdCcgfSxcbiAgZGVmZXJyZWRRdWV1ZVJlZjogeyBjdXJyZW50OiBbXSB9LFxuICByZW1vdmVkSW5zdGFuY2VJZHNSZWY6IHsgY3VycmVudDogbmV3IFNldCgpIH0sXG4gIG5vZGVTdGFydFRpbWVzUmVmOiB7IGN1cnJlbnQ6IHt9IH0sXG4gIGxvb3BBbmNob3JSZWY6IHsgY3VycmVudDogbnVsbCB9LFxuICBzZXRQbGF5KHA6IGJvb2xlYW4pIHtcbiAgICBzZXQoeyBwbGF5OiBwIH0pXG4gICAgZ2V0KCkucGxheVN0YXRlUmVmLmN1cnJlbnQgPSBwXG4gIH0sXG4gIHNldFRlbXBvKHQ6ICdmYXN0JyB8ICdzbG93Jykge1xuICAgIHNldCh7IHRlbXBvOiB0IH0pXG4gICAgZ2V0KCkuY3VycmVudFRlbXBvUmVmLmN1cnJlbnQgPSB0XG4gIH0sXG4gIHNldFBhcnRzKHVwZGF0ZXI6IChwcmV2OiBNdXNpY2FsUGFydFtdKSA9PiBNdXNpY2FsUGFydFtdKSB7XG4gICAgc2V0KChzdGF0ZTogeyBwYXJ0czogTXVzaWNhbFBhcnRbXSB9KSA9PiB7XG4gICAgICBjb25zdCBuZXh0ID0gdXBkYXRlcihzdGF0ZS5wYXJ0cylcbiAgICAgIGdldCgpLnBhcnRzUmVmLmN1cnJlbnQgPSBuZXh0XG4gICAgICByZXR1cm4geyBwYXJ0czogbmV4dCB9XG4gICAgfSlcbiAgfSxcbiAgc2V0U2VsZWN0ZWRJbnN0cnVtZW50KHNlbCkge1xuICAgIHNldCh7IHNlbGVjdGVkSW5zdHJ1bWVudDogc2VsIH0pXG4gIH0sXG4gIHNldFNvbG9JbnN0YW5jZUlkKGlkKSB7XG4gICAgc2V0KHsgc29sb0luc3RhbmNlSWQ6IGlkIH0pXG4gIH1cbn0pKVxuIl0sIm5hbWVzIjpbImNyZWF0ZSIsImluaXRpYWxQYXJ0cyIsImlkIiwibmFtZSIsImFzc2lnbmVkSW5zdHJ1bWVudHMiLCJ1c2VQYXJ0c1N0b3JlIiwic2V0IiwiZ2V0IiwicGFydHMiLCJwbGF5IiwidGVtcG8iLCJzb2xvSW5zdGFuY2VJZCIsInNlbGVjdGVkSW5zdHJ1bWVudCIsInBhcnRzUmVmIiwiY3VycmVudCIsInBsYXlTdGF0ZVJlZiIsInRyYW5zcG9ydFN0YXJ0UmVmIiwiY3VycmVudFRlbXBvUmVmIiwiZGVmZXJyZWRRdWV1ZVJlZiIsInJlbW92ZWRJbnN0YW5jZUlkc1JlZiIsIlNldCIsIm5vZGVTdGFydFRpbWVzUmVmIiwibG9vcEFuY2hvclJlZiIsInNldFBsYXkiLCJwIiwic2V0VGVtcG8iLCJ0Iiwic2V0UGFydHMiLCJ1cGRhdGVyIiwic3RhdGUiLCJuZXh0Iiwic2V0U2VsZWN0ZWRJbnN0cnVtZW50Iiwic2VsIiwic2V0U29sb0luc3RhbmNlSWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/hooks/usePartsStore.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/hooks/useSpaceToggle.ts":
/*!*************************************!*\
  !*** ./src/hooks/useSpaceToggle.ts ***!
  \*************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useSpaceToggle: function() { return /* binding */ useSpaceToggle; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction useSpaceToggle(onToggle) {\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const handler = (e)=>{\n            if (e.code !== \"Space\") return;\n            const target = e.target;\n            const tag = ((target === null || target === void 0 ? void 0 : target.tagName) || \"\").toLowerCase();\n            if (tag === \"input\" || tag === \"textarea\" || tag === \"select\" || (target === null || target === void 0 ? void 0 : target.isContentEditable)) return;\n            e.preventDefault();\n            onToggle();\n        };\n        window.addEventListener(\"keydown\", handler);\n        return ()=>window.removeEventListener(\"keydown\", handler);\n    }, [\n        onToggle\n    ]);\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9ob29rcy91c2VTcGFjZVRvZ2dsZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBaUM7QUFFMUIsU0FBU0MsZUFBZUMsUUFBb0I7SUFDakRGLGdEQUFTQSxDQUFDO1FBQ1IsTUFBTUcsVUFBVSxDQUFDQztZQUNmLElBQUlBLEVBQUVDLElBQUksS0FBSyxTQUFTO1lBQ3hCLE1BQU1DLFNBQVNGLEVBQUVFLE1BQU07WUFDdkIsTUFBTUMsTUFBTSxDQUFDRCxDQUFBQSxtQkFBQUEsNkJBQUFBLE9BQVFFLE9BQU8sS0FBSSxFQUFDLEVBQUdDLFdBQVc7WUFDL0MsSUFBSUYsUUFBUSxXQUFXQSxRQUFRLGNBQWNBLFFBQVEsYUFBWUQsbUJBQUFBLDZCQUFBQSxPQUFRSSxpQkFBaUIsR0FBRTtZQUM1Rk4sRUFBRU8sY0FBYztZQUNoQlQ7UUFDRjtRQUNBVSxPQUFPQyxnQkFBZ0IsQ0FBQyxXQUFXVjtRQUNuQyxPQUFPLElBQU1TLE9BQU9FLG1CQUFtQixDQUFDLFdBQVdYO0lBQ3JELEdBQUc7UUFBQ0Q7S0FBUztBQUNmIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9ob29rcy91c2VTcGFjZVRvZ2dsZS50cz9mOGNmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0J1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlU3BhY2VUb2dnbGUob25Ub2dnbGU6ICgpID0+IHZvaWQpIHtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVyID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICAgIGlmIChlLmNvZGUgIT09ICdTcGFjZScpIHJldHVyblxuICAgICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQgfCBudWxsXG4gICAgICBjb25zdCB0YWcgPSAodGFyZ2V0Py50YWdOYW1lIHx8ICcnKS50b0xvd2VyQ2FzZSgpXG4gICAgICBpZiAodGFnID09PSAnaW5wdXQnIHx8IHRhZyA9PT0gJ3RleHRhcmVhJyB8fCB0YWcgPT09ICdzZWxlY3QnIHx8IHRhcmdldD8uaXNDb250ZW50RWRpdGFibGUpIHJldHVyblxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICBvblRvZ2dsZSgpXG4gICAgfVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlcilcbiAgICByZXR1cm4gKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVyKVxuICB9LCBbb25Ub2dnbGVdKVxufVxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVNwYWNlVG9nZ2xlIiwib25Ub2dnbGUiLCJoYW5kbGVyIiwiZSIsImNvZGUiLCJ0YXJnZXQiLCJ0YWciLCJ0YWdOYW1lIiwidG9Mb3dlckNhc2UiLCJpc0NvbnRlbnRFZGl0YWJsZSIsInByZXZlbnREZWZhdWx0Iiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/hooks/useSpaceToggle.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/lib/audio/AudioScheduler.ts":
/*!*****************************************!*\
  !*** ./src/lib/audio/AudioScheduler.ts ***!
  \*****************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AudioScheduler: function() { return /* binding */ AudioScheduler; }\n/* harmony export */ });\n/* harmony import */ var _audioUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./audioUtils */ \"(app-pages-browser)/./src/lib/audio/audioUtils.ts\");\n/* harmony import */ var _AudioService__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AudioService */ \"(app-pages-browser)/./src/lib/audio/AudioService.ts\");\n\n\nclass AudioScheduler {\n    scheduleLoopStartIfNeeded() {\n        const ctx = _AudioService__WEBPACK_IMPORTED_MODULE_1__.audioService.audioCtx;\n        if (!ctx) return;\n        const transportStart = this.transportStartRef.current;\n        if (transportStart == null) return;\n        const tempo = this.currentTempoRef.current;\n        const { nextBeatIndex, scheduleTime } = (0,_audioUtils__WEBPACK_IMPORTED_MODULE_0__.computeNextBeatScheduleTime)(ctx.currentTime, transportStart, tempo);\n        const spb = (0,_audioUtils__WEBPACK_IMPORTED_MODULE_0__.secondsPerBeat)(tempo);\n        // schedule all assigned instruments\n        for (const part of this.partsRef.current){\n            for (const inst of part.assignedInstruments){\n                if (this.removedInstanceIdsRef.current.has(inst.id)) continue;\n                const bufs = _AudioService__WEBPACK_IMPORTED_MODULE_1__.audioService.getBuffersFor(inst.id, tempo);\n                if (!bufs) continue;\n                const fadeMs = 15;\n                if (bufs.soft) {\n                    var _this_nodeStartTimesRef_current, _inst_id;\n                    // At loop iteration boundaries, start from the beginning of the buffer to avoid cutting off the first beat\n                    const off = 0;\n                    _AudioService__WEBPACK_IMPORTED_MODULE_1__.audioService.createAndStartNode(inst.id, bufs.soft, \"soft\", scheduleTime, off, fadeMs);\n                    const entry = (_this_nodeStartTimesRef_current = this.nodeStartTimesRef.current)[_inst_id = inst.id] || (_this_nodeStartTimesRef_current[_inst_id] = {\n                        soft: [],\n                        loud: []\n                    });\n                    entry.soft.push(scheduleTime);\n                }\n                if (bufs.loud) {\n                    var _this_nodeStartTimesRef_current1, _inst_id1;\n                    const off = 0;\n                    _AudioService__WEBPACK_IMPORTED_MODULE_1__.audioService.createAndStartNode(inst.id, bufs.loud, \"loud\", scheduleTime, off, fadeMs);\n                    const entry2 = (_this_nodeStartTimesRef_current1 = this.nodeStartTimesRef.current)[_inst_id1 = inst.id] || (_this_nodeStartTimesRef_current1[_inst_id1] = {\n                        soft: [],\n                        loud: []\n                    });\n                    entry2.loud.push(scheduleTime);\n                }\n            }\n        }\n        this.loopAnchorRef.current = scheduleTime;\n        // schedule processing of deferred queue exactly at scheduleTime\n        const delayMs = Math.max(0, (scheduleTime - ctx.currentTime) * 1000);\n        setTimeout(()=>this.processDeferredQueueAtBeat(nextBeatIndex, scheduleTime), delayMs);\n        // schedule next loop\n        const lead = 0.02;\n        const loopT = scheduleTime + (0,_audioUtils__WEBPACK_IMPORTED_MODULE_0__.loopDuration)(tempo) - lead;\n        const nextDelayMs = Math.max(0, (loopT - ctx.currentTime) * 1000);\n        this.loopTimer = setTimeout(()=>this.scheduleLoopStartIfNeeded(), nextDelayMs);\n    }\n    async processDeferredQueueAtBeat(beatIndex, scheduleTime) {\n        const tempo = this.currentTempoRef.current;\n        const ctx = _AudioService__WEBPACK_IMPORTED_MODULE_1__.audioService.audioCtx;\n        if (!ctx) return;\n        const q = this.deferredQueueRef.current.slice();\n        this.deferredQueueRef.current = [];\n        for (const inst of q){\n            var _this_partsRef_current_find;\n            if (this.removedInstanceIdsRef.current.has(inst.id)) continue;\n            const partId = (_this_partsRef_current_find = this.partsRef.current.find((p)=>p.assignedInstruments.some((ai)=>ai.id === inst.id))) === null || _this_partsRef_current_find === void 0 ? void 0 : _this_partsRef_current_find.id;\n            if (!partId) continue;\n            await _AudioService__WEBPACK_IMPORTED_MODULE_1__.audioService.preloadTempoForInstance(inst.id, partId, inst.instrumentId, tempo);\n            const bufs = _AudioService__WEBPACK_IMPORTED_MODULE_1__.audioService.getBuffersFor(inst.id, tempo);\n            if (!bufs) continue;\n            const fadeMs = 15;\n            if (bufs.soft) {\n                var _this_nodeStartTimesRef_current, _inst_id;\n                const off = (0,_audioUtils__WEBPACK_IMPORTED_MODULE_0__.computeTargetOffsetForBeat)(beatIndex, tempo, bufs.soft.duration);\n                _AudioService__WEBPACK_IMPORTED_MODULE_1__.audioService.createAndStartNode(inst.id, bufs.soft, \"soft\", scheduleTime, off, fadeMs);\n                const e = (_this_nodeStartTimesRef_current = this.nodeStartTimesRef.current)[_inst_id = inst.id] || (_this_nodeStartTimesRef_current[_inst_id] = {\n                    soft: [],\n                    loud: []\n                });\n                e.soft.push(scheduleTime);\n            }\n            if (bufs.loud) {\n                var _this_nodeStartTimesRef_current1, _inst_id1;\n                const off = (0,_audioUtils__WEBPACK_IMPORTED_MODULE_0__.computeTargetOffsetForBeat)(beatIndex, tempo, bufs.loud.duration);\n                _AudioService__WEBPACK_IMPORTED_MODULE_1__.audioService.createAndStartNode(inst.id, bufs.loud, \"loud\", scheduleTime, off, fadeMs);\n                const e2 = (_this_nodeStartTimesRef_current1 = this.nodeStartTimesRef.current)[_inst_id1 = inst.id] || (_this_nodeStartTimesRef_current1[_inst_id1] = {\n                    soft: [],\n                    loud: []\n                });\n                e2.loud.push(scheduleTime);\n            }\n            // flip isLoading off in UI when scheduled\n            if (this.setPartsCb) {\n                this.setPartsCb((prev)=>prev.map((p)=>({\n                            ...p,\n                            assignedInstruments: p.assignedInstruments.map((ai)=>ai.id === inst.id ? {\n                                    ...ai,\n                                    isLoading: false,\n                                    queueTimeRemaining: undefined,\n                                    queueStartTime: undefined\n                                } : ai)\n                        })));\n            }\n        }\n    }\n    async scheduleTempoSwitch(targetTempo) {\n        const ctx = _AudioService__WEBPACK_IMPORTED_MODULE_1__.audioService.audioCtx;\n        if (!ctx) return;\n        // preload for all assigned and queued\n        const parts = this.partsRef.current;\n        await Promise.all(parts.flatMap((p)=>p.assignedInstruments.map((inst)=>_AudioService__WEBPACK_IMPORTED_MODULE_1__.audioService.preloadTempoForInstance(inst.id, p.id, inst.instrumentId, targetTempo))));\n        await Promise.all(this.deferredQueueRef.current.map((inst)=>{\n            var _parts_find;\n            const partId = (_parts_find = parts.find((p)=>p.assignedInstruments.some((ai)=>ai.id === inst.id))) === null || _parts_find === void 0 ? void 0 : _parts_find.id;\n            return partId ? _AudioService__WEBPACK_IMPORTED_MODULE_1__.audioService.preloadTempoForInstance(inst.id, partId, inst.instrumentId, targetTempo) : Promise.resolve();\n        }));\n        // compute next beat on current grid\n        const transportStart = this.transportStartRef.current;\n        if (transportStart == null) return;\n        const currentTempo = this.currentTempoRef.current;\n        const { nextBeatIndex, scheduleTime } = (0,_audioUtils__WEBPACK_IMPORTED_MODULE_0__.computeNextBeatScheduleTime)(ctx.currentTime, transportStart, currentTempo);\n        this.tempoSwitch = {\n            targetTempo,\n            scheduleTime\n        };\n        const delayMs = Math.max(0, (scheduleTime - ctx.currentTime) * 1000);\n        setTimeout(()=>{\n            // guard against duplicate execution\n            if (!this.tempoSwitch || this.tempoSwitch.scheduleTime !== scheduleTime || this.tempoSwitch.targetTempo !== targetTempo) return;\n            // At schedule, start new nodes at target tempo and fade old ones\n            for (const p of parts){\n                for (const inst of p.assignedInstruments){\n                    const newBufs = _AudioService__WEBPACK_IMPORTED_MODULE_1__.audioService.getBuffersFor(inst.id, targetTempo);\n                    const fadeMs = Math.min(60, (0,_audioUtils__WEBPACK_IMPORTED_MODULE_0__.secondsPerBeat)(targetTempo) * 1000);\n                    // First, fade out any existing nodes at scheduleTime to avoid clobbering the new ones\n                    _AudioService__WEBPACK_IMPORTED_MODULE_1__.audioService.fadeAndStopNode(inst.id, \"soft\", scheduleTime, fadeMs);\n                    _AudioService__WEBPACK_IMPORTED_MODULE_1__.audioService.fadeAndStopNode(inst.id, \"loud\", scheduleTime, fadeMs);\n                    if (newBufs === null || newBufs === void 0 ? void 0 : newBufs.soft) {\n                        const off = (0,_audioUtils__WEBPACK_IMPORTED_MODULE_0__.computeTargetOffsetForBeat)(nextBeatIndex, targetTempo, newBufs.soft.duration);\n                        _AudioService__WEBPACK_IMPORTED_MODULE_1__.audioService.createAndStartNode(inst.id, newBufs.soft, \"soft\", scheduleTime, off, fadeMs);\n                    }\n                    if (newBufs === null || newBufs === void 0 ? void 0 : newBufs.loud) {\n                        const off = (0,_audioUtils__WEBPACK_IMPORTED_MODULE_0__.computeTargetOffsetForBeat)(nextBeatIndex, targetTempo, newBufs.loud.duration);\n                        _AudioService__WEBPACK_IMPORTED_MODULE_1__.audioService.createAndStartNode(inst.id, newBufs.loud, \"loud\", scheduleTime, off, fadeMs);\n                    }\n                }\n            }\n            // Update tempo and re-anchor transport start so beat index continuity holds\n            this.currentTempoRef.current = targetTempo;\n            const spbTarget = (0,_audioUtils__WEBPACK_IMPORTED_MODULE_0__.secondsPerBeat)(targetTempo);\n            this.transportStartRef.current = scheduleTime - nextBeatIndex * spbTarget;\n            this.tempoSwitch = null;\n        }, delayMs);\n    }\n    getScheduledTempoSwitch() {\n        return this.tempoSwitch;\n    }\n    stop() {\n        if (this.loopTimer) {\n            clearTimeout(this.loopTimer);\n            this.loopTimer = null;\n        }\n    }\n    constructor(params){\n        this.loopTimer = null;\n        this.tempoSwitch = null;\n        this.partsRef = params.partsRef;\n        this.playStateRef = params.playStateRef;\n        this.transportStartRef = params.transportStartRef;\n        this.currentTempoRef = params.currentTempoRef;\n        this.deferredQueueRef = params.deferredQueueRef;\n        this.removedInstanceIdsRef = params.removedInstanceIdsRef;\n        this.nodeStartTimesRef = params.nodeStartTimesRef;\n        this.setPartsCb = params.setParts;\n        this.loopAnchorRef = params.loopAnchorRef || {\n            current: null\n        };\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvYXVkaW8vQXVkaW9TY2hlZHVsZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQW9IO0FBRXZFO0FBSXRDLE1BQU1LO0lBa0NYQyw0QkFBNEI7UUFDMUIsTUFBTUMsTUFBTUgsdURBQVlBLENBQUNJLFFBQVE7UUFDakMsSUFBSSxDQUFDRCxLQUFLO1FBQ1YsTUFBTUUsaUJBQWlCLElBQUksQ0FBQ0MsaUJBQWlCLENBQUNDLE9BQU87UUFDckQsSUFBSUYsa0JBQWtCLE1BQU07UUFDNUIsTUFBTUcsUUFBUSxJQUFJLENBQUNDLGVBQWUsQ0FBQ0YsT0FBTztRQUMxQyxNQUFNLEVBQUVHLGFBQWEsRUFBRUMsWUFBWSxFQUFFLEdBQUdmLHdFQUEyQkEsQ0FBQ08sSUFBSVMsV0FBVyxFQUFFUCxnQkFBZ0JHO1FBQ3ZHLE1BQU1LLE1BQU1kLDJEQUFjQSxDQUFDUztRQUN6QixvQ0FBb0M7UUFDcEMsS0FBSyxNQUFNTSxRQUFRLElBQUksQ0FBQ0MsUUFBUSxDQUFDUixPQUFPLENBQUU7WUFDeEMsS0FBSyxNQUFNUyxRQUFRRixLQUFLRyxtQkFBbUIsQ0FBRTtnQkFDM0MsSUFBSSxJQUFJLENBQUNDLHFCQUFxQixDQUFDWCxPQUFPLENBQUNZLEdBQUcsQ0FBQ0gsS0FBS0ksRUFBRSxHQUFHO2dCQUNyRCxNQUFNQyxPQUFPckIsdURBQVlBLENBQUNzQixhQUFhLENBQUNOLEtBQUtJLEVBQUUsRUFBRVo7Z0JBQ2pELElBQUksQ0FBQ2EsTUFBTTtnQkFDWCxNQUFNRSxTQUFTO2dCQUNmLElBQUlGLEtBQUtHLElBQUksRUFBRTt3QkFJRSxpQ0FBK0JSO29CQUg5QywyR0FBMkc7b0JBQzNHLE1BQU1TLE1BQU07b0JBQ1p6Qix1REFBWUEsQ0FBQzBCLGtCQUFrQixDQUFDVixLQUFLSSxFQUFFLEVBQUVDLEtBQUtHLElBQUksRUFBRSxRQUFRYixjQUFjYyxLQUFLRjtvQkFDL0UsTUFBTUksUUFBUyx1Q0FBSSxDQUFDQyxpQkFBaUIs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QUFJLENBQUM0QixVQUFVLEdBQUd3QixPQUFPRSxRQUFRO1FBQ2hDLElBQUssQ0FBU2xELGFBQWEsR0FBRyxPQUFnQkEsYUFBYSxJQUFJO1lBQUV6QixTQUFTO1FBQUs7SUFDbEY7QUFpSkYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2xpYi9hdWRpby9BdWRpb1NjaGVkdWxlci50cz82MjYxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNvbXB1dGVOZXh0QmVhdFNjaGVkdWxlVGltZSwgY29tcHV0ZVRhcmdldE9mZnNldEZvckJlYXQsIGxvb3BEdXJhdGlvbiwgc2Vjb25kc1BlckJlYXQgfSBmcm9tICcuL2F1ZGlvVXRpbHMnXG5pbXBvcnQgdHlwZSB7IEFzc2lnbmVkSW5zdHJ1bWVudCwgTXVzaWNhbFBhcnQsIFRlbXBvIH0gZnJvbSAnQC9saWIvdHlwZXMnXG5pbXBvcnQgeyBhdWRpb1NlcnZpY2UgfSBmcm9tICcuL0F1ZGlvU2VydmljZSdcblxudHlwZSBNdXRhYmxlUmVmPFQ+ID0geyBjdXJyZW50OiBUIH1cblxuZXhwb3J0IGNsYXNzIEF1ZGlvU2NoZWR1bGVyIHtcbiAgcGFydHNSZWY6IE11dGFibGVSZWY8TXVzaWNhbFBhcnRbXT5cbiAgcGxheVN0YXRlUmVmOiBNdXRhYmxlUmVmPGJvb2xlYW4+XG4gIHRyYW5zcG9ydFN0YXJ0UmVmOiBNdXRhYmxlUmVmPG51bWJlciB8IG51bGw+XG4gIGN1cnJlbnRUZW1wb1JlZjogTXV0YWJsZVJlZjxUZW1wbz5cbiAgZGVmZXJyZWRRdWV1ZVJlZjogTXV0YWJsZVJlZjxBc3NpZ25lZEluc3RydW1lbnRbXT5cbiAgcmVtb3ZlZEluc3RhbmNlSWRzUmVmOiBNdXRhYmxlUmVmPFNldDxzdHJpbmc+PlxuICBub2RlU3RhcnRUaW1lc1JlZjogTXV0YWJsZVJlZjxSZWNvcmQ8c3RyaW5nLCB7IHNvZnQ/OiBudW1iZXJbXTsgbG91ZD86IG51bWJlcltdIH0+PlxuICBwcml2YXRlIGxvb3BUaW1lcjogYW55ID0gbnVsbFxuICBwcml2YXRlIHRlbXBvU3dpdGNoOiB7IHRhcmdldFRlbXBvOiBUZW1wbzsgc2NoZWR1bGVUaW1lPzogbnVtYmVyIH0gfCBudWxsID0gbnVsbFxuICBwcml2YXRlIHNldFBhcnRzQ2I/OiAodXBkYXRlcjogKHByZXY6IE11c2ljYWxQYXJ0W10pID0+IE11c2ljYWxQYXJ0W10pID0+IHZvaWRcblxuICBjb25zdHJ1Y3RvcihwYXJhbXM6IHtcbiAgICBwYXJ0c1JlZjogTXV0YWJsZVJlZjxNdXNpY2FsUGFydFtdPlxuICAgIHBsYXlTdGF0ZVJlZjogTXV0YWJsZVJlZjxib29sZWFuPlxuICAgIHRyYW5zcG9ydFN0YXJ0UmVmOiBNdXRhYmxlUmVmPG51bWJlciB8IG51bGw+XG4gICAgY3VycmVudFRlbXBvUmVmOiBNdXRhYmxlUmVmPFRlbXBvPlxuICAgIGRlZmVycmVkUXVldWVSZWY6IE11dGFibGVSZWY8QXNzaWduZWRJbnN0cnVtZW50W10+XG4gICAgcmVtb3ZlZEluc3RhbmNlSWRzUmVmOiBNdXRhYmxlUmVmPFNldDxzdHJpbmc+PlxuICAgIG5vZGVTdGFydFRpbWVzUmVmOiBNdXRhYmxlUmVmPFJlY29yZDxzdHJpbmcsIHsgc29mdD86IG51bWJlcltdOyBsb3VkPzogbnVtYmVyW10gfT4+XG4gICAgbG9vcEFuY2hvclJlZj86IE11dGFibGVSZWY8bnVtYmVyIHwgbnVsbD5cbiAgICBzZXRQYXJ0cz86ICh1cGRhdGVyOiAocHJldjogTXVzaWNhbFBhcnRbXSkgPT4gTXVzaWNhbFBhcnRbXSkgPT4gdm9pZFxuICB9KSB7XG4gICAgdGhpcy5wYXJ0c1JlZiA9IHBhcmFtcy5wYXJ0c1JlZlxuICAgIHRoaXMucGxheVN0YXRlUmVmID0gcGFyYW1zLnBsYXlTdGF0ZVJlZlxuICAgIHRoaXMudHJhbnNwb3J0U3RhcnRSZWYgPSBwYXJhbXMudHJhbnNwb3J0U3RhcnRSZWZcbiAgICB0aGlzLmN1cnJlbnRUZW1wb1JlZiA9IHBhcmFtcy5jdXJyZW50VGVtcG9SZWZcbiAgICB0aGlzLmRlZmVycmVkUXVldWVSZWYgPSBwYXJhbXMuZGVmZXJyZWRRdWV1ZVJlZlxuICAgIHRoaXMucmVtb3ZlZEluc3RhbmNlSWRzUmVmID0gcGFyYW1zLnJlbW92ZWRJbnN0YW5jZUlkc1JlZlxuICAgIHRoaXMubm9kZVN0YXJ0VGltZXNSZWYgPSBwYXJhbXMubm9kZVN0YXJ0VGltZXNSZWZcbiAgICB0aGlzLnNldFBhcnRzQ2IgPSBwYXJhbXMuc2V0UGFydHNcbiAgICA7KHRoaXMgYXMgYW55KS5sb29wQW5jaG9yUmVmID0gKHBhcmFtcyBhcyBhbnkpLmxvb3BBbmNob3JSZWYgfHwgeyBjdXJyZW50OiBudWxsIH1cbiAgfVxuXG4gIHNjaGVkdWxlTG9vcFN0YXJ0SWZOZWVkZWQoKSB7XG4gICAgY29uc3QgY3R4ID0gYXVkaW9TZXJ2aWNlLmF1ZGlvQ3R4XG4gICAgaWYgKCFjdHgpIHJldHVyblxuICAgIGNvbnN0IHRyYW5zcG9ydFN0YXJ0ID0gdGhpcy50cmFuc3BvcnRTdGFydFJlZi5jdXJyZW50XG4gICAgaWYgKHRyYW5zcG9ydFN0YXJ0ID09IG51bGwpIHJldHVyblxuICAgIGNvbnN0IHRlbXBvID0gdGhpcy5jdXJyZW50VGVtcG9SZWYuY3VycmVudFxuICAgIGNvbnN0IHsgbmV4dEJlYXRJbmRleCwgc2NoZWR1bGVUaW1lIH0gPSBjb21wdXRlTmV4dEJlYXRTY2hlZHVsZVRpbWUoY3R4LmN1cnJlbnRUaW1lLCB0cmFuc3BvcnRTdGFydCwgdGVtcG8pXG4gIGNvbnN0IHNwYiA9IHNlY29uZHNQZXJCZWF0KHRlbXBvKVxuICAgIC8vIHNjaGVkdWxlIGFsbCBhc3NpZ25lZCBpbnN0cnVtZW50c1xuICAgIGZvciAoY29uc3QgcGFydCBvZiB0aGlzLnBhcnRzUmVmLmN1cnJlbnQpIHtcbiAgICAgIGZvciAoY29uc3QgaW5zdCBvZiBwYXJ0LmFzc2lnbmVkSW5zdHJ1bWVudHMpIHtcbiAgICAgICAgaWYgKHRoaXMucmVtb3ZlZEluc3RhbmNlSWRzUmVmLmN1cnJlbnQuaGFzKGluc3QuaWQpKSBjb250aW51ZVxuICAgICAgICBjb25zdCBidWZzID0gYXVkaW9TZXJ2aWNlLmdldEJ1ZmZlcnNGb3IoaW5zdC5pZCwgdGVtcG8pXG4gICAgICAgIGlmICghYnVmcykgY29udGludWVcbiAgICAgICAgY29uc3QgZmFkZU1zID0gMTVcbiAgICAgICAgaWYgKGJ1ZnMuc29mdCkge1xuICAgICAgICAgIC8vIEF0IGxvb3AgaXRlcmF0aW9uIGJvdW5kYXJpZXMsIHN0YXJ0IGZyb20gdGhlIGJlZ2lubmluZyBvZiB0aGUgYnVmZmVyIHRvIGF2b2lkIGN1dHRpbmcgb2ZmIHRoZSBmaXJzdCBiZWF0XG4gICAgICAgICAgY29uc3Qgb2ZmID0gMFxuICAgICAgICAgIGF1ZGlvU2VydmljZS5jcmVhdGVBbmRTdGFydE5vZGUoaW5zdC5pZCwgYnVmcy5zb2Z0LCAnc29mdCcsIHNjaGVkdWxlVGltZSwgb2ZmLCBmYWRlTXMpXG4gICAgICAgICAgY29uc3QgZW50cnkgPSAodGhpcy5ub2RlU3RhcnRUaW1lc1JlZi5jdXJyZW50W2luc3QuaWRdIHx8PSB7IHNvZnQ6IFtdLCBsb3VkOiBbXSB9KVxuICAgICAgICAgIGVudHJ5LnNvZnQhLnB1c2goc2NoZWR1bGVUaW1lKVxuICAgICAgICB9XG4gICAgICAgIGlmIChidWZzLmxvdWQpIHtcbiAgICAgICAgICBjb25zdCBvZmYgPSAwXG4gICAgICAgICAgYXVkaW9TZXJ2aWNlLmNyZWF0ZUFuZFN0YXJ0Tm9kZShpbnN0LmlkLCBidWZzLmxvdWQsICdsb3VkJywgc2NoZWR1bGVUaW1lLCBvZmYsIGZhZGVNcylcbiAgICAgICAgICBjb25zdCBlbnRyeTIgPSAodGhpcy5ub2RlU3RhcnRUaW1lc1JlZi5jdXJyZW50W2luc3QuaWRdIHx8PSB7IHNvZnQ6IFtdLCBsb3VkOiBbXSB9KVxuICAgICAgICAgIGVudHJ5Mi5sb3VkIS5wdXNoKHNjaGVkdWxlVGltZSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAvLyBVcGRhdGUgbG9vcCBhbmNob3Igc28gVUkgY2FuIHJlZmVyZW5jZSBhdWRpYmxlIHN0YXJ0IHRpbWVcbiAgOyh0aGlzIGFzIGFueSkubG9vcEFuY2hvclJlZi5jdXJyZW50ID0gc2NoZWR1bGVUaW1lXG5cbiAgLy8gc2NoZWR1bGUgcHJvY2Vzc2luZyBvZiBkZWZlcnJlZCBxdWV1ZSBleGFjdGx5IGF0IHNjaGVkdWxlVGltZVxuICAgIGNvbnN0IGRlbGF5TXMgPSBNYXRoLm1heCgwLCAoc2NoZWR1bGVUaW1lIC0gY3R4LmN1cnJlbnRUaW1lKSAqIDEwMDApXG4gICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLnByb2Nlc3NEZWZlcnJlZFF1ZXVlQXRCZWF0KG5leHRCZWF0SW5kZXgsIHNjaGVkdWxlVGltZSksIGRlbGF5TXMpXG5cbiAgICAvLyBzY2hlZHVsZSBuZXh0IGxvb3BcbiAgICBjb25zdCBsZWFkID0gMC4wMlxuICAgIGNvbnN0IGxvb3BUID0gc2NoZWR1bGVUaW1lICsgbG9vcER1cmF0aW9uKHRlbXBvKSAtIGxlYWRcbiAgICBjb25zdCBuZXh0RGVsYXlNcyA9IE1hdGgubWF4KDAsIChsb29wVCAtIGN0eC5jdXJyZW50VGltZSkgKiAxMDAwKVxuICAgIHRoaXMubG9vcFRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB0aGlzLnNjaGVkdWxlTG9vcFN0YXJ0SWZOZWVkZWQoKSwgbmV4dERlbGF5TXMpXG4gIH1cblxuICBhc3luYyBwcm9jZXNzRGVmZXJyZWRRdWV1ZUF0QmVhdChiZWF0SW5kZXg6IG51bWJlciwgc2NoZWR1bGVUaW1lOiBudW1iZXIpIHtcbiAgICBjb25zdCB0ZW1wbyA9IHRoaXMuY3VycmVudFRlbXBvUmVmLmN1cnJlbnRcbiAgICBjb25zdCBjdHggPSBhdWRpb1NlcnZpY2UuYXVkaW9DdHhcbiAgICBpZiAoIWN0eCkgcmV0dXJuXG4gICAgY29uc3QgcSA9IHRoaXMuZGVmZXJyZWRRdWV1ZVJlZi5jdXJyZW50LnNsaWNlKClcbiAgICB0aGlzLmRlZmVycmVkUXVldWVSZWYuY3VycmVudCA9IFtdXG4gICAgZm9yIChjb25zdCBpbnN0IG9mIHEpIHtcbiAgICAgIGlmICh0aGlzLnJlbW92ZWRJbnN0YW5jZUlkc1JlZi5jdXJyZW50LmhhcyhpbnN0LmlkKSkgY29udGludWVcbiAgICAgIGNvbnN0IHBhcnRJZCA9IHRoaXMucGFydHNSZWYuY3VycmVudC5maW5kKHAgPT4gcC5hc3NpZ25lZEluc3RydW1lbnRzLnNvbWUoYWkgPT4gYWkuaWQgPT09IGluc3QuaWQpKT8uaWRcbiAgICAgIGlmICghcGFydElkKSBjb250aW51ZVxuICAgICAgYXdhaXQgYXVkaW9TZXJ2aWNlLnByZWxvYWRUZW1wb0Zvckluc3RhbmNlKGluc3QuaWQsIHBhcnRJZCwgaW5zdC5pbnN0cnVtZW50SWQsIHRlbXBvKVxuICAgICAgY29uc3QgYnVmcyA9IGF1ZGlvU2VydmljZS5nZXRCdWZmZXJzRm9yKGluc3QuaWQsIHRlbXBvKVxuICAgICAgaWYgKCFidWZzKSBjb250aW51ZVxuICAgICAgY29uc3QgZmFkZU1zID0gMTVcbiAgICAgIGlmIChidWZzLnNvZnQpIHtcbiAgICAgICAgY29uc3Qgb2ZmID0gY29tcHV0ZVRhcmdldE9mZnNldEZvckJlYXQoYmVhdEluZGV4LCB0ZW1wbywgYnVmcy5zb2Z0LmR1cmF0aW9uKVxuICAgICAgICBhdWRpb1NlcnZpY2UuY3JlYXRlQW5kU3RhcnROb2RlKGluc3QuaWQsIGJ1ZnMuc29mdCwgJ3NvZnQnLCBzY2hlZHVsZVRpbWUsIG9mZiwgZmFkZU1zKVxuICAgICAgICBjb25zdCBlID0gKHRoaXMubm9kZVN0YXJ0VGltZXNSZWYuY3VycmVudFtpbnN0LmlkXSB8fD0geyBzb2Z0OiBbXSwgbG91ZDogW10gfSlcbiAgICAgICAgZS5zb2Z0IS5wdXNoKHNjaGVkdWxlVGltZSlcbiAgICAgIH1cbiAgICAgIGlmIChidWZzLmxvdWQpIHtcbiAgICAgICAgY29uc3Qgb2ZmID0gY29tcHV0ZVRhcmdldE9mZnNldEZvckJlYXQoYmVhdEluZGV4LCB0ZW1wbywgYnVmcy5sb3VkLmR1cmF0aW9uKVxuICAgICAgICBhdWRpb1NlcnZpY2UuY3JlYXRlQW5kU3RhcnROb2RlKGluc3QuaWQsIGJ1ZnMubG91ZCwgJ2xvdWQnLCBzY2hlZHVsZVRpbWUsIG9mZiwgZmFkZU1zKVxuICAgICAgICBjb25zdCBlMiA9ICh0aGlzLm5vZGVTdGFydFRpbWVzUmVmLmN1cnJlbnRbaW5zdC5pZF0gfHw9IHsgc29mdDogW10sIGxvdWQ6IFtdIH0pXG4gICAgICAgIGUyLmxvdWQhLnB1c2goc2NoZWR1bGVUaW1lKVxuICAgICAgfVxuICAgICAgLy8gZmxpcCBpc0xvYWRpbmcgb2ZmIGluIFVJIHdoZW4gc2NoZWR1bGVkXG4gICAgICBpZiAodGhpcy5zZXRQYXJ0c0NiKSB7XG4gICAgICAgIHRoaXMuc2V0UGFydHNDYihwcmV2ID0+IHByZXYubWFwKHAgPT4gKHtcbiAgICAgICAgICAuLi5wLFxuICAgICAgICAgIGFzc2lnbmVkSW5zdHJ1bWVudHM6IHAuYXNzaWduZWRJbnN0cnVtZW50cy5tYXAoYWkgPT4gYWkuaWQgPT09IGluc3QuaWQgPyB7IC4uLmFpLCBpc0xvYWRpbmc6IGZhbHNlLCBxdWV1ZVRpbWVSZW1haW5pbmc6IHVuZGVmaW5lZCwgcXVldWVTdGFydFRpbWU6IHVuZGVmaW5lZCB9IDogYWkpXG4gICAgICAgIH0pKSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhc3luYyBzY2hlZHVsZVRlbXBvU3dpdGNoKHRhcmdldFRlbXBvOiBUZW1wbykge1xuICAgIGNvbnN0IGN0eCA9IGF1ZGlvU2VydmljZS5hdWRpb0N0eFxuICAgIGlmICghY3R4KSByZXR1cm5cbiAgICAvLyBwcmVsb2FkIGZvciBhbGwgYXNzaWduZWQgYW5kIHF1ZXVlZFxuICAgIGNvbnN0IHBhcnRzID0gdGhpcy5wYXJ0c1JlZi5jdXJyZW50XG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICBwYXJ0cy5mbGF0TWFwKHAgPT5cbiAgICAgICAgcC5hc3NpZ25lZEluc3RydW1lbnRzLm1hcChpbnN0ID0+IGF1ZGlvU2VydmljZS5wcmVsb2FkVGVtcG9Gb3JJbnN0YW5jZShpbnN0LmlkLCBwLmlkLCBpbnN0Lmluc3RydW1lbnRJZCwgdGFyZ2V0VGVtcG8pKVxuICAgICAgKVxuICAgIClcbiAgICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgIHRoaXMuZGVmZXJyZWRRdWV1ZVJlZi5jdXJyZW50Lm1hcChpbnN0ID0+IHtcbiAgICAgICAgY29uc3QgcGFydElkID0gcGFydHMuZmluZChwID0+IHAuYXNzaWduZWRJbnN0cnVtZW50cy5zb21lKGFpID0+IGFpLmlkID09PSBpbnN0LmlkKSk/LmlkXG4gICAgICAgIHJldHVybiBwYXJ0SWQgPyBhdWRpb1NlcnZpY2UucHJlbG9hZFRlbXBvRm9ySW5zdGFuY2UoaW5zdC5pZCwgcGFydElkLCBpbnN0Lmluc3RydW1lbnRJZCwgdGFyZ2V0VGVtcG8pIDogUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgIH0pXG4gICAgKVxuICAgIC8vIGNvbXB1dGUgbmV4dCBiZWF0IG9uIGN1cnJlbnQgZ3JpZFxuICAgIGNvbnN0IHRyYW5zcG9ydFN0YXJ0ID0gdGhpcy50cmFuc3BvcnRTdGFydFJlZi5jdXJyZW50XG4gICAgaWYgKHRyYW5zcG9ydFN0YXJ0ID09IG51bGwpIHJldHVyblxuICAgIGNvbnN0IGN1cnJlbnRUZW1wbyA9IHRoaXMuY3VycmVudFRlbXBvUmVmLmN1cnJlbnRcbiAgICBjb25zdCB7IG5leHRCZWF0SW5kZXgsIHNjaGVkdWxlVGltZSB9ID0gY29tcHV0ZU5leHRCZWF0U2NoZWR1bGVUaW1lKGN0eC5jdXJyZW50VGltZSwgdHJhbnNwb3J0U3RhcnQsIGN1cnJlbnRUZW1wbylcbiAgICB0aGlzLnRlbXBvU3dpdGNoID0geyB0YXJnZXRUZW1wbywgc2NoZWR1bGVUaW1lIH1cbiAgICBjb25zdCBkZWxheU1zID0gTWF0aC5tYXgoMCwgKHNjaGVkdWxlVGltZSAtIGN0eC5jdXJyZW50VGltZSkgKiAxMDAwKVxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgLy8gZ3VhcmQgYWdhaW5zdCBkdXBsaWNhdGUgZXhlY3V0aW9uXG4gICAgICBpZiAoIXRoaXMudGVtcG9Td2l0Y2ggfHwgdGhpcy50ZW1wb1N3aXRjaC5zY2hlZHVsZVRpbWUgIT09IHNjaGVkdWxlVGltZSB8fCB0aGlzLnRlbXBvU3dpdGNoLnRhcmdldFRlbXBvICE9PSB0YXJnZXRUZW1wbykgcmV0dXJuXG4gICAgICAvLyBBdCBzY2hlZHVsZSwgc3RhcnQgbmV3IG5vZGVzIGF0IHRhcmdldCB0ZW1wbyBhbmQgZmFkZSBvbGQgb25lc1xuICAgICAgZm9yIChjb25zdCBwIG9mIHBhcnRzKSB7XG4gICAgICAgIGZvciAoY29uc3QgaW5zdCBvZiBwLmFzc2lnbmVkSW5zdHJ1bWVudHMpIHtcbiAgICAgICAgICBjb25zdCBuZXdCdWZzID0gYXVkaW9TZXJ2aWNlLmdldEJ1ZmZlcnNGb3IoaW5zdC5pZCwgdGFyZ2V0VGVtcG8pXG4gICAgICAgICAgY29uc3QgZmFkZU1zID0gTWF0aC5taW4oNjAsIHNlY29uZHNQZXJCZWF0KHRhcmdldFRlbXBvKSAqIDEwMDApXG4gICAgICAgICAgLy8gRmlyc3QsIGZhZGUgb3V0IGFueSBleGlzdGluZyBub2RlcyBhdCBzY2hlZHVsZVRpbWUgdG8gYXZvaWQgY2xvYmJlcmluZyB0aGUgbmV3IG9uZXNcbiAgICAgICAgICBhdWRpb1NlcnZpY2UuZmFkZUFuZFN0b3BOb2RlKGluc3QuaWQsICdzb2Z0Jywgc2NoZWR1bGVUaW1lLCBmYWRlTXMpXG4gICAgICAgICAgYXVkaW9TZXJ2aWNlLmZhZGVBbmRTdG9wTm9kZShpbnN0LmlkLCAnbG91ZCcsIHNjaGVkdWxlVGltZSwgZmFkZU1zKVxuICAgICAgICAgIGlmIChuZXdCdWZzPy5zb2Z0KSB7XG4gICAgICAgICAgICBjb25zdCBvZmYgPSBjb21wdXRlVGFyZ2V0T2Zmc2V0Rm9yQmVhdChuZXh0QmVhdEluZGV4LCB0YXJnZXRUZW1wbywgbmV3QnVmcy5zb2Z0LmR1cmF0aW9uKVxuICAgICAgICAgICAgYXVkaW9TZXJ2aWNlLmNyZWF0ZUFuZFN0YXJ0Tm9kZShpbnN0LmlkLCBuZXdCdWZzLnNvZnQsICdzb2Z0Jywgc2NoZWR1bGVUaW1lLCBvZmYsIGZhZGVNcylcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG5ld0J1ZnM/LmxvdWQpIHtcbiAgICAgICAgICAgIGNvbnN0IG9mZiA9IGNvbXB1dGVUYXJnZXRPZmZzZXRGb3JCZWF0KG5leHRCZWF0SW5kZXgsIHRhcmdldFRlbXBvLCBuZXdCdWZzLmxvdWQuZHVyYXRpb24pXG4gICAgICAgICAgICBhdWRpb1NlcnZpY2UuY3JlYXRlQW5kU3RhcnROb2RlKGluc3QuaWQsIG5ld0J1ZnMubG91ZCwgJ2xvdWQnLCBzY2hlZHVsZVRpbWUsIG9mZiwgZmFkZU1zKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gVXBkYXRlIHRlbXBvIGFuZCByZS1hbmNob3IgdHJhbnNwb3J0IHN0YXJ0IHNvIGJlYXQgaW5kZXggY29udGludWl0eSBob2xkc1xuICAgICAgdGhpcy5jdXJyZW50VGVtcG9SZWYuY3VycmVudCA9IHRhcmdldFRlbXBvXG4gICAgICBjb25zdCBzcGJUYXJnZXQgPSBzZWNvbmRzUGVyQmVhdCh0YXJnZXRUZW1wbylcbiAgICAgIHRoaXMudHJhbnNwb3J0U3RhcnRSZWYuY3VycmVudCA9IHNjaGVkdWxlVGltZSAtIG5leHRCZWF0SW5kZXggKiBzcGJUYXJnZXRcbiAgICAgIHRoaXMudGVtcG9Td2l0Y2ggPSBudWxsXG4gICAgfSwgZGVsYXlNcylcbiAgfVxuXG4gIGdldFNjaGVkdWxlZFRlbXBvU3dpdGNoKCkge1xuICAgIHJldHVybiB0aGlzLnRlbXBvU3dpdGNoXG4gIH1cblxuICBzdG9wKCkge1xuICAgIGlmICh0aGlzLmxvb3BUaW1lcikge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMubG9vcFRpbWVyKVxuICAgICAgdGhpcy5sb29wVGltZXIgPSBudWxsXG4gICAgfVxuICB9XG59XG4iXSwibmFtZXMiOlsiY29tcHV0ZU5leHRCZWF0U2NoZWR1bGVUaW1lIiwiY29tcHV0ZVRhcmdldE9mZnNldEZvckJlYXQiLCJsb29wRHVyYXRpb24iLCJzZWNvbmRzUGVyQmVhdCIsImF1ZGlvU2VydmljZSIsIkF1ZGlvU2NoZWR1bGVyIiwic2NoZWR1bGVMb29wU3RhcnRJZk5lZWRlZCIsImN0eCIsImF1ZGlvQ3R4IiwidHJhbnNwb3J0U3RhcnQiLCJ0cmFuc3BvcnRTdGFydFJlZiIsImN1cnJlbnQiLCJ0ZW1wbyIsImN1cnJlbnRUZW1wb1JlZiIsIm5leHRCZWF0SW5kZXgiLCJzY2hlZHVsZVRpbWUiLCJjdXJyZW50VGltZSIsInNwYiIsInBhcnQiLCJwYXJ0c1JlZiIsImluc3QiLCJhc3NpZ25lZEluc3RydW1lbnRzIiwicmVtb3ZlZEluc3RhbmNlSWRzUmVmIiwiaGFzIiwiaWQiLCJidWZzIiwiZ2V0QnVmZmVyc0ZvciIsImZhZGVNcyIsInNvZnQiLCJvZmYiLCJjcmVhdGVBbmRTdGFydE5vZGUiLCJlbnRyeSIsIm5vZGVTdGFydFRpbWVzUmVmIiwibG91ZCIsInB1c2giLCJlbnRyeTIiLCJsb29wQW5jaG9yUmVmIiwiZGVsYXlNcyIsIk1hdGgiLCJtYXgiLCJzZXRUaW1lb3V0IiwicHJvY2Vzc0RlZmVycmVkUXVldWVBdEJlYXQiLCJsZWFkIiwibG9vcFQiLCJuZXh0RGVsYXlNcyIsImxvb3BUaW1lciIsImJlYXRJbmRleCIsInEiLCJkZWZlcnJlZFF1ZXVlUmVmIiwic2xpY2UiLCJwYXJ0SWQiLCJmaW5kIiwicCIsInNvbWUiLCJhaSIsInByZWxvYWRUZW1wb0Zvckluc3RhbmNlIiwiaW5zdHJ1bWVudElkIiwiZHVyYXRpb24iLCJlIiwiZTIiLCJzZXRQYXJ0c0NiIiwicHJldiIsIm1hcCIsImlzTG9hZGluZyIsInF1ZXVlVGltZVJlbWFpbmluZyIsInVuZGVmaW5lZCIsInF1ZXVlU3RhcnRUaW1lIiwic2NoZWR1bGVUZW1wb1N3aXRjaCIsInRhcmdldFRlbXBvIiwicGFydHMiLCJQcm9taXNlIiwiYWxsIiwiZmxhdE1hcCIsInJlc29sdmUiLCJjdXJyZW50VGVtcG8iLCJ0ZW1wb1N3aXRjaCIsIm5ld0J1ZnMiLCJtaW4iLCJmYWRlQW5kU3RvcE5vZGUiLCJzcGJUYXJnZXQiLCJnZXRTY2hlZHVsZWRUZW1wb1N3aXRjaCIsInN0b3AiLCJjbGVhclRpbWVvdXQiLCJjb25zdHJ1Y3RvciIsInBhcmFtcyIsInBsYXlTdGF0ZVJlZiIsInNldFBhcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/audio/AudioScheduler.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/lib/audio/AudioService.ts":
/*!***************************************!*\
  !*** ./src/lib/audio/AudioService.ts ***!
  \***************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AudioService: function() { return /* binding */ AudioService; },\n/* harmony export */   audioService: function() { return /* binding */ audioService; }\n/* harmony export */ });\n/* harmony import */ var _audioUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./audioUtils */ \"(app-pages-browser)/./src/lib/audio/audioUtils.ts\");\n\nclass AudioService {\n    initIfNeeded() {\n        if (!this.audioCtx) {\n            const AC = globalThis.AudioContext || globalThis.webkitAudioContext;\n            this.audioCtx = new AC();\n            const ctx = this.audioCtx;\n            const limiter = ctx.createDynamicsCompressor();\n            limiter.threshold.value = -10;\n            limiter.knee.value = 20;\n            limiter.ratio.value = 12;\n            limiter.attack.value = 0.003;\n            limiter.release.value = 0.25;\n            this.limiter = limiter;\n            this.destination = limiter;\n            limiter.connect(ctx.destination);\n        }\n    }\n    async loadAudioBuffer(url) {\n        this.initIfNeeded();\n        if (!this.audioCtx) throw new Error(\"AudioContext not initialized\");\n        if (this.bufferCache.has(url)) return this.bufferCache.get(url);\n        const res = await fetch(url);\n        if (!res.ok) throw new Error(\"Failed to fetch \".concat(url));\n        const arrayBuf = await res.arrayBuffer();\n        const buffer = await this.audioCtx.decodeAudioData(arrayBuf.slice(0));\n        (0,_audioUtils__WEBPACK_IMPORTED_MODULE_0__.applyDecodeFades)(buffer, 20);\n        this.bufferCache.set(url, buffer);\n        return buffer;\n    }\n    getBaseGainPair(instId) {\n        this.initIfNeeded();\n        if (!this.audioCtx || !this.destination) throw new Error(\"Audio not ready\");\n        const existing = this.baseGains.get(instId);\n        if (existing) return existing;\n        const soft = this.audioCtx.createGain();\n        const loud = this.audioCtx.createGain();\n        soft.gain.value = 1;\n        loud.gain.value = 0;\n        soft.connect(this.destination);\n        loud.connect(this.destination);\n        const pair = {\n            soft,\n            loud\n        };\n        this.baseGains.set(instId, pair);\n        return pair;\n    }\n    setBaseGainValues(instId, balancePercent, muted) {\n        const pair = this.getBaseGainPair(instId);\n        if (muted) {\n            pair.soft.gain.value = 0;\n            pair.loud.gain.value = 0;\n            return;\n        }\n        const bal = Math.max(0, Math.min(100, balancePercent)) / 100;\n        pair.soft.gain.value = 1 - bal;\n        pair.loud.gain.value = bal;\n    }\n    createAndStartNode(instId, buffer, type, startTime, offsetSeconds, fadeMs) {\n        if (!this.audioCtx) throw new Error(\"AudioContext not ready\");\n        const base = this.getBaseGainPair(instId);\n        // If an existing node of same type is active, fade it out at startTime to avoid long overlap\n        const existing = this.activeNodes.get(instId);\n        const existingEntry = existing ? existing[type] : undefined;\n        if (existingEntry) {\n            const endTime = startTime + fadeMs / 1000;\n            existingEntry.gain.gain.cancelScheduledValues(startTime);\n            existingEntry.gain.gain.setValueAtTime(existingEntry.gain.gain.value, startTime);\n            existingEntry.gain.gain.linearRampToValueAtTime(0, endTime);\n            try {\n                existingEntry.src.stop(endTime);\n            } catch (e) {}\n        }\n        const perGain = this.audioCtx.createGain();\n        perGain.gain.setValueAtTime(0, startTime);\n        perGain.gain.linearRampToValueAtTime(1, startTime + fadeMs / 1000);\n        const src = this.audioCtx.createBufferSource();\n        src.buffer = buffer;\n        if (type === \"soft\") perGain.connect(base.soft);\n        else perGain.connect(base.loud);\n        src.connect(perGain);\n        try {\n            src.start(startTime, offsetSeconds);\n        } catch (e) {\n            console.warn(\"Failed to start source\", e);\n        }\n        const current = this.activeNodes.get(instId) || {};\n        current[type] = {\n            src,\n            gain: perGain\n        };\n        this.activeNodes.set(instId, current);\n        return {\n            src,\n            perGain\n        };\n    }\n    stopAndCleanupNode(instId, type, stopTime) {\n        var _this_audioCtx;\n        const record = this.activeNodes.get(instId);\n        if (!record) return;\n        const entry = record[type];\n        if (!entry) return;\n        var _ref;\n        const t = (_ref = stopTime !== null && stopTime !== void 0 ? stopTime : (_this_audioCtx = this.audioCtx) === null || _this_audioCtx === void 0 ? void 0 : _this_audioCtx.currentTime) !== null && _ref !== void 0 ? _ref : 0;\n        try {\n            entry.src.stop(t);\n        } catch (e) {}\n        try {\n            entry.src.disconnect();\n            entry.gain.disconnect();\n        } catch (e) {}\n        delete record[type];\n        this.activeNodes.set(instId, record);\n    }\n    fadeAndStopNode(instId, type, startTime, fadeMs) {\n        const rec = this.activeNodes.get(instId);\n        if (!rec) return;\n        const entry = rec[type];\n        if (!entry) return;\n        const endTime = startTime + fadeMs / 1000;\n        entry.gain.gain.cancelScheduledValues(startTime);\n        entry.gain.gain.setValueAtTime(entry.gain.gain.value, startTime);\n        entry.gain.gain.linearRampToValueAtTime(0, endTime);\n        try {\n            entry.src.stop(endTime);\n        } catch (e) {}\n    }\n    stopAllActive() {\n        let fadeMs = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 50;\n        if (!this.audioCtx) return;\n        const now = this.audioCtx.currentTime;\n        for (const [instId, rec] of this.activeNodes.entries()){\n            const types = [\n                \"soft\",\n                \"loud\"\n            ];\n            for (const t of types){\n                const entry = rec[t];\n                if (!entry) continue;\n                entry.gain.gain.cancelScheduledValues(now);\n                entry.gain.gain.setValueAtTime(entry.gain.gain.value, now);\n                entry.gain.gain.linearRampToValueAtTime(0, now + fadeMs / 1000);\n                try {\n                    entry.src.stop(now + fadeMs / 1000);\n                } catch (e) {}\n            }\n        }\n        // Clear map after short delay\n        setTimeout(()=>{\n            for (const rec of this.activeNodes.values()){\n                try {\n                    var _rec_soft, _rec_soft1, _rec_loud, _rec_loud1;\n                    (_rec_soft = rec.soft) === null || _rec_soft === void 0 ? void 0 : _rec_soft.src.disconnect();\n                    (_rec_soft1 = rec.soft) === null || _rec_soft1 === void 0 ? void 0 : _rec_soft1.gain.disconnect();\n                    (_rec_loud = rec.loud) === null || _rec_loud === void 0 ? void 0 : _rec_loud.src.disconnect();\n                    (_rec_loud1 = rec.loud) === null || _rec_loud1 === void 0 ? void 0 : _rec_loud1.gain.disconnect();\n                } catch (e) {}\n            }\n            this.activeNodes.clear();\n        }, fadeMs + 10);\n    }\n    releaseInstance(instId) {\n        // Stop any active nodes immediately\n        this.stopAndCleanupNode(instId, \"soft\");\n        this.stopAndCleanupNode(instId, \"loud\");\n        // Disconnect and delete base gains\n        const gains = this.baseGains.get(instId);\n        if (gains) {\n            try {\n                gains.soft.disconnect();\n            } catch (e) {}\n            try {\n                gains.loud.disconnect();\n            } catch (e) {}\n            this.baseGains.delete(instId);\n        }\n        // Clear active nodes record\n        this.activeNodes.delete(instId);\n        // Drop buffers for this instance\n        this.buffersByInstTempo.delete(instId);\n    }\n    async preloadTempoForInstance(instId, partId, instrumentId, tempo) {\n        const softUrl = \"/audio/\".concat(partId, \"/\").concat(instrumentId, \"-p-\").concat(tempo, \".mp3\");\n        const loudUrl = \"/audio/\".concat(partId, \"/\").concat(instrumentId, \"-f-\").concat(tempo, \".mp3\");\n        const [soft, loud] = await Promise.all([\n            this.loadAudioBuffer(softUrl).catch(()=>null),\n            this.loadAudioBuffer(loudUrl).catch(()=>null)\n        ]);\n        const entry = this.buffersByInstTempo.get(instId) || {};\n        entry[tempo] = {\n            soft: soft !== null && soft !== void 0 ? soft : undefined,\n            loud: loud !== null && loud !== void 0 ? loud : undefined\n        };\n        this.buffersByInstTempo.set(instId, entry);\n    }\n    getBuffersFor(instId, tempo) {\n        const e = this.buffersByInstTempo.get(instId);\n        return e ? e[tempo] : undefined;\n    }\n    getInspectorSnapshot() {\n        return {\n            getAudioBuffers: ()=>{\n                // Derive per-inst presence for current tempo isnt available here; return union presence\n                const snap = {};\n                for (const [k, v] of this.buffersByInstTempo.entries()){\n                    var _v_fast, _v_slow, _v_fast1, _v_slow1;\n                    snap[k] = {\n                        soft: !!(((_v_fast = v.fast) === null || _v_fast === void 0 ? void 0 : _v_fast.soft) || ((_v_slow = v.slow) === null || _v_slow === void 0 ? void 0 : _v_slow.soft)),\n                        loud: !!(((_v_fast1 = v.fast) === null || _v_fast1 === void 0 ? void 0 : _v_fast1.loud) || ((_v_slow1 = v.slow) === null || _v_slow1 === void 0 ? void 0 : _v_slow1.loud))\n                    };\n                }\n                return snap;\n            },\n            getAudioBuffersByTempo: ()=>this.getBuffersByInstTempoSnapshot(),\n            getNodeStartTimes: ()=>({}),\n            getDeferredQueue: ()=>[],\n            getPlayState: ()=>false,\n            getParts: ()=>[],\n            scheduledTempoSwitch: null,\n            getTransportStartTime: ()=>null,\n            getTempo: ()=>\"fast\"\n        };\n    }\n    getBuffersByInstTempoSnapshot() {\n        const out = {};\n        for (const [k, v] of this.buffersByInstTempo.entries()){\n            var _v_fast, _v_fast1, _v_slow, _v_slow1;\n            out[k] = {\n                fast: {\n                    soft: !!((_v_fast = v.fast) === null || _v_fast === void 0 ? void 0 : _v_fast.soft),\n                    loud: !!((_v_fast1 = v.fast) === null || _v_fast1 === void 0 ? void 0 : _v_fast1.loud)\n                },\n                slow: {\n                    soft: !!((_v_slow = v.slow) === null || _v_slow === void 0 ? void 0 : _v_slow.soft),\n                    loud: !!((_v_slow1 = v.slow) === null || _v_slow1 === void 0 ? void 0 : _v_slow1.loud)\n                }\n            };\n        }\n        return out;\n    }\n    constructor(){\n        this.audioCtx = null;\n        this.bufferCache = new Map();\n        this.baseGains = new Map();\n        this.limiter = null;\n        this.destination = null;\n        // active nodes per instance and type\n        this.activeNodes = new Map();\n        // buffers by instance id and tempo\n        this.buffersByInstTempo = new Map();\n    }\n}\nconst audioService = new AudioService();\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvYXVkaW8vQXVkaW9TZXJ2aWNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUErQztBQUt4QyxNQUFNQztJQWFYQyxlQUFlO1FBQ2IsSUFBSSxDQUFDLElBQUksQ0FBQ0MsUUFBUSxFQUFFO1lBQ3RCLE1BQU1DLEtBQUssV0FBb0JFLFlBQVksSUFBSSxXQUFvQkMsa0JBQWtCO1lBQ3JGLElBQUksQ0FBQ0osUUFBUSxHQUFHLElBQUlDO1lBQ3BCLE1BQU1JLE1BQU0sSUFBSSxDQUFDTCxRQUFRO1lBQ3pCLE1BQU1NLFVBQVVELElBQUlFLHdCQUF3QjtZQUN4Q0QsUUFBUUUsU0FBUyxDQUFDQyxLQUFLLEdBQUcsQ0FBQztZQUMzQkgsUUFBUUksSUFBSSxDQUFDRCxLQUFLLEdBQUc7WUFDckJILFFBQVFLLEtBQUssQ0FBQ0YsS0FBSyxHQUFHO1lBQ3RCSCxRQUFRTSxNQUFNLENBQUNILEtBQUssR0FBRztZQUN2QkgsUUFBUU8sT0FBTyxDQUFDSixLQUFLLEdBQUc7WUFDeEIsSUFBSSxDQUFDSCxPQUFPLEdBQUdBO1lBQ2YsSUFBSSxDQUFDUSxXQUFXLEdBQUdSO1lBQ3ZCQSxRQUFRUyxPQUFPLENBQUNWLElBQUlTLFdBQVc7UUFDN0I7SUFDRjtJQUVBLE1BQU1FLGdCQUFnQkMsR0FBVyxFQUF3QjtRQUN2RCxJQUFJLENBQUNsQixZQUFZO1FBQ2pCLElBQUksQ0FBQyxJQUFJLENBQUNDLFFBQVEsRUFBRSxNQUFNLElBQUlrQixNQUFNO1FBQ3BDLElBQUksSUFBSSxDQUFDQyxXQUFXLENBQUNDLEdBQUcsQ0FBQ0gsTUFBTSxPQUFPLElBQUksQ0FBQ0UsV0FBVyxDQUFDRSxHQUFHLENBQUNKO1FBQzNELE1BQU1LLE1BQU0sTUFBTUMsTUFBTU47UUFDeEIsSUFBSSxDQUFDSyxJQUFJRSxFQUFFLEVBQUUsTUFBTSxJQUFJTixNQUFNLG1CQUF1QixPQUFKRDtRQUNoRCxNQUFNUSxXQUFXLE1BQU1ILElBQUlJLFdBQVc7UUFD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QUFDO1FBQ2xDLEtBQUssTUFBTSxDQUFDYixHQUFHQyxFQUFFLElBQUksSUFBSSxDQUFDZixrQkFBa0IsQ0FBQ1IsT0FBTyxHQUFJO2dCQUVwQ3VCLFNBQXNCQSxVQUN0QkEsU0FBc0JBO1lBRnhDWSxHQUFHLENBQUNiLEVBQUUsR0FBRztnQkFDUEUsTUFBTTtvQkFBRXJFLE1BQU0sQ0FBQyxHQUFDb0UsVUFBQUEsRUFBRUMsSUFBSSxjQUFORCw4QkFBQUEsUUFBUXBFLElBQUk7b0JBQUVFLE1BQU0sQ0FBQyxHQUFDa0UsV0FBQUEsRUFBRUMsSUFBSSxjQUFORCwrQkFBQUEsU0FBUWxFLElBQUk7Z0JBQUM7Z0JBQ25Eb0UsTUFBTTtvQkFBRXRFLE1BQU0sQ0FBQyxHQUFDb0UsVUFBQUEsRUFBRUUsSUFBSSxjQUFORiw4QkFBQUEsUUFBUXBFLElBQUk7b0JBQUVFLE1BQU0sQ0FBQyxHQUFDa0UsV0FBQUEsRUFBRUUsSUFBSSxjQUFORiwrQkFBQUEsU0FBUWxFLElBQUk7Z0JBQUM7WUFDckQ7UUFDRjtRQUNBLE9BQU84RTtJQUNUOzthQWpQQW5ILFdBQWdDO2FBQ3hCbUIsY0FBMkIsSUFBSWlHO2FBQy9CbEYsWUFBbUMsSUFBSWtGO2FBQ3ZDOUcsVUFBeUM7YUFDekNRLGNBQWdDO1FBRXhDLHFDQUFxQzthQUM3QnVDLGNBQTZJLElBQUkrRDtRQUV6SixtQ0FBbUM7YUFDM0I1QixxQkFBNEksSUFBSTRCOztBQXdPMUo7QUFFTyxNQUFNQyxlQUFlLElBQUl2SCxlQUFjIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9saWIvYXVkaW8vQXVkaW9TZXJ2aWNlLnRzPzNkNDAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXBwbHlEZWNvZGVGYWRlcyB9IGZyb20gJy4vYXVkaW9VdGlscydcbmltcG9ydCB0eXBlIHsgR2FpblBhaXIsIFRlbXBvLCBBdWRpb0luc3BlY3RvclNuYXBzaG90IH0gZnJvbSAnQC9saWIvdHlwZXMnXG5cbnR5cGUgQnVmZmVyQnlVcmwgPSBNYXA8c3RyaW5nLCBBdWRpb0J1ZmZlcj5cblxuZXhwb3J0IGNsYXNzIEF1ZGlvU2VydmljZSB7XG4gIGF1ZGlvQ3R4OiBBdWRpb0NvbnRleHQgfCBudWxsID0gbnVsbFxuICBwcml2YXRlIGJ1ZmZlckNhY2hlOiBCdWZmZXJCeVVybCA9IG5ldyBNYXAoKVxuICBwcml2YXRlIGJhc2VHYWluczogTWFwPHN0cmluZywgR2FpblBhaXI+ID0gbmV3IE1hcCgpXG4gIHByaXZhdGUgbGltaXRlcjogRHluYW1pY3NDb21wcmVzc29yTm9kZSB8IG51bGwgPSBudWxsXG4gIHByaXZhdGUgZGVzdGluYXRpb246IEF1ZGlvTm9kZSB8IG51bGwgPSBudWxsXG5cbiAgLy8gYWN0aXZlIG5vZGVzIHBlciBpbnN0YW5jZSBhbmQgdHlwZVxuICBwcml2YXRlIGFjdGl2ZU5vZGVzOiBNYXA8c3RyaW5nLCB7IHNvZnQ/OiB7IHNyYzogQXVkaW9CdWZmZXJTb3VyY2VOb2RlOyBnYWluOiBHYWluTm9kZSB9OyBsb3VkPzogeyBzcmM6IEF1ZGlvQnVmZmVyU291cmNlTm9kZTsgZ2FpbjogR2Fpbk5vZGUgfSB9PiA9IG5ldyBNYXAoKVxuXG4gIC8vIGJ1ZmZlcnMgYnkgaW5zdGFuY2UgaWQgYW5kIHRlbXBvXG4gIHByaXZhdGUgYnVmZmVyc0J5SW5zdFRlbXBvOiBNYXA8c3RyaW5nLCB7IGZhc3Q/OiB7IHNvZnQ/OiBBdWRpb0J1ZmZlcjsgbG91ZD86IEF1ZGlvQnVmZmVyIH07IHNsb3c/OiB7IHNvZnQ/OiBBdWRpb0J1ZmZlcjsgbG91ZD86IEF1ZGlvQnVmZmVyIH0gfT4gPSBuZXcgTWFwKClcblxuICBpbml0SWZOZWVkZWQoKSB7XG4gICAgaWYgKCF0aGlzLmF1ZGlvQ3R4KSB7XG4gIGNvbnN0IEFDID0gKGdsb2JhbFRoaXMgYXMgYW55KS5BdWRpb0NvbnRleHQgfHwgKGdsb2JhbFRoaXMgYXMgYW55KS53ZWJraXRBdWRpb0NvbnRleHRcbiAgdGhpcy5hdWRpb0N0eCA9IG5ldyBBQygpXG4gIGNvbnN0IGN0eCA9IHRoaXMuYXVkaW9DdHghXG4gIGNvbnN0IGxpbWl0ZXIgPSBjdHguY3JlYXRlRHluYW1pY3NDb21wcmVzc29yKClcbiAgICAgIGxpbWl0ZXIudGhyZXNob2xkLnZhbHVlID0gLTEwXG4gICAgICBsaW1pdGVyLmtuZWUudmFsdWUgPSAyMFxuICAgICAgbGltaXRlci5yYXRpby52YWx1ZSA9IDEyXG4gICAgICBsaW1pdGVyLmF0dGFjay52YWx1ZSA9IDAuMDAzXG4gICAgICBsaW1pdGVyLnJlbGVhc2UudmFsdWUgPSAwLjI1XG4gICAgICB0aGlzLmxpbWl0ZXIgPSBsaW1pdGVyXG4gICAgICB0aGlzLmRlc3RpbmF0aW9uID0gbGltaXRlclxuICBsaW1pdGVyLmNvbm5lY3QoY3R4LmRlc3RpbmF0aW9uKVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGxvYWRBdWRpb0J1ZmZlcih1cmw6IHN0cmluZyk6IFByb21pc2U8QXVkaW9CdWZmZXI+IHtcbiAgICB0aGlzLmluaXRJZk5lZWRlZCgpXG4gICAgaWYgKCF0aGlzLmF1ZGlvQ3R4KSB0aHJvdyBuZXcgRXJyb3IoJ0F1ZGlvQ29udGV4dCBub3QgaW5pdGlhbGl6ZWQnKVxuICAgIGlmICh0aGlzLmJ1ZmZlckNhY2hlLmhhcyh1cmwpKSByZXR1cm4gdGhpcy5idWZmZXJDYWNoZS5nZXQodXJsKSBhcyBBdWRpb0J1ZmZlclxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKHVybClcbiAgICBpZiAoIXJlcy5vaykgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggJHt1cmx9YClcbiAgICBjb25zdCBhcnJheUJ1ZiA9IGF3YWl0IHJlcy5hcnJheUJ1ZmZlcigpXG4gICAgY29uc3QgYnVmZmVyID0gYXdhaXQgdGhpcy5hdWRpb0N0eC5kZWNvZGVBdWRpb0RhdGEoYXJyYXlCdWYuc2xpY2UoMCkpXG4gICAgYXBwbHlEZWNvZGVGYWRlcyhidWZmZXIsIDIwKVxuICAgIHRoaXMuYnVmZmVyQ2FjaGUuc2V0KHVybCwgYnVmZmVyKVxuICAgIHJldHVybiBidWZmZXJcbiAgfVxuXG4gIGdldEJhc2VHYWluUGFpcihpbnN0SWQ6IHN0cmluZyk6IEdhaW5QYWlyIHtcbiAgICB0aGlzLmluaXRJZk5lZWRlZCgpXG4gICAgaWYgKCF0aGlzLmF1ZGlvQ3R4IHx8ICF0aGlzLmRlc3RpbmF0aW9uKSB0aHJvdyBuZXcgRXJyb3IoJ0F1ZGlvIG5vdCByZWFkeScpXG4gICAgY29uc3QgZXhpc3RpbmcgPSB0aGlzLmJhc2VHYWlucy5nZXQoaW5zdElkKVxuICAgIGlmIChleGlzdGluZykgcmV0dXJuIGV4aXN0aW5nXG4gICAgY29uc3Qgc29mdCA9IHRoaXMuYXVkaW9DdHguY3JlYXRlR2FpbigpXG4gICAgY29uc3QgbG91ZCA9IHRoaXMuYXVkaW9DdHguY3JlYXRlR2FpbigpXG4gICAgc29mdC5nYWluLnZhbHVlID0gMVxuICAgIGxvdWQuZ2Fpbi52YWx1ZSA9IDBcbiAgICBzb2Z0LmNvbm5lY3QodGhpcy5kZXN0aW5hdGlvbilcbiAgICBsb3VkLmNvbm5lY3QodGhpcy5kZXN0aW5hdGlvbilcbiAgICBjb25zdCBwYWlyID0geyBzb2Z0LCBsb3VkIH1cbiAgICB0aGlzLmJhc2VHYWlucy5zZXQoaW5zdElkLCBwYWlyKVxuICAgIHJldHVybiBwYWlyXG4gIH1cblxuICBzZXRCYXNlR2FpblZhbHVlcyhpbnN0SWQ6IHN0cmluZywgYmFsYW5jZVBlcmNlbnQ6IG51bWJlciwgbXV0ZWQ6IGJvb2xlYW4pIHtcbiAgICBjb25zdCBwYWlyID0gdGhpcy5nZXRCYXNlR2FpblBhaXIoaW5zdElkKVxuICAgIGlmIChtdXRlZCkge1xuICAgICAgcGFpci5zb2Z0LmdhaW4udmFsdWUgPSAwXG4gICAgICBwYWlyLmxvdWQuZ2Fpbi52YWx1ZSA9IDBcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBjb25zdCBiYWwgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxMDAsIGJhbGFuY2VQZXJjZW50KSkgLyAxMDBcbiAgICBwYWlyLnNvZnQuZ2Fpbi52YWx1ZSA9IDEgLSBiYWxcbiAgICBwYWlyLmxvdWQuZ2Fpbi52YWx1ZSA9IGJhbFxuICB9XG5cbiAgY3JlYXRlQW5kU3RhcnROb2RlKFxuICAgIGluc3RJZDogc3RyaW5nLFxuICAgIGJ1ZmZlcjogQXVkaW9CdWZmZXIsXG4gICAgdHlwZTogJ3NvZnQnIHwgJ2xvdWQnLFxuICAgIHN0YXJ0VGltZTogbnVtYmVyLFxuICAgIG9mZnNldFNlY29uZHM6IG51bWJlcixcbiAgICBmYWRlTXM6IG51bWJlclxuICApIHtcbiAgICBpZiAoIXRoaXMuYXVkaW9DdHgpIHRocm93IG5ldyBFcnJvcignQXVkaW9Db250ZXh0IG5vdCByZWFkeScpXG4gICAgY29uc3QgYmFzZSA9IHRoaXMuZ2V0QmFzZUdhaW5QYWlyKGluc3RJZClcbiAgICAvLyBJZiBhbiBleGlzdGluZyBub2RlIG9mIHNhbWUgdHlwZSBpcyBhY3RpdmUsIGZhZGUgaXQgb3V0IGF0IHN0YXJ0VGltZSB0byBhdm9pZCBsb25nIG92ZXJsYXBcbiAgICBjb25zdCBleGlzdGluZyA9IHRoaXMuYWN0aXZlTm9kZXMuZ2V0KGluc3RJZClcbiAgICBjb25zdCBleGlzdGluZ0VudHJ5ID0gZXhpc3RpbmcgPyAoZXhpc3RpbmcgYXMgYW55KVt0eXBlXSBhcyB7IHNyYzogQXVkaW9CdWZmZXJTb3VyY2VOb2RlOyBnYWluOiBHYWluTm9kZSB9IHwgdW5kZWZpbmVkIDogdW5kZWZpbmVkXG4gICAgaWYgKGV4aXN0aW5nRW50cnkpIHtcbiAgICAgIGNvbnN0IGVuZFRpbWUgPSBzdGFydFRpbWUgKyBmYWRlTXMgLyAxMDAwXG4gICAgICBleGlzdGluZ0VudHJ5LmdhaW4uZ2Fpbi5jYW5jZWxTY2hlZHVsZWRWYWx1ZXMoc3RhcnRUaW1lKVxuICAgICAgZXhpc3RpbmdFbnRyeS5nYWluLmdhaW4uc2V0VmFsdWVBdFRpbWUoZXhpc3RpbmdFbnRyeS5nYWluLmdhaW4udmFsdWUsIHN0YXJ0VGltZSlcbiAgICAgIGV4aXN0aW5nRW50cnkuZ2Fpbi5nYWluLmxpbmVhclJhbXBUb1ZhbHVlQXRUaW1lKDAsIGVuZFRpbWUpXG4gICAgICB0cnkgeyBleGlzdGluZ0VudHJ5LnNyYy5zdG9wKGVuZFRpbWUpIH0gY2F0Y2gge31cbiAgICB9XG4gICAgY29uc3QgcGVyR2FpbiA9IHRoaXMuYXVkaW9DdHguY3JlYXRlR2FpbigpXG4gICAgcGVyR2Fpbi5nYWluLnNldFZhbHVlQXRUaW1lKDAsIHN0YXJ0VGltZSlcbiAgICBwZXJHYWluLmdhaW4ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoMSwgc3RhcnRUaW1lICsgZmFkZU1zIC8gMTAwMClcbiAgICBjb25zdCBzcmMgPSB0aGlzLmF1ZGlvQ3R4LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpXG4gICAgc3JjLmJ1ZmZlciA9IGJ1ZmZlclxuICAgIGlmICh0eXBlID09PSAnc29mdCcpIHBlckdhaW4uY29ubmVjdChiYXNlLnNvZnQpXG4gICAgZWxzZSBwZXJHYWluLmNvbm5lY3QoYmFzZS5sb3VkKVxuICAgIHNyYy5jb25uZWN0KHBlckdhaW4pXG4gICAgdHJ5IHtcbiAgICAgIHNyYy5zdGFydChzdGFydFRpbWUsIG9mZnNldFNlY29uZHMpXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gc3RhcnQgc291cmNlJywgZSlcbiAgICB9XG5cbiAgICBjb25zdCBjdXJyZW50ID0gdGhpcy5hY3RpdmVOb2Rlcy5nZXQoaW5zdElkKSB8fCB7fVxuICAgIDsoY3VycmVudCBhcyBhbnkpW3R5cGVdID0geyBzcmMsIGdhaW46IHBlckdhaW4gfVxuICAgIHRoaXMuYWN0aXZlTm9kZXMuc2V0KGluc3RJZCwgY3VycmVudClcbiAgICByZXR1cm4geyBzcmMsIHBlckdhaW4gfVxuICB9XG5cbiAgc3RvcEFuZENsZWFudXBOb2RlKGluc3RJZDogc3RyaW5nLCB0eXBlOiAnc29mdCcgfCAnbG91ZCcsIHN0b3BUaW1lPzogbnVtYmVyKSB7XG4gICAgY29uc3QgcmVjb3JkID0gdGhpcy5hY3RpdmVOb2Rlcy5nZXQoaW5zdElkKVxuICAgIGlmICghcmVjb3JkKSByZXR1cm5cbiAgICBjb25zdCBlbnRyeSA9IChyZWNvcmQgYXMgYW55KVt0eXBlXSBhcyB7IHNyYzogQXVkaW9CdWZmZXJTb3VyY2VOb2RlOyBnYWluOiBHYWluTm9kZSB9IHwgdW5kZWZpbmVkXG4gICAgaWYgKCFlbnRyeSkgcmV0dXJuXG4gICAgY29uc3QgdCA9IHN0b3BUaW1lID8/IHRoaXMuYXVkaW9DdHg/LmN1cnJlbnRUaW1lID8/IDBcbiAgICB0cnkge1xuICAgICAgZW50cnkuc3JjLnN0b3AodClcbiAgICB9IGNhdGNoIHt9XG4gICAgdHJ5IHtcbiAgICAgIGVudHJ5LnNyYy5kaXNjb25uZWN0KClcbiAgICAgIGVudHJ5LmdhaW4uZGlzY29ubmVjdCgpXG4gICAgfSBjYXRjaCB7fVxuICAgIGRlbGV0ZSAocmVjb3JkIGFzIGFueSlbdHlwZV1cbiAgICB0aGlzLmFjdGl2ZU5vZGVzLnNldChpbnN0SWQsIHJlY29yZClcbiAgfVxuXG4gIGZhZGVBbmRTdG9wTm9kZShpbnN0SWQ6IHN0cmluZywgdHlwZTogJ3NvZnQnIHwgJ2xvdWQnLCBzdGFydFRpbWU6IG51bWJlciwgZmFkZU1zOiBudW1iZXIpIHtcbiAgICBjb25zdCByZWMgPSB0aGlzLmFjdGl2ZU5vZGVzLmdldChpbnN0SWQpXG4gICAgaWYgKCFyZWMpIHJldHVyblxuICAgIGNvbnN0IGVudHJ5ID0gKHJlYyBhcyBhbnkpW3R5cGVdIGFzIHsgc3JjOiBBdWRpb0J1ZmZlclNvdXJjZU5vZGU7IGdhaW46IEdhaW5Ob2RlIH0gfCB1bmRlZmluZWRcbiAgICBpZiAoIWVudHJ5KSByZXR1cm5cbiAgICBjb25zdCBlbmRUaW1lID0gc3RhcnRUaW1lICsgZmFkZU1zIC8gMTAwMFxuICAgIGVudHJ5LmdhaW4uZ2Fpbi5jYW5jZWxTY2hlZHVsZWRWYWx1ZXMoc3RhcnRUaW1lKVxuICAgIGVudHJ5LmdhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZShlbnRyeS5nYWluLmdhaW4udmFsdWUsIHN0YXJ0VGltZSlcbiAgICBlbnRyeS5nYWluLmdhaW4ubGluZWFyUmFtcFRvVmFsdWVBdFRpbWUoMCwgZW5kVGltZSlcbiAgICB0cnkgeyBlbnRyeS5zcmMuc3RvcChlbmRUaW1lKSB9IGNhdGNoIHt9XG4gIH1cblxuICBzdG9wQWxsQWN0aXZlKGZhZGVNcyA9IDUwKSB7XG4gICAgaWYgKCF0aGlzLmF1ZGlvQ3R4KSByZXR1cm5cbiAgICBjb25zdCBub3cgPSB0aGlzLmF1ZGlvQ3R4LmN1cnJlbnRUaW1lXG4gICAgZm9yIChjb25zdCBbaW5zdElkLCByZWNdIG9mIHRoaXMuYWN0aXZlTm9kZXMuZW50cmllcygpKSB7XG4gICAgICBjb25zdCB0eXBlczogQXJyYXk8J3NvZnQnIHwgJ2xvdWQnPiA9IFsnc29mdCcsICdsb3VkJ11cbiAgICAgIGZvciAoY29uc3QgdCBvZiB0eXBlcykge1xuICAgICAgICBjb25zdCBlbnRyeSA9IChyZWMgYXMgYW55KVt0XSBhcyB7IHNyYzogQXVkaW9CdWZmZXJTb3VyY2VOb2RlOyBnYWluOiBHYWluTm9kZSB9IHwgdW5kZWZpbmVkXG4gICAgICAgIGlmICghZW50cnkpIGNvbnRpbnVlXG4gICAgICAgIGVudHJ5LmdhaW4uZ2Fpbi5jYW5jZWxTY2hlZHVsZWRWYWx1ZXMobm93KVxuICAgICAgICBlbnRyeS5nYWluLmdhaW4uc2V0VmFsdWVBdFRpbWUoZW50cnkuZ2Fpbi5nYWluLnZhbHVlLCBub3cpXG4gICAgICAgIGVudHJ5LmdhaW4uZ2Fpbi5saW5lYXJSYW1wVG9WYWx1ZUF0VGltZSgwLCBub3cgKyBmYWRlTXMgLyAxMDAwKVxuICAgICAgICB0cnkge1xuICAgICAgICAgIGVudHJ5LnNyYy5zdG9wKG5vdyArIGZhZGVNcyAvIDEwMDApXG4gICAgICAgIH0gY2F0Y2gge31cbiAgICAgIH1cbiAgICB9XG4gICAgLy8gQ2xlYXIgbWFwIGFmdGVyIHNob3J0IGRlbGF5XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IHJlYyBvZiB0aGlzLmFjdGl2ZU5vZGVzLnZhbHVlcygpKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgOyhyZWMgYXMgYW55KS5zb2Z0Py5zcmMuZGlzY29ubmVjdCgpXG4gICAgICAgICAgOyhyZWMgYXMgYW55KS5zb2Z0Py5nYWluLmRpc2Nvbm5lY3QoKVxuICAgICAgICAgIDsocmVjIGFzIGFueSkubG91ZD8uc3JjLmRpc2Nvbm5lY3QoKVxuICAgICAgICAgIDsocmVjIGFzIGFueSkubG91ZD8uZ2Fpbi5kaXNjb25uZWN0KClcbiAgICAgICAgfSBjYXRjaCB7fVxuICAgICAgfVxuICAgICAgdGhpcy5hY3RpdmVOb2Rlcy5jbGVhcigpXG4gICAgfSwgZmFkZU1zICsgMTApXG4gIH1cblxuICByZWxlYXNlSW5zdGFuY2UoaW5zdElkOiBzdHJpbmcpIHtcbiAgICAvLyBTdG9wIGFueSBhY3RpdmUgbm9kZXMgaW1tZWRpYXRlbHlcbiAgICB0aGlzLnN0b3BBbmRDbGVhbnVwTm9kZShpbnN0SWQsICdzb2Z0JylcbiAgICB0aGlzLnN0b3BBbmRDbGVhbnVwTm9kZShpbnN0SWQsICdsb3VkJylcbiAgICAvLyBEaXNjb25uZWN0IGFuZCBkZWxldGUgYmFzZSBnYWluc1xuICAgIGNvbnN0IGdhaW5zID0gdGhpcy5iYXNlR2FpbnMuZ2V0KGluc3RJZClcbiAgICBpZiAoZ2FpbnMpIHtcbiAgICAgIHRyeSB7IGdhaW5zLnNvZnQuZGlzY29ubmVjdCgpIH0gY2F0Y2gge31cbiAgICAgIHRyeSB7IGdhaW5zLmxvdWQuZGlzY29ubmVjdCgpIH0gY2F0Y2gge31cbiAgICAgIHRoaXMuYmFzZUdhaW5zLmRlbGV0ZShpbnN0SWQpXG4gICAgfVxuICAgIC8vIENsZWFyIGFjdGl2ZSBub2RlcyByZWNvcmRcbiAgICB0aGlzLmFjdGl2ZU5vZGVzLmRlbGV0ZShpbnN0SWQpXG4gICAgLy8gRHJvcCBidWZmZXJzIGZvciB0aGlzIGluc3RhbmNlXG4gICAgdGhpcy5idWZmZXJzQnlJbnN0VGVtcG8uZGVsZXRlKGluc3RJZClcbiAgfVxuXG4gIGFzeW5jIHByZWxvYWRUZW1wb0Zvckluc3RhbmNlKFxuICAgIGluc3RJZDogc3RyaW5nLFxuICAgIHBhcnRJZDogc3RyaW5nLFxuICAgIGluc3RydW1lbnRJZDogc3RyaW5nLFxuICAgIHRlbXBvOiBUZW1wb1xuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBzb2Z0VXJsID0gYC9hdWRpby8ke3BhcnRJZH0vJHtpbnN0cnVtZW50SWR9LXAtJHt0ZW1wb30ubXAzYFxuICAgIGNvbnN0IGxvdWRVcmwgPSBgL2F1ZGlvLyR7cGFydElkfS8ke2luc3RydW1lbnRJZH0tZi0ke3RlbXBvfS5tcDNgXG4gICAgY29uc3QgW3NvZnQsIGxvdWRdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgdGhpcy5sb2FkQXVkaW9CdWZmZXIoc29mdFVybCkuY2F0Y2goKCkgPT4gbnVsbCksXG4gICAgICB0aGlzLmxvYWRBdWRpb0J1ZmZlcihsb3VkVXJsKS5jYXRjaCgoKSA9PiBudWxsKVxuICAgIF0pXG4gICAgY29uc3QgZW50cnkgPSB0aGlzLmJ1ZmZlcnNCeUluc3RUZW1wby5nZXQoaW5zdElkKSB8fCB7fVxuICAgIDsoZW50cnkgYXMgYW55KVt0ZW1wb10gPSB7IHNvZnQ6IHNvZnQgPz8gdW5kZWZpbmVkLCBsb3VkOiBsb3VkID8/IHVuZGVmaW5lZCB9XG4gICAgdGhpcy5idWZmZXJzQnlJbnN0VGVtcG8uc2V0KGluc3RJZCwgZW50cnkpXG4gIH1cblxuICBnZXRCdWZmZXJzRm9yKGluc3RJZDogc3RyaW5nLCB0ZW1wbzogVGVtcG8pOiB7IHNvZnQ/OiBBdWRpb0J1ZmZlcjsgbG91ZD86IEF1ZGlvQnVmZmVyIH0gfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IGUgPSB0aGlzLmJ1ZmZlcnNCeUluc3RUZW1wby5nZXQoaW5zdElkKVxuICAgIHJldHVybiBlID8gKGUgYXMgYW55KVt0ZW1wb10gOiB1bmRlZmluZWRcbiAgfVxuXG4gIGdldEluc3BlY3RvclNuYXBzaG90KCk6IEF1ZGlvSW5zcGVjdG9yU25hcHNob3Qge1xuICAgIHJldHVybiB7XG4gICAgICBnZXRBdWRpb0J1ZmZlcnM6ICgpID0+IHtcbiAgICAgICAgLy8gRGVyaXZlIHBlci1pbnN0IHByZXNlbmNlIGZvciBjdXJyZW50IHRlbXBvIGlzbuKAmXQgYXZhaWxhYmxlIGhlcmU7IHJldHVybiB1bmlvbiBwcmVzZW5jZVxuICAgICAgICBjb25zdCBzbmFwOiBSZWNvcmQ8c3RyaW5nLCB7IHNvZnQ/OiBib29sZWFuOyBsb3VkPzogYm9vbGVhbiB9PiA9IHt9XG4gICAgICAgIGZvciAoY29uc3QgW2ssIHZdIG9mIHRoaXMuYnVmZmVyc0J5SW5zdFRlbXBvLmVudHJpZXMoKSkge1xuICAgICAgICAgIHNuYXBba10gPSB7XG4gICAgICAgICAgICBzb2Z0OiAhISh2LmZhc3Q/LnNvZnQgfHwgdi5zbG93Py5zb2Z0KSxcbiAgICAgICAgICAgIGxvdWQ6ICEhKHYuZmFzdD8ubG91ZCB8fCB2LnNsb3c/LmxvdWQpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzbmFwXG4gICAgICB9LFxuICAgICAgZ2V0QXVkaW9CdWZmZXJzQnlUZW1wbzogKCkgPT4gdGhpcy5nZXRCdWZmZXJzQnlJbnN0VGVtcG9TbmFwc2hvdCgpLFxuICAgICAgZ2V0Tm9kZVN0YXJ0VGltZXM6ICgpID0+ICh7fSksXG4gICAgICBnZXREZWZlcnJlZFF1ZXVlOiAoKSA9PiBbXSxcbiAgICAgIGdldFBsYXlTdGF0ZTogKCkgPT4gZmFsc2UsXG4gICAgICBnZXRQYXJ0czogKCkgPT4gW10sXG4gICAgICBzY2hlZHVsZWRUZW1wb1N3aXRjaDogbnVsbCxcbiAgICAgIGdldFRyYW5zcG9ydFN0YXJ0VGltZTogKCkgPT4gbnVsbCxcbiAgICAgIGdldFRlbXBvOiAoKSA9PiAnZmFzdCdcbiAgICB9XG4gIH1cblxuICBnZXRCdWZmZXJzQnlJbnN0VGVtcG9TbmFwc2hvdCgpOiBSZWNvcmQ8c3RyaW5nLCB7IGZhc3Q/OiB7IHNvZnQ/OiBib29sZWFuOyBsb3VkPzogYm9vbGVhbiB9OyBzbG93PzogeyBzb2Z0PzogYm9vbGVhbjsgbG91ZD86IGJvb2xlYW4gfSB9PiB7XG4gICAgY29uc3Qgb3V0OiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge31cbiAgICBmb3IgKGNvbnN0IFtrLCB2XSBvZiB0aGlzLmJ1ZmZlcnNCeUluc3RUZW1wby5lbnRyaWVzKCkpIHtcbiAgICAgIG91dFtrXSA9IHtcbiAgICAgICAgZmFzdDogeyBzb2Z0OiAhIXYuZmFzdD8uc29mdCwgbG91ZDogISF2LmZhc3Q/LmxvdWQgfSxcbiAgICAgICAgc2xvdzogeyBzb2Z0OiAhIXYuc2xvdz8uc29mdCwgbG91ZDogISF2LnNsb3c/LmxvdWQgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3V0XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGF1ZGlvU2VydmljZSA9IG5ldyBBdWRpb1NlcnZpY2UoKVxuIl0sIm5hbWVzIjpbImFwcGx5RGVjb2RlRmFkZXMiLCJBdWRpb1NlcnZpY2UiLCJpbml0SWZOZWVkZWQiLCJhdWRpb0N0eCIsIkFDIiwiZ2xvYmFsVGhpcyIsIkF1ZGlvQ29udGV4dCIsIndlYmtpdEF1ZGlvQ29udGV4dCIsImN0eCIsImxpbWl0ZXIiLCJjcmVhdGVEeW5hbWljc0NvbXByZXNzb3IiLCJ0aHJlc2hvbGQiLCJ2YWx1ZSIsImtuZWUiLCJyYXRpbyIsImF0dGFjayIsInJlbGVhc2UiLCJkZXN0aW5hdGlvbiIsImNvbm5lY3QiLCJsb2FkQXVkaW9CdWZmZXIiLCJ1cmwiLCJFcnJvciIsImJ1ZmZlckNhY2hlIiwiaGFzIiwiZ2V0IiwicmVzIiwiZmV0Y2giLCJvayIsImFycmF5QnVmIiwiYXJyYXlCdWZmZXIiLCJidWZmZXIiLCJkZWNvZGVBdWRpb0RhdGEiLCJzbGljZSIsInNldCIsImdldEJhc2VHYWluUGFpciIsImluc3RJZCIsImV4aXN0aW5nIiwiYmFzZUdhaW5zIiwic29mdCIsImNyZWF0ZUdhaW4iLCJsb3VkIiwiZ2FpbiIsInBhaXIiLCJzZXRCYXNlR2FpblZhbHVlcyIsImJhbGFuY2VQZXJjZW50IiwibXV0ZWQiLCJiYWwiLCJNYXRoIiwibWF4IiwibWluIiwiY3JlYXRlQW5kU3RhcnROb2RlIiwidHlwZSIsInN0YXJ0VGltZSIsIm9mZnNldFNlY29uZHMiLCJmYWRlTXMiLCJiYXNlIiwiYWN0aXZlTm9kZXMiLCJleGlzdGluZ0VudHJ5IiwidW5kZWZpbmVkIiwiZW5kVGltZSIsImNhbmNlbFNjaGVkdWxlZFZhbHVlcyIsInNldFZhbHVlQXRUaW1lIiwibGluZWFyUmFtcFRvVmFsdWVBdFRpbWUiLCJzcmMiLCJzdG9wIiwicGVyR2FpbiIsImNyZWF0ZUJ1ZmZlclNvdXJjZSIsInN0YXJ0IiwiZSIsImNvbnNvbGUiLCJ3YXJuIiwiY3VycmVudCIsInN0b3BBbmRDbGVhbnVwTm9kZSIsInN0b3BUaW1lIiwicmVjb3JkIiwiZW50cnkiLCJ0IiwiY3VycmVudFRpbWUiLCJkaXNjb25uZWN0IiwiZmFkZUFuZFN0b3BOb2RlIiwicmVjIiwic3RvcEFsbEFjdGl2ZSIsIm5vdyIsImVudHJpZXMiLCJ0eXBlcyIsInNldFRpbWVvdXQiLCJ2YWx1ZXMiLCJjbGVhciIsInJlbGVhc2VJbnN0YW5jZSIsImdhaW5zIiwiZGVsZXRlIiwiYnVmZmVyc0J5SW5zdFRlbXBvIiwicHJlbG9hZFRlbXBvRm9ySW5zdGFuY2UiLCJwYXJ0SWQiLCJpbnN0cnVtZW50SWQiLCJ0ZW1wbyIsInNvZnRVcmwiLCJsb3VkVXJsIiwiUHJvbWlzZSIsImFsbCIsImNhdGNoIiwiZ2V0QnVmZmVyc0ZvciIsImdldEluc3BlY3RvclNuYXBzaG90IiwiZ2V0QXVkaW9CdWZmZXJzIiwic25hcCIsImsiLCJ2IiwiZmFzdCIsInNsb3ciLCJnZXRBdWRpb0J1ZmZlcnNCeVRlbXBvIiwiZ2V0QnVmZmVyc0J5SW5zdFRlbXBvU25hcHNob3QiLCJnZXROb2RlU3RhcnRUaW1lcyIsImdldERlZmVycmVkUXVldWUiLCJnZXRQbGF5U3RhdGUiLCJnZXRQYXJ0cyIsInNjaGVkdWxlZFRlbXBvU3dpdGNoIiwiZ2V0VHJhbnNwb3J0U3RhcnRUaW1lIiwiZ2V0VGVtcG8iLCJvdXQiLCJNYXAiLCJhdWRpb1NlcnZpY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/audio/AudioService.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/lib/audio/audioUtils.ts":
/*!*************************************!*\
  !*** ./src/lib/audio/audioUtils.ts ***!
  \*************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   applyDecodeFades: function() { return /* binding */ applyDecodeFades; },\n/* harmony export */   computeCurrentBeatIndex: function() { return /* binding */ computeCurrentBeatIndex; },\n/* harmony export */   computeNextBeatScheduleTime: function() { return /* binding */ computeNextBeatScheduleTime; },\n/* harmony export */   computeTargetOffsetForBeat: function() { return /* binding */ computeTargetOffsetForBeat; },\n/* harmony export */   loopDuration: function() { return /* binding */ loopDuration; },\n/* harmony export */   secondsPerBeat: function() { return /* binding */ secondsPerBeat; }\n/* harmony export */ });\nfunction secondsPerBeat(tempo) {\n    return tempo === \"fast\" ? 60 / 160 : 60 / 80;\n}\nfunction loopDuration(tempo) {\n    return tempo === \"fast\" ? 10.5 : 21;\n}\nfunction computeCurrentBeatIndex(audioNow, transportStart, tempo) {\n    const spb = secondsPerBeat(tempo);\n    const elapsed = Math.max(0, audioNow - transportStart);\n    return Math.floor(elapsed / spb);\n}\nfunction computeNextBeatScheduleTime(audioNow, transportStart, tempo) {\n    const spb = secondsPerBeat(tempo);\n    const nowBeat = Math.floor((audioNow - transportStart) / spb);\n    const nextBeatIndex = nowBeat + 1;\n    const scheduleTime = transportStart + nextBeatIndex * spb;\n    return {\n        nextBeatIndex,\n        scheduleTime\n    };\n}\nfunction computeTargetOffsetForBeat(beatIndex, tempo, bufferDuration) {\n    const spb = secondsPerBeat(tempo);\n    const canonicalLoop = loopDuration(tempo);\n    const beatsPerLoop = Math.round(canonicalLoop / spb);\n    const beatInLoop = (beatIndex % beatsPerLoop + beatsPerLoop) % beatsPerLoop;\n    let offset = beatInLoop * spb;\n    // Avoid floating rounding hitting the exact buffer end; clamp to start\n    const epsilon = 1e-3;\n    if (offset >= bufferDuration - epsilon) offset = 0;\n    return offset;\n}\nfunction applyDecodeFades(buffer) {\n    let fadeMs = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 20;\n    const sampleRate = buffer.sampleRate;\n    const fadeSamples = Math.max(1, Math.floor(fadeMs / 1000 * sampleRate));\n    for(let ch = 0; ch < buffer.numberOfChannels; ch++){\n        const data = buffer.getChannelData(ch);\n        // Fade in: ramp 0 -> 1 over fadeSamples, inclusive on end\n        const denomIn = Math.max(1, fadeSamples - 1);\n        for(let i = 0; i < fadeSamples && i < data.length; i++){\n            const gain = i / denomIn;\n            data[i] *= gain;\n        }\n        // Fade out: ramp 1 -> 0 over fadeSamples, making last sample 0\n        const denomOut = Math.max(1, fadeSamples - 1);\n        for(let i = 0; i < fadeSamples && i < data.length; i++){\n            const idx = data.length - 1 - i;\n            const gain = i / denomOut // last sample (i=0) => 0; deeper => ->1\n            ;\n            data[idx] *= gain;\n        }\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvYXVkaW8vYXVkaW9VdGlscy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFFTyxTQUFTQSxlQUFlQyxLQUFZO0lBQ3pDLE9BQU9BLFVBQVUsU0FBUyxLQUFLLE1BQU0sS0FBSztBQUM1QztBQUVPLFNBQVNDLGFBQWFELEtBQVk7SUFDdkMsT0FBT0EsVUFBVSxTQUFTLE9BQU87QUFDbkM7QUFFTyxTQUFTRSx3QkFBd0JDLFFBQWdCLEVBQUVDLGNBQXNCLEVBQUVKLEtBQVk7SUFDNUYsTUFBTUssTUFBTU4sZUFBZUM7SUFDM0IsTUFBTU0sVUFBVUMsS0FBS0MsR0FBRyxDQUFDLEdBQUdMLFdBQVdDO0lBQ3ZDLE9BQU9HLEtBQUtFLEtBQUssQ0FBQ0gsVUFBVUQ7QUFDOUI7QUFFTyxTQUFTSyw0QkFBNEJQLFFBQWdCLEVBQUVDLGNBQXNCLEVBQUVKLEtBQVk7SUFDaEcsTUFBTUssTUFBTU4sZUFBZUM7SUFDM0IsTUFBTVcsVUFBVUosS0FBS0UsS0FBSyxDQUFDLENBQUNOLFdBQVdDLGNBQWEsSUFBS0M7SUFDekQsTUFBTU8sZ0JBQWdCRCxVQUFVO0lBQ2hDLE1BQU1FLGVBQWVULGlCQUFpQlEsZ0JBQWdCUDtJQUN0RCxPQUFPO1FBQUVPO1FBQWVDO0lBQWE7QUFDdkM7QUFFTyxTQUFTQywyQkFBMkJDLFNBQWlCLEVBQUVmLEtBQVksRUFBRWdCLGNBQXNCO0lBQ2hHLE1BQU1YLE1BQU1OLGVBQWVDO0lBQzNCLE1BQU1pQixnQkFBZ0JoQixhQUFhRDtJQUNuQyxNQUFNa0IsZUFBZVgsS0FBS1ksS0FBSyxDQUFDRixnQkFBZ0JaO0lBQ2hELE1BQU1lLGFBQWEsQ0FBQyxZQUFhRixlQUFnQkEsWUFBVyxJQUFLQTtJQUNqRSxJQUFJRyxTQUFTRCxhQUFhZjtJQUMxQix1RUFBdUU7SUFDdkUsTUFBTWlCLFVBQVU7SUFDaEIsSUFBSUQsVUFBVUwsaUJBQWlCTSxTQUFTRCxTQUFTO0lBQ2pELE9BQU9BO0FBQ1Q7QUFFTyxTQUFTRSxpQkFBaUJDLE1BQW1CO1FBQUVDLFNBQUFBLGlFQUFTO0lBQzdELE1BQU1DLGFBQWFGLE9BQU9FLFVBQVU7SUFDcEMsTUFBTUMsY0FBY3BCLEtBQUtDLEdBQUcsQ0FBQyxHQUFHRCxLQUFLRSxLQUFLLENBQUMsU0FBVSxPQUFRaUI7SUFDN0QsSUFBSyxJQUFJRSxLQUFLLEdBQUdBLEtBQUtKLE9BQU9LLGdCQUFnQixFQUFFRCxLQUFNO1FBQ25ELE1BQU1FLE9BQU9OLE9BQU9PLGNBQWMsQ0FBQ0g7UUFDbkMsMERBQTBEO1FBQzFELE1BQU1JLFVBQVV6QixLQUFLQyxHQUFHLENBQUMsR0FBR21CLGNBQWM7UUFDMUMsSUFBSyxJQUFJTSxJQUFJLEdBQUdBLElBQUlOLGVBQWVNLElBQUlILEtBQUtJLE1BQU0sRUFBRUQsSUFBSztZQUN2RCxNQUFNRSxPQUFPRixJQUFJRDtZQUNqQkYsSUFBSSxDQUFDRyxFQUFFLElBQUlFO1FBQ2I7UUFDQSwrREFBK0Q7UUFDL0QsTUFBTUMsV0FBVzdCLEtBQUtDLEdBQUcsQ0FBQyxHQUFHbUIsY0FBYztRQUMzQyxJQUFLLElBQUlNLElBQUksR0FBR0EsSUFBSU4sZUFBZU0sSUFBSUgsS0FBS0ksTUFBTSxFQUFFRCxJQUFLO1lBQ3ZELE1BQU1JLE1BQU1QLEtBQUtJLE1BQU0sR0FBRyxJQUFJRDtZQUM5QixNQUFNRSxPQUFPRixJQUFJRyxTQUFTLHdDQUF3Qzs7WUFDbEVOLElBQUksQ0FBQ08sSUFBSSxJQUFJRjtRQUNmO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvbGliL2F1ZGlvL2F1ZGlvVXRpbHMudHM/ZjFmYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IFRlbXBvIH0gZnJvbSAnQC9saWIvdHlwZXMnXG5cbmV4cG9ydCBmdW5jdGlvbiBzZWNvbmRzUGVyQmVhdCh0ZW1wbzogVGVtcG8pOiBudW1iZXIge1xuICByZXR1cm4gdGVtcG8gPT09ICdmYXN0JyA/IDYwIC8gMTYwIDogNjAgLyA4MFxufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9vcER1cmF0aW9uKHRlbXBvOiBUZW1wbyk6IG51bWJlciB7XG4gIHJldHVybiB0ZW1wbyA9PT0gJ2Zhc3QnID8gMTAuNSA6IDIxXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlQ3VycmVudEJlYXRJbmRleChhdWRpb05vdzogbnVtYmVyLCB0cmFuc3BvcnRTdGFydDogbnVtYmVyLCB0ZW1wbzogVGVtcG8pOiBudW1iZXIge1xuICBjb25zdCBzcGIgPSBzZWNvbmRzUGVyQmVhdCh0ZW1wbylcbiAgY29uc3QgZWxhcHNlZCA9IE1hdGgubWF4KDAsIGF1ZGlvTm93IC0gdHJhbnNwb3J0U3RhcnQpXG4gIHJldHVybiBNYXRoLmZsb29yKGVsYXBzZWQgLyBzcGIpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlTmV4dEJlYXRTY2hlZHVsZVRpbWUoYXVkaW9Ob3c6IG51bWJlciwgdHJhbnNwb3J0U3RhcnQ6IG51bWJlciwgdGVtcG86IFRlbXBvKSB7XG4gIGNvbnN0IHNwYiA9IHNlY29uZHNQZXJCZWF0KHRlbXBvKVxuICBjb25zdCBub3dCZWF0ID0gTWF0aC5mbG9vcigoYXVkaW9Ob3cgLSB0cmFuc3BvcnRTdGFydCkgLyBzcGIpXG4gIGNvbnN0IG5leHRCZWF0SW5kZXggPSBub3dCZWF0ICsgMVxuICBjb25zdCBzY2hlZHVsZVRpbWUgPSB0cmFuc3BvcnRTdGFydCArIG5leHRCZWF0SW5kZXggKiBzcGJcbiAgcmV0dXJuIHsgbmV4dEJlYXRJbmRleCwgc2NoZWR1bGVUaW1lIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVUYXJnZXRPZmZzZXRGb3JCZWF0KGJlYXRJbmRleDogbnVtYmVyLCB0ZW1wbzogVGVtcG8sIGJ1ZmZlckR1cmF0aW9uOiBudW1iZXIpOiBudW1iZXIge1xuICBjb25zdCBzcGIgPSBzZWNvbmRzUGVyQmVhdCh0ZW1wbylcbiAgY29uc3QgY2Fub25pY2FsTG9vcCA9IGxvb3BEdXJhdGlvbih0ZW1wbylcbiAgY29uc3QgYmVhdHNQZXJMb29wID0gTWF0aC5yb3VuZChjYW5vbmljYWxMb29wIC8gc3BiKVxuICBjb25zdCBiZWF0SW5Mb29wID0gKChiZWF0SW5kZXggJSBiZWF0c1Blckxvb3ApICsgYmVhdHNQZXJMb29wKSAlIGJlYXRzUGVyTG9vcFxuICBsZXQgb2Zmc2V0ID0gYmVhdEluTG9vcCAqIHNwYlxuICAvLyBBdm9pZCBmbG9hdGluZyByb3VuZGluZyBoaXR0aW5nIHRoZSBleGFjdCBidWZmZXIgZW5kOyBjbGFtcCB0byBzdGFydFxuICBjb25zdCBlcHNpbG9uID0gMWUtM1xuICBpZiAob2Zmc2V0ID49IGJ1ZmZlckR1cmF0aW9uIC0gZXBzaWxvbikgb2Zmc2V0ID0gMFxuICByZXR1cm4gb2Zmc2V0XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBseURlY29kZUZhZGVzKGJ1ZmZlcjogQXVkaW9CdWZmZXIsIGZhZGVNcyA9IDIwKSB7XG4gIGNvbnN0IHNhbXBsZVJhdGUgPSBidWZmZXIuc2FtcGxlUmF0ZVxuICBjb25zdCBmYWRlU2FtcGxlcyA9IE1hdGgubWF4KDEsIE1hdGguZmxvb3IoKGZhZGVNcyAvIDEwMDApICogc2FtcGxlUmF0ZSkpXG4gIGZvciAobGV0IGNoID0gMDsgY2ggPCBidWZmZXIubnVtYmVyT2ZDaGFubmVsczsgY2grKykge1xuICAgIGNvbnN0IGRhdGEgPSBidWZmZXIuZ2V0Q2hhbm5lbERhdGEoY2gpXG4gICAgLy8gRmFkZSBpbjogcmFtcCAwIC0+IDEgb3ZlciBmYWRlU2FtcGxlcywgaW5jbHVzaXZlIG9uIGVuZFxuICAgIGNvbnN0IGRlbm9tSW4gPSBNYXRoLm1heCgxLCBmYWRlU2FtcGxlcyAtIDEpXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmYWRlU2FtcGxlcyAmJiBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZ2FpbiA9IGkgLyBkZW5vbUluXG4gICAgICBkYXRhW2ldICo9IGdhaW5cbiAgICB9XG4gICAgLy8gRmFkZSBvdXQ6IHJhbXAgMSAtPiAwIG92ZXIgZmFkZVNhbXBsZXMsIG1ha2luZyBsYXN0IHNhbXBsZSAwXG4gICAgY29uc3QgZGVub21PdXQgPSBNYXRoLm1heCgxLCBmYWRlU2FtcGxlcyAtIDEpXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmYWRlU2FtcGxlcyAmJiBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgaWR4ID0gZGF0YS5sZW5ndGggLSAxIC0gaVxuICAgICAgY29uc3QgZ2FpbiA9IGkgLyBkZW5vbU91dCAvLyBsYXN0IHNhbXBsZSAoaT0wKSA9PiAwOyBkZWVwZXIgPT4gLT4xXG4gICAgICBkYXRhW2lkeF0gKj0gZ2FpblxuICAgIH1cbiAgfVxufVxuIl0sIm5hbWVzIjpbInNlY29uZHNQZXJCZWF0IiwidGVtcG8iLCJsb29wRHVyYXRpb24iLCJjb21wdXRlQ3VycmVudEJlYXRJbmRleCIsImF1ZGlvTm93IiwidHJhbnNwb3J0U3RhcnQiLCJzcGIiLCJlbGFwc2VkIiwiTWF0aCIsIm1heCIsImZsb29yIiwiY29tcHV0ZU5leHRCZWF0U2NoZWR1bGVUaW1lIiwibm93QmVhdCIsIm5leHRCZWF0SW5kZXgiLCJzY2hlZHVsZVRpbWUiLCJjb21wdXRlVGFyZ2V0T2Zmc2V0Rm9yQmVhdCIsImJlYXRJbmRleCIsImJ1ZmZlckR1cmF0aW9uIiwiY2Fub25pY2FsTG9vcCIsImJlYXRzUGVyTG9vcCIsInJvdW5kIiwiYmVhdEluTG9vcCIsIm9mZnNldCIsImVwc2lsb24iLCJhcHBseURlY29kZUZhZGVzIiwiYnVmZmVyIiwiZmFkZU1zIiwic2FtcGxlUmF0ZSIsImZhZGVTYW1wbGVzIiwiY2giLCJudW1iZXJPZkNoYW5uZWxzIiwiZGF0YSIsImdldENoYW5uZWxEYXRhIiwiZGVub21JbiIsImkiLCJsZW5ndGgiLCJnYWluIiwiZGVub21PdXQiLCJpZHgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/audio/audioUtils.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/lib/instruments.ts":
/*!********************************!*\
  !*** ./src/lib/instruments.ts ***!
  \********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   INSTRUMENTS_BY_PART: function() { return /* binding */ INSTRUMENTS_BY_PART; },\n/* harmony export */   PARTS: function() { return /* binding */ PARTS; }\n/* harmony export */ });\nconst PARTS = [\n    \"melody\",\n    \"harmony\",\n    \"rhythm\",\n    \"texture\"\n];\n// Exactly 4 instrument IDs per part to yield 64 files with 2 dynamics x 2 tempos\nconst INSTRUMENTS_BY_PART = {\n    melody: [\n        {\n            id: \"brass\",\n            name: \"Brass\",\n            family: \"melody\"\n        },\n        {\n            id: \"strings\",\n            name: \"Strings\",\n            family: \"melody\"\n        },\n        {\n            id: \"woodwind\",\n            name: \"Woodwind\",\n            family: \"melody\"\n        },\n        {\n            id: \"percussion\",\n            name: \"Percussion\",\n            family: \"melody\"\n        }\n    ],\n    harmony: [\n        {\n            id: \"brass\",\n            name: \"Brass\",\n            family: \"harmony\"\n        },\n        {\n            id: \"strings\",\n            name: \"Strings\",\n            family: \"harmony\"\n        },\n        {\n            id: \"woodwind\",\n            name: \"Woodwind\",\n            family: \"harmony\"\n        },\n        {\n            id: \"percussion\",\n            name: \"Percussion\",\n            family: \"harmony\"\n        }\n    ],\n    rhythm: [\n        {\n            id: \"brass\",\n            name: \"Brass\",\n            family: \"rhythm\"\n        },\n        {\n            id: \"strings\",\n            name: \"Strings\",\n            family: \"rhythm\"\n        },\n        {\n            id: \"woodwind\",\n            name: \"Woodwind\",\n            family: \"rhythm\"\n        },\n        {\n            id: \"percussion\",\n            name: \"Percussion\",\n            family: \"rhythm\"\n        }\n    ],\n    texture: [\n        {\n            id: \"brass\",\n            name: \"Brass\",\n            family: \"texture\"\n        },\n        {\n            id: \"strings\",\n            name: \"Strings\",\n            family: \"texture\"\n        },\n        {\n            id: \"woodwind\",\n            name: \"Woodwind\",\n            family: \"texture\"\n        },\n        {\n            id: \"percussion\",\n            name: \"Percussion\",\n            family: \"texture\"\n        }\n    ]\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvaW5zdHJ1bWVudHMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBTyxNQUFNQSxRQUFRO0lBQUM7SUFBVTtJQUFXO0lBQVU7Q0FBVSxDQUFTO0FBR3hFLGlGQUFpRjtBQUMxRSxNQUFNQyxzQkFBMEY7SUFDckdDLFFBQVE7UUFDTjtZQUFFQyxJQUFJO1lBQVNDLE1BQU07WUFBU0MsUUFBUTtRQUFTO1FBQy9DO1lBQUVGLElBQUk7WUFBV0MsTUFBTTtZQUFXQyxRQUFRO1FBQVM7UUFDbkQ7WUFBRUYsSUFBSTtZQUFZQyxNQUFNO1lBQVlDLFFBQVE7UUFBUztRQUNyRDtZQUFFRixJQUFJO1lBQWNDLE1BQU07WUFBY0MsUUFBUTtRQUFTO0tBQzFEO0lBQ0RDLFNBQVM7UUFDUDtZQUFFSCxJQUFJO1lBQVNDLE1BQU07WUFBU0MsUUFBUTtRQUFVO1FBQ2hEO1lBQUVGLElBQUk7WUFBV0MsTUFBTTtZQUFXQyxRQUFRO1FBQVU7UUFDcEQ7WUFBRUYsSUFBSTtZQUFZQyxNQUFNO1lBQVlDLFFBQVE7UUFBVTtRQUN0RDtZQUFFRixJQUFJO1lBQWNDLE1BQU07WUFBY0MsUUFBUTtRQUFVO0tBQzNEO0lBQ0RFLFFBQVE7UUFDTjtZQUFFSixJQUFJO1lBQVNDLE1BQU07WUFBU0MsUUFBUTtRQUFTO1FBQy9DO1lBQUVGLElBQUk7WUFBV0MsTUFBTTtZQUFXQyxRQUFRO1FBQVM7UUFDbkQ7WUFBRUYsSUFBSTtZQUFZQyxNQUFNO1lBQVlDLFFBQVE7UUFBUztRQUNyRDtZQUFFRixJQUFJO1lBQWNDLE1BQU07WUFBY0MsUUFBUTtRQUFTO0tBQzFEO0lBQ0RHLFNBQVM7UUFDUDtZQUFFTCxJQUFJO1lBQVNDLE1BQU07WUFBU0MsUUFBUTtRQUFVO1FBQ2hEO1lBQUVGLElBQUk7WUFBV0MsTUFBTTtZQUFXQyxRQUFRO1FBQVU7UUFDcEQ7WUFBRUYsSUFBSTtZQUFZQyxNQUFNO1lBQVlDLFFBQVE7UUFBVTtRQUN0RDtZQUFFRixJQUFJO1lBQWNDLE1BQU07WUFBY0MsUUFBUTtRQUFVO0tBQzNEO0FBQ0gsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvbGliL2luc3RydW1lbnRzLnRzPzZmYTYiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IFBBUlRTID0gWydtZWxvZHknLCAnaGFybW9ueScsICdyaHl0aG0nLCAndGV4dHVyZSddIGFzIGNvbnN0XG5leHBvcnQgdHlwZSBQYXJ0Q29uc3QgPSB0eXBlb2YgUEFSVFNbbnVtYmVyXVxuXG4vLyBFeGFjdGx5IDQgaW5zdHJ1bWVudCBJRHMgcGVyIHBhcnQgdG8geWllbGQgNjQgZmlsZXMgd2l0aCAyIGR5bmFtaWNzIHggMiB0ZW1wb3NcbmV4cG9ydCBjb25zdCBJTlNUUlVNRU5UU19CWV9QQVJUOiBSZWNvcmQ8UGFydENvbnN0LCB7IGlkOiBzdHJpbmc7IG5hbWU6IHN0cmluZzsgZmFtaWx5Pzogc3RyaW5nIH1bXT4gPSB7XG4gIG1lbG9keTogW1xuICAgIHsgaWQ6ICdicmFzcycsIG5hbWU6ICdCcmFzcycsIGZhbWlseTogJ21lbG9keScgfSxcbiAgICB7IGlkOiAnc3RyaW5ncycsIG5hbWU6ICdTdHJpbmdzJywgZmFtaWx5OiAnbWVsb2R5JyB9LFxuICAgIHsgaWQ6ICd3b29kd2luZCcsIG5hbWU6ICdXb29kd2luZCcsIGZhbWlseTogJ21lbG9keScgfSxcbiAgICB7IGlkOiAncGVyY3Vzc2lvbicsIG5hbWU6ICdQZXJjdXNzaW9uJywgZmFtaWx5OiAnbWVsb2R5JyB9XG4gIF0sXG4gIGhhcm1vbnk6IFtcbiAgICB7IGlkOiAnYnJhc3MnLCBuYW1lOiAnQnJhc3MnLCBmYW1pbHk6ICdoYXJtb255JyB9LFxuICAgIHsgaWQ6ICdzdHJpbmdzJywgbmFtZTogJ1N0cmluZ3MnLCBmYW1pbHk6ICdoYXJtb255JyB9LFxuICAgIHsgaWQ6ICd3b29kd2luZCcsIG5hbWU6ICdXb29kd2luZCcsIGZhbWlseTogJ2hhcm1vbnknIH0sXG4gICAgeyBpZDogJ3BlcmN1c3Npb24nLCBuYW1lOiAnUGVyY3Vzc2lvbicsIGZhbWlseTogJ2hhcm1vbnknIH1cbiAgXSxcbiAgcmh5dGhtOiBbXG4gICAgeyBpZDogJ2JyYXNzJywgbmFtZTogJ0JyYXNzJywgZmFtaWx5OiAncmh5dGhtJyB9LFxuICAgIHsgaWQ6ICdzdHJpbmdzJywgbmFtZTogJ1N0cmluZ3MnLCBmYW1pbHk6ICdyaHl0aG0nIH0sXG4gICAgeyBpZDogJ3dvb2R3aW5kJywgbmFtZTogJ1dvb2R3aW5kJywgZmFtaWx5OiAncmh5dGhtJyB9LFxuICAgIHsgaWQ6ICdwZXJjdXNzaW9uJywgbmFtZTogJ1BlcmN1c3Npb24nLCBmYW1pbHk6ICdyaHl0aG0nIH1cbiAgXSxcbiAgdGV4dHVyZTogW1xuICAgIHsgaWQ6ICdicmFzcycsIG5hbWU6ICdCcmFzcycsIGZhbWlseTogJ3RleHR1cmUnIH0sXG4gICAgeyBpZDogJ3N0cmluZ3MnLCBuYW1lOiAnU3RyaW5ncycsIGZhbWlseTogJ3RleHR1cmUnIH0sXG4gICAgeyBpZDogJ3dvb2R3aW5kJywgbmFtZTogJ1dvb2R3aW5kJywgZmFtaWx5OiAndGV4dHVyZScgfSxcbiAgICB7IGlkOiAncGVyY3Vzc2lvbicsIG5hbWU6ICdQZXJjdXNzaW9uJywgZmFtaWx5OiAndGV4dHVyZScgfVxuICBdXG59XG4iXSwibmFtZXMiOlsiUEFSVFMiLCJJTlNUUlVNRU5UU19CWV9QQVJUIiwibWVsb2R5IiwiaWQiLCJuYW1lIiwiZmFtaWx5IiwiaGFybW9ueSIsInJoeXRobSIsInRleHR1cmUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/instruments.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js ***!
  \****************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("/**\n * @license React\n * react-jsx-dev-runtime.development.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\nif (true) {\n  (function() {\n'use strict';\n\nvar React = __webpack_require__(/*! next/dist/compiled/react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n\n// ATTENTION\n// When adding new symbols to this file,\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n// The Symbol used to tag the ReactElement-like types.\nvar REACT_ELEMENT_TYPE = Symbol.for('react.element');\nvar REACT_PORTAL_TYPE = Symbol.for('react.portal');\nvar REACT_FRAGMENT_TYPE = Symbol.for('react.fragment');\nvar REACT_STRICT_MODE_TYPE = Symbol.for('react.strict_mode');\nvar REACT_PROFILER_TYPE = Symbol.for('react.profiler');\nvar REACT_PROVIDER_TYPE = Symbol.for('react.provider'); // TODO: Delete with enableRenderableContext\n\nvar REACT_CONSUMER_TYPE = Symbol.for('react.consumer');\nvar REACT_CONTEXT_TYPE = Symbol.for('react.context');\nvar REACT_FORWARD_REF_TYPE = Symbol.for('react.forward_ref');\nvar REACT_SUSPENSE_TYPE = Symbol.for('react.suspense');\nvar REACT_SUSPENSE_LIST_TYPE = Symbol.for('react.suspense_list');\nvar REACT_MEMO_TYPE = Symbol.for('react.memo');\nvar REACT_LAZY_TYPE = Symbol.for('react.lazy');\nvar REACT_OFFSCREEN_TYPE = Symbol.for('react.offscreen');\nvar REACT_CACHE_TYPE = Symbol.for('react.cache');\nvar MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nvar FAUX_ITERATOR_SYMBOL = '@@iterator';\nfunction getIteratorFn(maybeIterable) {\n  if (maybeIterable === null || typeof maybeIterable !== 'object') {\n    return null;\n  }\n\n  var maybeIterator = MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL];\n\n  if (typeof maybeIterator === 'function') {\n    return maybeIterator;\n  }\n\n  return null;\n}\n\nvar ReactSharedInternals = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\nfunction error(format) {\n  {\n    {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      printWarning('error', format, args);\n    }\n  }\n}\n\nfunction printWarning(level, format, args) {\n  // When changing this logic, you might want to also\n  // update consoleWithStackDev.www.js as well.\n  {\n    var ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n    var stack = ReactDebugCurrentFrame.getStackAddendum();\n\n    if (stack !== '') {\n      format += '%s';\n      args = args.concat([stack]);\n    } // eslint-disable-next-line react-internal/safe-string-coercion\n\n\n    var argsWithFormat = args.map(function (item) {\n      return String(item);\n    }); // Careful: RN currently depends on this prefix\n\n    argsWithFormat.unshift('Warning: ' + format); // We intentionally don't use spread (or .apply) directly because it\n    // breaks IE9: https://github.com/facebook/react/issues/13610\n    // eslint-disable-next-line react-internal/no-production-logging\n\n    Function.prototype.apply.call(console[level], console, argsWithFormat);\n  }\n}\n\n// -----------------------------------------------------------------------------\n\nvar enableScopeAPI = false; // Experimental Create Event Handle API.\nvar enableCacheElement = false;\nvar enableTransitionTracing = false; // No known bugs, but needs performance testing\n\nvar enableLegacyHidden = false; // Enables unstable_avoidThisFallback feature in Fiber\nvar enableRenderableContext = false;\n// stuff. Intended to enable React core members to more easily debug scheduling\n// issues in DEV builds.\n\nvar enableDebugTracing = false;\n\nfunction getWrappedName(outerType, innerType, wrapperName) {\n  var displayName = outerType.displayName;\n\n  if (displayName) {\n    return displayName;\n  }\n\n  var functionName = innerType.displayName || innerType.name || '';\n  return functionName !== '' ? wrapperName + \"(\" + functionName + \")\" : wrapperName;\n} // Keep in sync with react-reconciler/getComponentNameFromFiber\n\n\nfunction getContextName(type) {\n  return type.displayName || 'Context';\n}\n\nvar REACT_CLIENT_REFERENCE$2 = Symbol.for('react.client.reference'); // Note that the reconciler package should generally prefer to use getComponentNameFromFiber() instead.\n\nfunction getComponentNameFromType(type) {\n  if (type == null) {\n    // Host root, text node or just invalid type.\n    return null;\n  }\n\n  if (typeof type === 'function') {\n    if (type.$$typeof === REACT_CLIENT_REFERENCE$2) {\n      // TODO: Create a convention for naming client references with debug info.\n      return null;\n    }\n\n    return type.displayName || type.name || null;\n  }\n\n  if (typeof type === 'string') {\n    return type;\n  }\n\n  switch (type) {\n    case REACT_FRAGMENT_TYPE:\n      return 'Fragment';\n\n    case REACT_PORTAL_TYPE:\n      return 'Portal';\n\n    case REACT_PROFILER_TYPE:\n      return 'Profiler';\n\n    case REACT_STRICT_MODE_TYPE:\n      return 'StrictMode';\n\n    case REACT_SUSPENSE_TYPE:\n      return 'Suspense';\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return 'SuspenseList';\n\n    case REACT_CACHE_TYPE:\n      {\n        return 'Cache';\n      }\n\n  }\n\n  if (typeof type === 'object') {\n    {\n      if (typeof type.tag === 'number') {\n        error('Received an unexpected object in getComponentNameFromType(). ' + 'This is likely a bug in React. Please file an issue.');\n      }\n    }\n\n    switch (type.$$typeof) {\n      case REACT_PROVIDER_TYPE:\n        {\n          var provider = type;\n          return getContextName(provider._context) + '.Provider';\n        }\n\n      case REACT_CONTEXT_TYPE:\n        var context = type;\n\n        {\n          return getContextName(context) + '.Consumer';\n        }\n\n      case REACT_CONSUMER_TYPE:\n        {\n          return null;\n        }\n\n      case REACT_FORWARD_REF_TYPE:\n        return getWrappedName(type, type.render, 'ForwardRef');\n\n      case REACT_MEMO_TYPE:\n        var outerName = type.displayName || null;\n\n        if (outerName !== null) {\n          return outerName;\n        }\n\n        return getComponentNameFromType(type.type) || 'Memo';\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            return getComponentNameFromType(init(payload));\n          } catch (x) {\n            return null;\n          }\n        }\n    }\n  }\n\n  return null;\n}\n\n// $FlowFixMe[method-unbinding]\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar assign = Object.assign;\n\n/*\n * The `'' + value` pattern (used in perf-sensitive code) throws for Symbol\n * and Temporal.* types. See https://github.com/facebook/react/pull/22064.\n *\n * The functions in this module will throw an easier-to-understand,\n * easier-to-debug exception with a clear errors message message explaining the\n * problem. (Instead of a confusing exception thrown inside the implementation\n * of the `value` object).\n */\n// $FlowFixMe[incompatible-return] only called in DEV, so void return is not possible.\nfunction typeName(value) {\n  {\n    // toStringTag is needed for namespaced types like Temporal.Instant\n    var hasToStringTag = typeof Symbol === 'function' && Symbol.toStringTag;\n    var type = hasToStringTag && value[Symbol.toStringTag] || value.constructor.name || 'Object'; // $FlowFixMe[incompatible-return]\n\n    return type;\n  }\n} // $FlowFixMe[incompatible-return] only called in DEV, so void return is not possible.\n\n\nfunction willCoercionThrow(value) {\n  {\n    try {\n      testStringCoercion(value);\n      return false;\n    } catch (e) {\n      return true;\n    }\n  }\n}\n\nfunction testStringCoercion(value) {\n  // If you ended up here by following an exception call stack, here's what's\n  // happened: you supplied an object or symbol value to React (as a prop, key,\n  // DOM attribute, CSS property, string ref, etc.) and when React tried to\n  // coerce it to a string using `'' + value`, an exception was thrown.\n  //\n  // The most common types that will cause this exception are `Symbol` instances\n  // and Temporal objects like `Temporal.Instant`. But any object that has a\n  // `valueOf` or `[Symbol.toPrimitive]` method that throws will also cause this\n  // exception. (Library authors do this to prevent users from using built-in\n  // numeric operators like `+` or comparison operators like `>=` because custom\n  // methods are needed to perform accurate arithmetic or comparison.)\n  //\n  // To fix the problem, coerce this object or symbol value to a string before\n  // passing it to React. The most reliable way is usually `String(value)`.\n  //\n  // To find which value is throwing, check the browser or debugger console.\n  // Before this exception was thrown, there should be `console.error` output\n  // that shows the type (Symbol, Temporal.PlainDate, etc.) that caused the\n  // problem and how that type was used: key, atrribute, input value prop, etc.\n  // In most cases, this console output also shows the component and its\n  // ancestor components where the exception happened.\n  //\n  // eslint-disable-next-line react-internal/safe-string-coercion\n  return '' + value;\n}\nfunction checkKeyStringCoercion(value) {\n  {\n    if (willCoercionThrow(value)) {\n      error('The provided key is an unsupported type %s.' + ' This value must be coerced to a string before using it here.', typeName(value));\n\n      return testStringCoercion(value); // throw (to help callers find troubleshooting comments)\n    }\n  }\n}\n\nvar REACT_CLIENT_REFERENCE$1 = Symbol.for('react.client.reference');\nfunction isValidElementType(type) {\n  if (typeof type === 'string' || typeof type === 'function') {\n    return true;\n  } // Note: typeof might be other than 'symbol' or 'number' (e.g. if it's a polyfill).\n\n\n  if (type === REACT_FRAGMENT_TYPE || type === REACT_PROFILER_TYPE || enableDebugTracing  || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || enableLegacyHidden  || type === REACT_OFFSCREEN_TYPE || enableScopeAPI  || enableCacheElement  || enableTransitionTracing ) {\n    return true;\n  }\n\n  if (typeof type === 'object' && type !== null) {\n    if (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || enableRenderableContext  || type.$$typeof === REACT_FORWARD_REF_TYPE || // This needs to include all possible module reference object\n    // types supported by any Flight configuration anywhere since\n    // we don't know which Flight build this will end up being used\n    // with.\n    type.$$typeof === REACT_CLIENT_REFERENCE$1 || type.getModuleId !== undefined) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nvar isArrayImpl = Array.isArray; // eslint-disable-next-line no-redeclare\n\nfunction isArray(a) {\n  return isArrayImpl(a);\n}\n\n// Helpers to patch console.logs to avoid logging during side-effect free\n// replaying on render function. This currently only patches the object\n// lazily which won't cover if the log function was extracted eagerly.\n// We could also eagerly patch the method.\nvar disabledDepth = 0;\nvar prevLog;\nvar prevInfo;\nvar prevWarn;\nvar prevError;\nvar prevGroup;\nvar prevGroupCollapsed;\nvar prevGroupEnd;\n\nfunction disabledLog() {}\n\ndisabledLog.__reactDisabledLog = true;\nfunction disableLogs() {\n  {\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      prevLog = console.log;\n      prevInfo = console.info;\n      prevWarn = console.warn;\n      prevError = console.error;\n      prevGroup = console.group;\n      prevGroupCollapsed = console.groupCollapsed;\n      prevGroupEnd = console.groupEnd; // https://github.com/facebook/react/issues/19099\n\n      var props = {\n        configurable: true,\n        enumerable: true,\n        value: disabledLog,\n        writable: true\n      }; // $FlowFixMe[cannot-write] Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        info: props,\n        log: props,\n        warn: props,\n        error: props,\n        group: props,\n        groupCollapsed: props,\n        groupEnd: props\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    disabledDepth++;\n  }\n}\nfunction reenableLogs() {\n  {\n    disabledDepth--;\n\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      var props = {\n        configurable: true,\n        enumerable: true,\n        writable: true\n      }; // $FlowFixMe[cannot-write] Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        log: assign({}, props, {\n          value: prevLog\n        }),\n        info: assign({}, props, {\n          value: prevInfo\n        }),\n        warn: assign({}, props, {\n          value: prevWarn\n        }),\n        error: assign({}, props, {\n          value: prevError\n        }),\n        group: assign({}, props, {\n          value: prevGroup\n        }),\n        groupCollapsed: assign({}, props, {\n          value: prevGroupCollapsed\n        }),\n        groupEnd: assign({}, props, {\n          value: prevGroupEnd\n        })\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    if (disabledDepth < 0) {\n      error('disabledDepth fell below zero. ' + 'This is a bug in React. Please file an issue.');\n    }\n  }\n}\n\nvar ReactCurrentDispatcher = ReactSharedInternals.ReactCurrentDispatcher;\nvar prefix;\nfunction describeBuiltInComponentFrame(name, ownerFn) {\n  {\n    if (prefix === undefined) {\n      // Extract the VM specific prefix used by each line.\n      try {\n        throw Error();\n      } catch (x) {\n        var match = x.stack.trim().match(/\\n( *(at )?)/);\n        prefix = match && match[1] || '';\n      }\n    } // We use the prefix to ensure our stacks line up with native stack frames.\n\n\n    return '\\n' + prefix + name;\n  }\n}\nvar reentry = false;\nvar componentFrameCache;\n\n{\n  var PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;\n  componentFrameCache = new PossiblyWeakMap();\n}\n/**\n * Leverages native browser/VM stack frames to get proper details (e.g.\n * filename, line + col number) for a single component in a component stack. We\n * do this by:\n *   (1) throwing and catching an error in the function - this will be our\n *       control error.\n *   (2) calling the component which will eventually throw an error that we'll\n *       catch - this will be our sample error.\n *   (3) diffing the control and sample error stacks to find the stack frame\n *       which represents our component.\n */\n\n\nfunction describeNativeComponentFrame(fn, construct) {\n  // If something asked for a stack inside a fake render, it should get ignored.\n  if (!fn || reentry) {\n    return '';\n  }\n\n  {\n    var frame = componentFrameCache.get(fn);\n\n    if (frame !== undefined) {\n      return frame;\n    }\n  }\n\n  reentry = true;\n  var previousPrepareStackTrace = Error.prepareStackTrace; // $FlowFixMe[incompatible-type] It does accept undefined.\n\n  Error.prepareStackTrace = undefined;\n  var previousDispatcher;\n\n  {\n    previousDispatcher = ReactCurrentDispatcher.current; // Set the dispatcher in DEV because this might be call in the render function\n    // for warnings.\n\n    ReactCurrentDispatcher.current = null;\n    disableLogs();\n  }\n  /**\n   * Finding a common stack frame between sample and control errors can be\n   * tricky given the different types and levels of stack trace truncation from\n   * different JS VMs. So instead we'll attempt to control what that common\n   * frame should be through this object method:\n   * Having both the sample and control errors be in the function under the\n   * `DescribeNativeComponentFrameRoot` property, + setting the `name` and\n   * `displayName` properties of the function ensures that a stack\n   * frame exists that has the method name `DescribeNativeComponentFrameRoot` in\n   * it for both control and sample stacks.\n   */\n\n\n  var RunInRootFrame = {\n    DetermineComponentFrameRoot: function () {\n      var control;\n\n      try {\n        // This should throw.\n        if (construct) {\n          // Something should be setting the props in the constructor.\n          var Fake = function () {\n            throw Error();\n          }; // $FlowFixMe[prop-missing]\n\n\n          Object.defineProperty(Fake.prototype, 'props', {\n            set: function () {\n              // We use a throwing setter instead of frozen or non-writable props\n              // because that won't throw in a non-strict mode function.\n              throw Error();\n            }\n          });\n\n          if (typeof Reflect === 'object' && Reflect.construct) {\n            // We construct a different control for this case to include any extra\n            // frames added by the construct call.\n            try {\n              Reflect.construct(Fake, []);\n            } catch (x) {\n              control = x;\n            }\n\n            Reflect.construct(fn, [], Fake);\n          } else {\n            try {\n              Fake.call();\n            } catch (x) {\n              control = x;\n            } // $FlowFixMe[prop-missing] found when upgrading Flow\n\n\n            fn.call(Fake.prototype);\n          }\n        } else {\n          try {\n            throw Error();\n          } catch (x) {\n            control = x;\n          } // TODO(luna): This will currently only throw if the function component\n          // tries to access React/ReactDOM/props. We should probably make this throw\n          // in simple components too\n\n\n          var maybePromise = fn(); // If the function component returns a promise, it's likely an async\n          // component, which we don't yet support. Attach a noop catch handler to\n          // silence the error.\n          // TODO: Implement component stacks for async client components?\n\n          if (maybePromise && typeof maybePromise.catch === 'function') {\n            maybePromise.catch(function () {});\n          }\n        }\n      } catch (sample) {\n        // This is inlined manually because closure doesn't do it for us.\n        if (sample && control && typeof sample.stack === 'string') {\n          return [sample.stack, control.stack];\n        }\n      }\n\n      return [null, null];\n    }\n  }; // $FlowFixMe[prop-missing]\n\n  RunInRootFrame.DetermineComponentFrameRoot.displayName = 'DetermineComponentFrameRoot';\n  var namePropDescriptor = Object.getOwnPropertyDescriptor(RunInRootFrame.DetermineComponentFrameRoot, 'name'); // Before ES6, the `name` property was not configurable.\n\n  if (namePropDescriptor && namePropDescriptor.configurable) {\n    // V8 utilizes a function's `name` property when generating a stack trace.\n    Object.defineProperty(RunInRootFrame.DetermineComponentFrameRoot, // Configurable properties can be updated even if its writable descriptor\n    // is set to `false`.\n    // $FlowFixMe[cannot-write]\n    'name', {\n      value: 'DetermineComponentFrameRoot'\n    });\n  }\n\n  try {\n    var _RunInRootFrame$Deter = RunInRootFrame.DetermineComponentFrameRoot(),\n        sampleStack = _RunInRootFrame$Deter[0],\n        controlStack = _RunInRootFrame$Deter[1];\n\n    if (sampleStack && controlStack) {\n      // This extracts the first frame from the sample that isn't also in the control.\n      // Skipping one frame that we assume is the frame that calls the two.\n      var sampleLines = sampleStack.split('\\n');\n      var controlLines = controlStack.split('\\n');\n      var s = 0;\n      var c = 0;\n\n      while (s < sampleLines.length && !sampleLines[s].includes('DetermineComponentFrameRoot')) {\n        s++;\n      }\n\n      while (c < controlLines.length && !controlLines[c].includes('DetermineComponentFrameRoot')) {\n        c++;\n      } // We couldn't find our intentionally injected common root frame, attempt\n      // to find another common root frame by search from the bottom of the\n      // control stack...\n\n\n      if (s === sampleLines.length || c === controlLines.length) {\n        s = sampleLines.length - 1;\n        c = controlLines.length - 1;\n\n        while (s >= 1 && c >= 0 && sampleLines[s] !== controlLines[c]) {\n          // We expect at least one stack frame to be shared.\n          // Typically this will be the root most one. However, stack frames may be\n          // cut off due to maximum stack limits. In this case, one maybe cut off\n          // earlier than the other. We assume that the sample is longer or the same\n          // and there for cut off earlier. So we should find the root most frame in\n          // the sample somewhere in the control.\n          c--;\n        }\n      }\n\n      for (; s >= 1 && c >= 0; s--, c--) {\n        // Next we find the first one that isn't the same which should be the\n        // frame that called our sample function and the control.\n        if (sampleLines[s] !== controlLines[c]) {\n          // In V8, the first line is describing the message but other VMs don't.\n          // If we're about to return the first line, and the control is also on the same\n          // line, that's a pretty good indicator that our sample threw at same line as\n          // the control. I.e. before we entered the sample frame. So we ignore this result.\n          // This can happen if you passed a class to function component, or non-function.\n          if (s !== 1 || c !== 1) {\n            do {\n              s--;\n              c--; // We may still have similar intermediate frames from the construct call.\n              // The next one that isn't the same should be our match though.\n\n              if (c < 0 || sampleLines[s] !== controlLines[c]) {\n                // V8 adds a \"new\" prefix for native classes. Let's remove it to make it prettier.\n                var _frame = '\\n' + sampleLines[s].replace(' at new ', ' at '); // If our component frame is labeled \"<anonymous>\"\n                // but we have a user-provided \"displayName\"\n                // splice it in to make the stack more readable.\n\n\n                if (fn.displayName && _frame.includes('<anonymous>')) {\n                  _frame = _frame.replace('<anonymous>', fn.displayName);\n                }\n\n                if (true) {\n                  if (typeof fn === 'function') {\n                    componentFrameCache.set(fn, _frame);\n                  }\n                } // Return the line we found.\n\n\n                return _frame;\n              }\n            } while (s >= 1 && c >= 0);\n          }\n\n          break;\n        }\n      }\n    }\n  } finally {\n    reentry = false;\n\n    {\n      ReactCurrentDispatcher.current = previousDispatcher;\n      reenableLogs();\n    }\n\n    Error.prepareStackTrace = previousPrepareStackTrace;\n  } // Fallback to just using the name if we couldn't make it throw.\n\n\n  var name = fn ? fn.displayName || fn.name : '';\n  var syntheticFrame = name ? describeBuiltInComponentFrame(name) : '';\n\n  {\n    if (typeof fn === 'function') {\n      componentFrameCache.set(fn, syntheticFrame);\n    }\n  }\n\n  return syntheticFrame;\n}\nfunction describeFunctionComponentFrame(fn, ownerFn) {\n  {\n    return describeNativeComponentFrame(fn, false);\n  }\n}\n\nfunction shouldConstruct(Component) {\n  var prototype = Component.prototype;\n  return !!(prototype && prototype.isReactComponent);\n}\n\nfunction describeUnknownElementTypeFrameInDEV(type, ownerFn) {\n\n  if (type == null) {\n    return '';\n  }\n\n  if (typeof type === 'function') {\n    {\n      return describeNativeComponentFrame(type, shouldConstruct(type));\n    }\n  }\n\n  if (typeof type === 'string') {\n    return describeBuiltInComponentFrame(type);\n  }\n\n  switch (type) {\n    case REACT_SUSPENSE_TYPE:\n      return describeBuiltInComponentFrame('Suspense');\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return describeBuiltInComponentFrame('SuspenseList');\n  }\n\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case REACT_FORWARD_REF_TYPE:\n        return describeFunctionComponentFrame(type.render);\n\n      case REACT_MEMO_TYPE:\n        // Memo may contain any component type so we recursively resolve it.\n        return describeUnknownElementTypeFrameInDEV(type.type, ownerFn);\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            // Lazy may contain any component type so we recursively resolve it.\n            return describeUnknownElementTypeFrameInDEV(init(payload), ownerFn);\n          } catch (x) {}\n        }\n    }\n  }\n\n  return '';\n}\n\nvar ReactCurrentOwner = ReactSharedInternals.ReactCurrentOwner;\nvar ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\nvar REACT_CLIENT_REFERENCE = Symbol.for('react.client.reference');\nvar specialPropKeyWarningShown;\nvar specialPropRefWarningShown;\nvar didWarnAboutStringRefs;\n\n{\n  didWarnAboutStringRefs = {};\n}\n\nfunction hasValidRef(config) {\n  {\n    if (hasOwnProperty.call(config, 'ref')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'ref').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.ref !== undefined;\n}\n\nfunction hasValidKey(config) {\n  {\n    if (hasOwnProperty.call(config, 'key')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'key').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.key !== undefined;\n}\n\nfunction warnIfStringRefCannotBeAutoConverted(config, self) {\n  {\n    if (typeof config.ref === 'string' && ReactCurrentOwner.current && self && ReactCurrentOwner.current.stateNode !== self) {\n      var componentName = getComponentNameFromType(ReactCurrentOwner.current.type);\n\n      if (!didWarnAboutStringRefs[componentName]) {\n        error('Component \"%s\" contains the string ref \"%s\". ' + 'Support for string refs will be removed in a future major release. ' + 'This case cannot be automatically converted to an arrow function. ' + 'We ask you to manually fix this case by using useRef() or createRef() instead. ' + 'Learn more about using refs safely here: ' + 'https://reactjs.org/link/strict-mode-string-ref', getComponentNameFromType(ReactCurrentOwner.current.type), config.ref);\n\n        didWarnAboutStringRefs[componentName] = true;\n      }\n    }\n  }\n}\n\nfunction defineKeyPropWarningGetter(props, displayName) {\n  {\n    var warnAboutAccessingKey = function () {\n      if (!specialPropKeyWarningShown) {\n        specialPropKeyWarningShown = true;\n\n        error('%s: `key` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n      }\n    };\n\n    warnAboutAccessingKey.isReactWarning = true;\n    Object.defineProperty(props, 'key', {\n      get: warnAboutAccessingKey,\n      configurable: true\n    });\n  }\n}\n\nfunction defineRefPropWarningGetter(props, displayName) {\n  {\n    {\n      var warnAboutAccessingRef = function () {\n        if (!specialPropRefWarningShown) {\n          specialPropRefWarningShown = true;\n\n          error('%s: `ref` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n        }\n      };\n\n      warnAboutAccessingRef.isReactWarning = true;\n      Object.defineProperty(props, 'ref', {\n        get: warnAboutAccessingRef,\n        configurable: true\n      });\n    }\n  }\n}\n/**\n * Factory method to create a new React element. This no longer adheres to\n * the class pattern, so do not use new to call it. Also, instanceof check\n * will not work. Instead test $$typeof field against Symbol.for('react.element') to check\n * if something is a React Element.\n *\n * @param {*} type\n * @param {*} props\n * @param {*} key\n * @param {string|object} ref\n * @param {*} owner\n * @param {*} self A *temporary* helper to detect places where `this` is\n * different from the `owner` when React.createElement is called, so that we\n * can warn. We want to get rid of owner and replace string `ref`s with arrow\n * functions, and as long as `this` and owner are the same, there will be no\n * change in behavior.\n * @param {*} source An annotation object (added by a transpiler or otherwise)\n * indicating filename, line number, and/or other information.\n * @internal\n */\n\n\nfunction ReactElement(type, key, _ref, self, source, owner, props) {\n  var ref;\n\n  {\n    ref = _ref;\n  }\n\n  var element;\n\n  {\n    // In prod, `ref` is a regular property. It will be removed in a\n    // future release.\n    element = {\n      // This tag allows us to uniquely identify this as a React Element\n      $$typeof: REACT_ELEMENT_TYPE,\n      // Built-in properties that belong on the element\n      type: type,\n      key: key,\n      ref: ref,\n      props: props,\n      // Record the component responsible for creating this element.\n      _owner: owner\n    };\n  }\n\n  {\n    // The validation flag is currently mutative. We put it on\n    // an external backing store so that we can freeze the whole object.\n    // This can be replaced with a WeakMap once they are implemented in\n    // commonly used development environments.\n    element._store = {}; // To make comparing ReactElements easier for testing purposes, we make\n    // the validation flag non-enumerable (where possible, which should\n    // include every environment we run tests in), so the test framework\n    // ignores it.\n\n    Object.defineProperty(element._store, 'validated', {\n      configurable: false,\n      enumerable: false,\n      writable: true,\n      value: false\n    }); // debugInfo contains Server Component debug information.\n\n    Object.defineProperty(element, '_debugInfo', {\n      configurable: false,\n      enumerable: false,\n      writable: true,\n      value: null\n    });\n\n    if (Object.freeze) {\n      Object.freeze(element.props);\n      Object.freeze(element);\n    }\n  }\n\n  return element;\n}\nvar didWarnAboutKeySpread = {};\n/**\n * https://github.com/reactjs/rfcs/pull/107\n * @param {*} type\n * @param {object} props\n * @param {string} key\n */\n\nfunction jsxDEV$1(type, config, maybeKey, isStaticChildren, source, self) {\n  {\n    if (!isValidElementType(type)) {\n      // This is an invalid element type.\n      //\n      // We warn in this case but don't throw. We expect the element creation to\n      // succeed and there will likely be errors in render.\n      var info = '';\n\n      if (type === undefined || typeof type === 'object' && type !== null && Object.keys(type).length === 0) {\n        info += ' You likely forgot to export your component from the file ' + \"it's defined in, or you might have mixed up default and named imports.\";\n      }\n\n      var typeString;\n\n      if (type === null) {\n        typeString = 'null';\n      } else if (isArray(type)) {\n        typeString = 'array';\n      } else if (type !== undefined && type.$$typeof === REACT_ELEMENT_TYPE) {\n        typeString = \"<\" + (getComponentNameFromType(type.type) || 'Unknown') + \" />\";\n        info = ' Did you accidentally export a JSX literal instead of a component?';\n      } else {\n        typeString = typeof type;\n      }\n\n      error('React.jsx: type is invalid -- expected a string (for ' + 'built-in components) or a class/function (for composite ' + 'components) but got: %s.%s', typeString, info);\n    } else {\n      // This is a valid element type.\n      // Skip key warning if the type isn't valid since our key validation logic\n      // doesn't expect a non-string/function type and can throw confusing\n      // errors. We don't want exception behavior to differ between dev and\n      // prod. (Rendering will throw with a helpful message and as soon as the\n      // type is fixed, the key warnings will appear.)\n      var children = config.children;\n\n      if (children !== undefined) {\n        if (isStaticChildren) {\n          if (isArray(children)) {\n            for (var i = 0; i < children.length; i++) {\n              validateChildKeys(children[i], type);\n            }\n\n            if (Object.freeze) {\n              Object.freeze(children);\n            }\n          } else {\n            error('React.jsx: Static children should always be an array. ' + 'You are likely explicitly calling React.jsxs or React.jsxDEV. ' + 'Use the Babel transform instead.');\n          }\n        } else {\n          validateChildKeys(children, type);\n        }\n      }\n    } // Warn about key spread regardless of whether the type is valid.\n\n\n    if (hasOwnProperty.call(config, 'key')) {\n      var componentName = getComponentNameFromType(type);\n      var keys = Object.keys(config).filter(function (k) {\n        return k !== 'key';\n      });\n      var beforeExample = keys.length > 0 ? '{key: someKey, ' + keys.join(': ..., ') + ': ...}' : '{key: someKey}';\n\n      if (!didWarnAboutKeySpread[componentName + beforeExample]) {\n        var afterExample = keys.length > 0 ? '{' + keys.join(': ..., ') + ': ...}' : '{}';\n\n        error('A props object containing a \"key\" prop is being spread into JSX:\\n' + '  let props = %s;\\n' + '  <%s {...props} />\\n' + 'React keys must be passed directly to JSX without using spread:\\n' + '  let props = %s;\\n' + '  <%s key={someKey} {...props} />', beforeExample, componentName, afterExample, componentName);\n\n        didWarnAboutKeySpread[componentName + beforeExample] = true;\n      }\n    }\n\n    var propName; // Reserved names are extracted\n\n    var props = {};\n    var key = null;\n    var ref = null; // Currently, key can be spread in as a prop. This causes a potential\n    // issue if key is also explicitly declared (ie. <div {...props} key=\"Hi\" />\n    // or <div key=\"Hi\" {...props} /> ). We want to deprecate key spread,\n    // but as an intermediary step, we will use jsxDEV for everything except\n    // <div {...props} key=\"Hi\" />, because we aren't currently able to tell if\n    // key is explicitly declared to be undefined or not.\n\n    if (maybeKey !== undefined) {\n      {\n        checkKeyStringCoercion(maybeKey);\n      }\n\n      key = '' + maybeKey;\n    }\n\n    if (hasValidKey(config)) {\n      {\n        checkKeyStringCoercion(config.key);\n      }\n\n      key = '' + config.key;\n    }\n\n    if (hasValidRef(config)) {\n      {\n        ref = config.ref;\n      }\n\n      warnIfStringRefCannotBeAutoConverted(config, self);\n    } // Remaining properties are added to a new props object\n\n\n    for (propName in config) {\n      if (hasOwnProperty.call(config, propName) && // Skip over reserved prop names\n      propName !== 'key' && (propName !== 'ref')) {\n        props[propName] = config[propName];\n      }\n    } // Resolve default props\n\n\n    if (type && type.defaultProps) {\n      var defaultProps = type.defaultProps;\n\n      for (propName in defaultProps) {\n        if (props[propName] === undefined) {\n          props[propName] = defaultProps[propName];\n        }\n      }\n    }\n\n    if (key || ref) {\n      var displayName = typeof type === 'function' ? type.displayName || type.name || 'Unknown' : type;\n\n      if (key) {\n        defineKeyPropWarningGetter(props, displayName);\n      }\n\n      if (ref) {\n        defineRefPropWarningGetter(props, displayName);\n      }\n    }\n\n    var element = ReactElement(type, key, ref, self, source, ReactCurrentOwner.current, props);\n\n    if (type === REACT_FRAGMENT_TYPE) {\n      validateFragmentProps(element);\n    }\n\n    return element;\n  }\n}\n\nfunction getDeclarationErrorAddendum() {\n  {\n    if (ReactCurrentOwner.current) {\n      var name = getComponentNameFromType(ReactCurrentOwner.current.type);\n\n      if (name) {\n        return '\\n\\nCheck the render method of `' + name + '`.';\n      }\n    }\n\n    return '';\n  }\n}\n/**\n * Ensure that every element either is passed in a static location, in an\n * array with an explicit keys property defined, or in an object literal\n * with valid key property.\n *\n * @internal\n * @param {ReactNode} node Statically passed child of any type.\n * @param {*} parentType node's parent's type.\n */\n\n\nfunction validateChildKeys(node, parentType) {\n  {\n    if (typeof node !== 'object' || !node) {\n      return;\n    }\n\n    if (node.$$typeof === REACT_CLIENT_REFERENCE) ; else if (isArray(node)) {\n      for (var i = 0; i < node.length; i++) {\n        var child = node[i];\n\n        if (isValidElement(child)) {\n          validateExplicitKey(child, parentType);\n        }\n      }\n    } else if (isValidElement(node)) {\n      // This element was passed in a valid location.\n      if (node._store) {\n        node._store.validated = true;\n      }\n    } else {\n      var iteratorFn = getIteratorFn(node);\n\n      if (typeof iteratorFn === 'function') {\n        // Entry iterators used to provide implicit keys,\n        // but now we print a separate warning for them later.\n        if (iteratorFn !== node.entries) {\n          var iterator = iteratorFn.call(node);\n          var step;\n\n          while (!(step = iterator.next()).done) {\n            if (isValidElement(step.value)) {\n              validateExplicitKey(step.value, parentType);\n            }\n          }\n        }\n      }\n    }\n  }\n}\n/**\n * Verifies the object is a ReactElement.\n * See https://reactjs.org/docs/react-api.html#isvalidelement\n * @param {?object} object\n * @return {boolean} True if `object` is a ReactElement.\n * @final\n */\n\n\nfunction isValidElement(object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n}\nvar ownerHasKeyUseWarning = {};\n/**\n * Warn if the element doesn't have an explicit key assigned to it.\n * This element is in an array. The array could grow and shrink or be\n * reordered. All children that haven't already been validated are required to\n * have a \"key\" property assigned to it. Error statuses are cached so a warning\n * will only be shown once.\n *\n * @internal\n * @param {ReactElement} element Element that requires a key.\n * @param {*} parentType element's parent's type.\n */\n\nfunction validateExplicitKey(element, parentType) {\n  {\n    if (!element._store || element._store.validated || element.key != null) {\n      return;\n    }\n\n    element._store.validated = true;\n    var currentComponentErrorInfo = getCurrentComponentErrorInfo(parentType);\n\n    if (ownerHasKeyUseWarning[currentComponentErrorInfo]) {\n      return;\n    }\n\n    ownerHasKeyUseWarning[currentComponentErrorInfo] = true; // Usually the current owner is the offender, but if it accepts children as a\n    // property, it may be the creator of the child that's responsible for\n    // assigning it a key.\n\n    var childOwner = '';\n\n    if (element && element._owner && element._owner !== ReactCurrentOwner.current) {\n      // Give the component that originally created this child.\n      childOwner = \" It was passed a child from \" + getComponentNameFromType(element._owner.type) + \".\";\n    }\n\n    setCurrentlyValidatingElement(element);\n\n    error('Each child in a list should have a unique \"key\" prop.' + '%s%s See https://reactjs.org/link/warning-keys for more information.', currentComponentErrorInfo, childOwner);\n\n    setCurrentlyValidatingElement(null);\n  }\n}\n\nfunction setCurrentlyValidatingElement(element) {\n  {\n    if (element) {\n      var owner = element._owner;\n      var stack = describeUnknownElementTypeFrameInDEV(element.type, owner ? owner.type : null);\n      ReactDebugCurrentFrame.setExtraStackFrame(stack);\n    } else {\n      ReactDebugCurrentFrame.setExtraStackFrame(null);\n    }\n  }\n}\n\nfunction getCurrentComponentErrorInfo(parentType) {\n  {\n    var info = getDeclarationErrorAddendum();\n\n    if (!info) {\n      var parentName = getComponentNameFromType(parentType);\n\n      if (parentName) {\n        info = \"\\n\\nCheck the top-level render call using <\" + parentName + \">.\";\n      }\n    }\n\n    return info;\n  }\n}\n/**\n * Given a fragment, validate that it can only be provided with fragment props\n * @param {ReactElement} fragment\n */\n\n\nfunction validateFragmentProps(fragment) {\n  // TODO: Move this to render phase instead of at element creation.\n  {\n    var keys = Object.keys(fragment.props);\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n\n      if (key !== 'children' && key !== 'key') {\n        setCurrentlyValidatingElement(fragment);\n\n        error('Invalid prop `%s` supplied to `React.Fragment`. ' + 'React.Fragment can only have `key` and `children` props.', key);\n\n        setCurrentlyValidatingElement(null);\n        break;\n      }\n    }\n\n    if (fragment.ref !== null) {\n      setCurrentlyValidatingElement(fragment);\n\n      error('Invalid attribute `ref` supplied to `React.Fragment`.');\n\n      setCurrentlyValidatingElement(null);\n    }\n  }\n}\n\nvar jsxDEV = jsxDEV$1 ;\n\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.jsxDEV = jsxDEV;\n  })();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvcmVhY3QvY2pzL3JlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7O0FBRWIsSUFBSSxJQUFxQztBQUN6QztBQUNBOztBQUVBLFlBQVksbUJBQU8sQ0FBQyxzR0FBMEI7O0FBRTlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RDs7QUFFeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlHQUFpRyxlQUFlO0FBQ2hIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07OztBQUdOO0FBQ0E7QUFDQSxLQUFLLEdBQUc7O0FBRVIsa0RBQWtEO0FBQ2xEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBLDRCQUE0QjtBQUM1QjtBQUNBLHFDQUFxQzs7QUFFckMsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7O0FBR0Y7QUFDQTtBQUNBOztBQUVBLHFFQUFxRTs7QUFFckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0dBQWtHOztBQUVsRztBQUNBO0FBQ0EsRUFBRTs7O0FBR0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsd0NBQXdDO0FBQ3hDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7OztBQUdKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxpQ0FBaUM7O0FBRWpDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1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O0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZCxXQUFXLEdBQUc7QUFDZCxXQUFXLEdBQUc7QUFDZCxXQUFXLGVBQWU7QUFDMUIsV0FBVyxHQUFHO0FBQ2QsV0FBVyxHQUFHO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZDtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtB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QUFXLGNBQWM7QUFDekI7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG9CQUFvQixpQkFBaUI7QUFDckM7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLGdCQUFnQjtBQUNoQixjQUFjO0FBQ2QsR0FBRztBQUNIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvcmVhY3QvY2pzL3JlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qcz82NDlkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2UgUmVhY3RcbiAqIHJlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qc1xuICpcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIChmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0ID0gcmVxdWlyZShcIm5leHQvZGlzdC9jb21waWxlZC9yZWFjdFwiKTtcblxuLy8gQVRURU5USU9OXG4vLyBXaGVuIGFkZGluZyBuZXcgc3ltYm9scyB0byB0aGlzIGZpbGUsXG4vLyBQbGVhc2UgY29uc2lkZXIgYWxzbyBhZGRpbmcgdG8gJ3JlYWN0LWRldnRvb2xzLXNoYXJlZC9zcmMvYmFja2VuZC9SZWFjdFN5bWJvbHMnXG4vLyBUaGUgU3ltYm9sIHVzZWQgdG8gdGFnIHRoZSBSZWFjdEVsZW1lbnQtbGlrZSB0eXBlcy5cbnZhciBSRUFDVF9FTEVNRU5UX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50Jyk7XG52YXIgUkVBQ1RfUE9SVEFMX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5wb3J0YWwnKTtcbnZhciBSRUFDVF9GUkFHTUVOVF9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QuZnJhZ21lbnQnKTtcbnZhciBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFID0gU3ltYm9sLmZvcigncmVhY3Quc3RyaWN0X21vZGUnKTtcbnZhciBSRUFDVF9QUk9GSUxFUl9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QucHJvZmlsZXInKTtcbnZhciBSRUFDVF9QUk9WSURFUl9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QucHJvdmlkZXInKTsgLy8gVE9ETzogRGVsZXRlIHdpdGggZW5hYmxlUmVuZGVyYWJsZUNvbnRleHRcblxudmFyIFJFQUNUX0NPTlNVTUVSX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5jb25zdW1lcicpO1xudmFyIFJFQUNUX0NPTlRFWFRfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LmNvbnRleHQnKTtcbnZhciBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QuZm9yd2FyZF9yZWYnKTtcbnZhciBSRUFDVF9TVVNQRU5TRV9UWVBFID0gU3ltYm9sLmZvcigncmVhY3Quc3VzcGVuc2UnKTtcbnZhciBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5zdXNwZW5zZV9saXN0Jyk7XG52YXIgUkVBQ1RfTUVNT19UWVBFID0gU3ltYm9sLmZvcigncmVhY3QubWVtbycpO1xudmFyIFJFQUNUX0xBWllfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LmxhenknKTtcbnZhciBSRUFDVF9PRkZTQ1JFRU5fVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0Lm9mZnNjcmVlbicpO1xudmFyIFJFQUNUX0NBQ0hFX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5jYWNoZScpO1xudmFyIE1BWUJFX0lURVJBVE9SX1NZTUJPTCA9IFN5bWJvbC5pdGVyYXRvcjtcbnZhciBGQVVYX0lURVJBVE9SX1NZTUJPTCA9ICdAQGl0ZXJhdG9yJztcbmZ1bmN0aW9uIGdldEl0ZXJhdG9yRm4obWF5YmVJdGVyYWJsZSkge1xuICBpZiAobWF5YmVJdGVyYWJsZSA9PT0gbnVsbCB8fCB0eXBlb2YgbWF5YmVJdGVyYWJsZSAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBtYXliZUl0ZXJhdG9yID0gTUFZQkVfSVRFUkFUT1JfU1lNQk9MICYmIG1heWJlSXRlcmFibGVbTUFZQkVfSVRFUkFUT1JfU1lNQk9MXSB8fCBtYXliZUl0ZXJhYmxlW0ZBVVhfSVRFUkFUT1JfU1lNQk9MXTtcblxuICBpZiAodHlwZW9mIG1heWJlSXRlcmF0b3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gbWF5YmVJdGVyYXRvcjtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG52YXIgUmVhY3RTaGFyZWRJbnRlcm5hbHMgPSBSZWFjdC5fX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRDtcblxuZnVuY3Rpb24gZXJyb3IoZm9ybWF0KSB7XG4gIHtcbiAgICB7XG4gICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIgPiAxID8gX2xlbjIgLSAxIDogMCksIF9rZXkyID0gMTsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICBhcmdzW19rZXkyIC0gMV0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuXG4gICAgICBwcmludFdhcm5pbmcoJ2Vycm9yJywgZm9ybWF0LCBhcmdzKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJpbnRXYXJuaW5nKGxldmVsLCBmb3JtYXQsIGFyZ3MpIHtcbiAgLy8gV2hlbiBjaGFuZ2luZyB0aGlzIGxvZ2ljLCB5b3UgbWlnaHQgd2FudCB0byBhbHNvXG4gIC8vIHVwZGF0ZSBjb25zb2xlV2l0aFN0YWNrRGV2Lnd3dy5qcyBhcyB3ZWxsLlxuICB7XG4gICAgdmFyIFJlYWN0RGVidWdDdXJyZW50RnJhbWUgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdERlYnVnQ3VycmVudEZyYW1lO1xuICAgIHZhciBzdGFjayA9IFJlYWN0RGVidWdDdXJyZW50RnJhbWUuZ2V0U3RhY2tBZGRlbmR1bSgpO1xuXG4gICAgaWYgKHN0YWNrICE9PSAnJykge1xuICAgICAgZm9ybWF0ICs9ICclcyc7XG4gICAgICBhcmdzID0gYXJncy5jb25jYXQoW3N0YWNrXSk7XG4gICAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaW50ZXJuYWwvc2FmZS1zdHJpbmctY29lcmNpb25cblxuXG4gICAgdmFyIGFyZ3NXaXRoRm9ybWF0ID0gYXJncy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHJldHVybiBTdHJpbmcoaXRlbSk7XG4gICAgfSk7IC8vIENhcmVmdWw6IFJOIGN1cnJlbnRseSBkZXBlbmRzIG9uIHRoaXMgcHJlZml4XG5cbiAgICBhcmdzV2l0aEZvcm1hdC51bnNoaWZ0KCdXYXJuaW5nOiAnICsgZm9ybWF0KTsgLy8gV2UgaW50ZW50aW9uYWxseSBkb24ndCB1c2Ugc3ByZWFkIChvciAuYXBwbHkpIGRpcmVjdGx5IGJlY2F1c2UgaXRcbiAgICAvLyBicmVha3MgSUU5OiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzEzNjEwXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZ1xuXG4gICAgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwoY29uc29sZVtsZXZlbF0sIGNvbnNvbGUsIGFyZ3NXaXRoRm9ybWF0KTtcbiAgfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG52YXIgZW5hYmxlU2NvcGVBUEkgPSBmYWxzZTsgLy8gRXhwZXJpbWVudGFsIENyZWF0ZSBFdmVudCBIYW5kbGUgQVBJLlxudmFyIGVuYWJsZUNhY2hlRWxlbWVudCA9IGZhbHNlO1xudmFyIGVuYWJsZVRyYW5zaXRpb25UcmFjaW5nID0gZmFsc2U7IC8vIE5vIGtub3duIGJ1Z3MsIGJ1dCBuZWVkcyBwZXJmb3JtYW5jZSB0ZXN0aW5nXG5cbnZhciBlbmFibGVMZWdhY3lIaWRkZW4gPSBmYWxzZTsgLy8gRW5hYmxlcyB1bnN0YWJsZV9hdm9pZFRoaXNGYWxsYmFjayBmZWF0dXJlIGluIEZpYmVyXG52YXIgZW5hYmxlUmVuZGVyYWJsZUNvbnRleHQgPSBmYWxzZTtcbi8vIHN0dWZmLiBJbnRlbmRlZCB0byBlbmFibGUgUmVhY3QgY29yZSBtZW1iZXJzIHRvIG1vcmUgZWFzaWx5IGRlYnVnIHNjaGVkdWxpbmdcbi8vIGlzc3VlcyBpbiBERVYgYnVpbGRzLlxuXG52YXIgZW5hYmxlRGVidWdUcmFjaW5nID0gZmFsc2U7XG5cbmZ1bmN0aW9uIGdldFdyYXBwZWROYW1lKG91dGVyVHlwZSwgaW5uZXJUeXBlLCB3cmFwcGVyTmFtZSkge1xuICB2YXIgZGlzcGxheU5hbWUgPSBvdXRlclR5cGUuZGlzcGxheU5hbWU7XG5cbiAgaWYgKGRpc3BsYXlOYW1lKSB7XG4gICAgcmV0dXJuIGRpc3BsYXlOYW1lO1xuICB9XG5cbiAgdmFyIGZ1bmN0aW9uTmFtZSA9IGlubmVyVHlwZS5kaXNwbGF5TmFtZSB8fCBpbm5lclR5cGUubmFtZSB8fCAnJztcbiAgcmV0dXJuIGZ1bmN0aW9uTmFtZSAhPT0gJycgPyB3cmFwcGVyTmFtZSArIFwiKFwiICsgZnVuY3Rpb25OYW1lICsgXCIpXCIgOiB3cmFwcGVyTmFtZTtcbn0gLy8gS2VlcCBpbiBzeW5jIHdpdGggcmVhY3QtcmVjb25jaWxlci9nZXRDb21wb25lbnROYW1lRnJvbUZpYmVyXG5cblxuZnVuY3Rpb24gZ2V0Q29udGV4dE5hbWUodHlwZSkge1xuICByZXR1cm4gdHlwZS5kaXNwbGF5TmFtZSB8fCAnQ29udGV4dCc7XG59XG5cbnZhciBSRUFDVF9DTElFTlRfUkVGRVJFTkNFJDIgPSBTeW1ib2wuZm9yKCdyZWFjdC5jbGllbnQucmVmZXJlbmNlJyk7IC8vIE5vdGUgdGhhdCB0aGUgcmVjb25jaWxlciBwYWNrYWdlIHNob3VsZCBnZW5lcmFsbHkgcHJlZmVyIHRvIHVzZSBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKCkgaW5zdGVhZC5cblxuZnVuY3Rpb24gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUpIHtcbiAgaWYgKHR5cGUgPT0gbnVsbCkge1xuICAgIC8vIEhvc3Qgcm9vdCwgdGV4dCBub2RlIG9yIGp1c3QgaW52YWxpZCB0eXBlLlxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgaWYgKHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UkMikge1xuICAgICAgLy8gVE9ETzogQ3JlYXRlIGEgY29udmVudGlvbiBmb3IgbmFtaW5nIGNsaWVudCByZWZlcmVuY2VzIHdpdGggZGVidWcgaW5mby5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiB0eXBlLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZSB8fCBudWxsO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB0eXBlO1xuICB9XG5cbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBSRUFDVF9GUkFHTUVOVF9UWVBFOlxuICAgICAgcmV0dXJuICdGcmFnbWVudCc7XG5cbiAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgcmV0dXJuICdQb3J0YWwnO1xuXG4gICAgY2FzZSBSRUFDVF9QUk9GSUxFUl9UWVBFOlxuICAgICAgcmV0dXJuICdQcm9maWxlcic7XG5cbiAgICBjYXNlIFJFQUNUX1NUUklDVF9NT0RFX1RZUEU6XG4gICAgICByZXR1cm4gJ1N0cmljdE1vZGUnO1xuXG4gICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9UWVBFOlxuICAgICAgcmV0dXJuICdTdXNwZW5zZSc7XG5cbiAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRTpcbiAgICAgIHJldHVybiAnU3VzcGVuc2VMaXN0JztcblxuICAgIGNhc2UgUkVBQ1RfQ0FDSEVfVFlQRTpcbiAgICAgIHtcbiAgICAgICAgcmV0dXJuICdDYWNoZSc7XG4gICAgICB9XG5cbiAgfVxuXG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICB7XG4gICAgICBpZiAodHlwZW9mIHR5cGUudGFnID09PSAnbnVtYmVyJykge1xuICAgICAgICBlcnJvcignUmVjZWl2ZWQgYW4gdW5leHBlY3RlZCBvYmplY3QgaW4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKCkuICcgKyAnVGhpcyBpcyBsaWtlbHkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHN3aXRjaCAodHlwZS4kJHR5cGVvZikge1xuICAgICAgY2FzZSBSRUFDVF9QUk9WSURFUl9UWVBFOlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIHByb3ZpZGVyID0gdHlwZTtcbiAgICAgICAgICByZXR1cm4gZ2V0Q29udGV4dE5hbWUocHJvdmlkZXIuX2NvbnRleHQpICsgJy5Qcm92aWRlcic7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSBSRUFDVF9DT05URVhUX1RZUEU6XG4gICAgICAgIHZhciBjb250ZXh0ID0gdHlwZTtcblxuICAgICAgICB7XG4gICAgICAgICAgcmV0dXJuIGdldENvbnRleHROYW1lKGNvbnRleHQpICsgJy5Db25zdW1lcic7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSBSRUFDVF9DT05TVU1FUl9UWVBFOlxuICAgICAgICB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFOlxuICAgICAgICByZXR1cm4gZ2V0V3JhcHBlZE5hbWUodHlwZSwgdHlwZS5yZW5kZXIsICdGb3J3YXJkUmVmJyk7XG5cbiAgICAgIGNhc2UgUkVBQ1RfTUVNT19UWVBFOlxuICAgICAgICB2YXIgb3V0ZXJOYW1lID0gdHlwZS5kaXNwbGF5TmFtZSB8fCBudWxsO1xuXG4gICAgICAgIGlmIChvdXRlck5hbWUgIT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gb3V0ZXJOYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlLnR5cGUpIHx8ICdNZW1vJztcblxuICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgbGF6eUNvbXBvbmVudCA9IHR5cGU7XG4gICAgICAgICAgdmFyIHBheWxvYWQgPSBsYXp5Q29tcG9uZW50Ll9wYXlsb2FkO1xuICAgICAgICAgIHZhciBpbml0ID0gbGF6eUNvbXBvbmVudC5faW5pdDtcblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKGluaXQocGF5bG9hZCkpO1xuICAgICAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG4vLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG52YXIgYXNzaWduID0gT2JqZWN0LmFzc2lnbjtcblxuLypcbiAqIFRoZSBgJycgKyB2YWx1ZWAgcGF0dGVybiAodXNlZCBpbiBwZXJmLXNlbnNpdGl2ZSBjb2RlKSB0aHJvd3MgZm9yIFN5bWJvbFxuICogYW5kIFRlbXBvcmFsLiogdHlwZXMuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvcHVsbC8yMjA2NC5cbiAqXG4gKiBUaGUgZnVuY3Rpb25zIGluIHRoaXMgbW9kdWxlIHdpbGwgdGhyb3cgYW4gZWFzaWVyLXRvLXVuZGVyc3RhbmQsXG4gKiBlYXNpZXItdG8tZGVidWcgZXhjZXB0aW9uIHdpdGggYSBjbGVhciBlcnJvcnMgbWVzc2FnZSBtZXNzYWdlIGV4cGxhaW5pbmcgdGhlXG4gKiBwcm9ibGVtLiAoSW5zdGVhZCBvZiBhIGNvbmZ1c2luZyBleGNlcHRpb24gdGhyb3duIGluc2lkZSB0aGUgaW1wbGVtZW50YXRpb25cbiAqIG9mIHRoZSBgdmFsdWVgIG9iamVjdCkuXG4gKi9cbi8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXJldHVybl0gb25seSBjYWxsZWQgaW4gREVWLCBzbyB2b2lkIHJldHVybiBpcyBub3QgcG9zc2libGUuXG5mdW5jdGlvbiB0eXBlTmFtZSh2YWx1ZSkge1xuICB7XG4gICAgLy8gdG9TdHJpbmdUYWcgaXMgbmVlZGVkIGZvciBuYW1lc3BhY2VkIHR5cGVzIGxpa2UgVGVtcG9yYWwuSW5zdGFudFxuICAgIHZhciBoYXNUb1N0cmluZ1RhZyA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLnRvU3RyaW5nVGFnO1xuICAgIHZhciB0eXBlID0gaGFzVG9TdHJpbmdUYWcgJiYgdmFsdWVbU3ltYm9sLnRvU3RyaW5nVGFnXSB8fCB2YWx1ZS5jb25zdHJ1Y3Rvci5uYW1lIHx8ICdPYmplY3QnOyAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS1yZXR1cm5dXG5cbiAgICByZXR1cm4gdHlwZTtcbiAgfVxufSAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS1yZXR1cm5dIG9ubHkgY2FsbGVkIGluIERFViwgc28gdm9pZCByZXR1cm4gaXMgbm90IHBvc3NpYmxlLlxuXG5cbmZ1bmN0aW9uIHdpbGxDb2VyY2lvblRocm93KHZhbHVlKSB7XG4gIHtcbiAgICB0cnkge1xuICAgICAgdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKSB7XG4gIC8vIElmIHlvdSBlbmRlZCB1cCBoZXJlIGJ5IGZvbGxvd2luZyBhbiBleGNlcHRpb24gY2FsbCBzdGFjaywgaGVyZSdzIHdoYXQnc1xuICAvLyBoYXBwZW5lZDogeW91IHN1cHBsaWVkIGFuIG9iamVjdCBvciBzeW1ib2wgdmFsdWUgdG8gUmVhY3QgKGFzIGEgcHJvcCwga2V5LFxuICAvLyBET00gYXR0cmlidXRlLCBDU1MgcHJvcGVydHksIHN0cmluZyByZWYsIGV0Yy4pIGFuZCB3aGVuIFJlYWN0IHRyaWVkIHRvXG4gIC8vIGNvZXJjZSBpdCB0byBhIHN0cmluZyB1c2luZyBgJycgKyB2YWx1ZWAsIGFuIGV4Y2VwdGlvbiB3YXMgdGhyb3duLlxuICAvL1xuICAvLyBUaGUgbW9zdCBjb21tb24gdHlwZXMgdGhhdCB3aWxsIGNhdXNlIHRoaXMgZXhjZXB0aW9uIGFyZSBgU3ltYm9sYCBpbnN0YW5jZXNcbiAgLy8gYW5kIFRlbXBvcmFsIG9iamVjdHMgbGlrZSBgVGVtcG9yYWwuSW5zdGFudGAuIEJ1dCBhbnkgb2JqZWN0IHRoYXQgaGFzIGFcbiAgLy8gYHZhbHVlT2ZgIG9yIGBbU3ltYm9sLnRvUHJpbWl0aXZlXWAgbWV0aG9kIHRoYXQgdGhyb3dzIHdpbGwgYWxzbyBjYXVzZSB0aGlzXG4gIC8vIGV4Y2VwdGlvbi4gKExpYnJhcnkgYXV0aG9ycyBkbyB0aGlzIHRvIHByZXZlbnQgdXNlcnMgZnJvbSB1c2luZyBidWlsdC1pblxuICAvLyBudW1lcmljIG9wZXJhdG9ycyBsaWtlIGArYCBvciBjb21wYXJpc29uIG9wZXJhdG9ycyBsaWtlIGA+PWAgYmVjYXVzZSBjdXN0b21cbiAgLy8gbWV0aG9kcyBhcmUgbmVlZGVkIHRvIHBlcmZvcm0gYWNjdXJhdGUgYXJpdGhtZXRpYyBvciBjb21wYXJpc29uLilcbiAgLy9cbiAgLy8gVG8gZml4IHRoZSBwcm9ibGVtLCBjb2VyY2UgdGhpcyBvYmplY3Qgb3Igc3ltYm9sIHZhbHVlIHRvIGEgc3RyaW5nIGJlZm9yZVxuICAvLyBwYXNzaW5nIGl0IHRvIFJlYWN0LiBUaGUgbW9zdCByZWxpYWJsZSB3YXkgaXMgdXN1YWxseSBgU3RyaW5nKHZhbHVlKWAuXG4gIC8vXG4gIC8vIFRvIGZpbmQgd2hpY2ggdmFsdWUgaXMgdGhyb3dpbmcsIGNoZWNrIHRoZSBicm93c2VyIG9yIGRlYnVnZ2VyIGNvbnNvbGUuXG4gIC8vIEJlZm9yZSB0aGlzIGV4Y2VwdGlvbiB3YXMgdGhyb3duLCB0aGVyZSBzaG91bGQgYmUgYGNvbnNvbGUuZXJyb3JgIG91dHB1dFxuICAvLyB0aGF0IHNob3dzIHRoZSB0eXBlIChTeW1ib2wsIFRlbXBvcmFsLlBsYWluRGF0ZSwgZXRjLikgdGhhdCBjYXVzZWQgdGhlXG4gIC8vIHByb2JsZW0gYW5kIGhvdyB0aGF0IHR5cGUgd2FzIHVzZWQ6IGtleSwgYXRycmlidXRlLCBpbnB1dCB2YWx1ZSBwcm9wLCBldGMuXG4gIC8vIEluIG1vc3QgY2FzZXMsIHRoaXMgY29uc29sZSBvdXRwdXQgYWxzbyBzaG93cyB0aGUgY29tcG9uZW50IGFuZCBpdHNcbiAgLy8gYW5jZXN0b3IgY29tcG9uZW50cyB3aGVyZSB0aGUgZXhjZXB0aW9uIGhhcHBlbmVkLlxuICAvL1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaW50ZXJuYWwvc2FmZS1zdHJpbmctY29lcmNpb25cbiAgcmV0dXJuICcnICsgdmFsdWU7XG59XG5mdW5jdGlvbiBjaGVja0tleVN0cmluZ0NvZXJjaW9uKHZhbHVlKSB7XG4gIHtcbiAgICBpZiAod2lsbENvZXJjaW9uVGhyb3codmFsdWUpKSB7XG4gICAgICBlcnJvcignVGhlIHByb3ZpZGVkIGtleSBpcyBhbiB1bnN1cHBvcnRlZCB0eXBlICVzLicgKyAnIFRoaXMgdmFsdWUgbXVzdCBiZSBjb2VyY2VkIHRvIGEgc3RyaW5nIGJlZm9yZSB1c2luZyBpdCBoZXJlLicsIHR5cGVOYW1lKHZhbHVlKSk7XG5cbiAgICAgIHJldHVybiB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpOyAvLyB0aHJvdyAodG8gaGVscCBjYWxsZXJzIGZpbmQgdHJvdWJsZXNob290aW5nIGNvbW1lbnRzKVxuICAgIH1cbiAgfVxufVxuXG52YXIgUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRSQxID0gU3ltYm9sLmZvcigncmVhY3QuY2xpZW50LnJlZmVyZW5jZScpO1xuZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnRUeXBlKHR5cGUpIHtcbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9IC8vIE5vdGU6IHR5cGVvZiBtaWdodCBiZSBvdGhlciB0aGFuICdzeW1ib2wnIG9yICdudW1iZXInIChlLmcuIGlmIGl0J3MgYSBwb2x5ZmlsbCkuXG5cblxuICBpZiAodHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9QUk9GSUxFUl9UWVBFIHx8IGVuYWJsZURlYnVnVHJhY2luZyAgfHwgdHlwZSA9PT0gUkVBQ1RfU1RSSUNUX01PREVfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9TVVNQRU5TRV9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRSB8fCBlbmFibGVMZWdhY3lIaWRkZW4gIHx8IHR5cGUgPT09IFJFQUNUX09GRlNDUkVFTl9UWVBFIHx8IGVuYWJsZVNjb3BlQVBJICB8fCBlbmFibGVDYWNoZUVsZW1lbnQgIHx8IGVuYWJsZVRyYW5zaXRpb25UcmFjaW5nICkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyAmJiB0eXBlICE9PSBudWxsKSB7XG4gICAgaWYgKHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0xBWllfVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9NRU1PX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ09OVEVYVF9UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX1BST1ZJREVSX1RZUEUgfHwgZW5hYmxlUmVuZGVyYWJsZUNvbnRleHQgIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUgfHwgLy8gVGhpcyBuZWVkcyB0byBpbmNsdWRlIGFsbCBwb3NzaWJsZSBtb2R1bGUgcmVmZXJlbmNlIG9iamVjdFxuICAgIC8vIHR5cGVzIHN1cHBvcnRlZCBieSBhbnkgRmxpZ2h0IGNvbmZpZ3VyYXRpb24gYW55d2hlcmUgc2luY2VcbiAgICAvLyB3ZSBkb24ndCBrbm93IHdoaWNoIEZsaWdodCBidWlsZCB0aGlzIHdpbGwgZW5kIHVwIGJlaW5nIHVzZWRcbiAgICAvLyB3aXRoLlxuICAgIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UkMSB8fCB0eXBlLmdldE1vZHVsZUlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxudmFyIGlzQXJyYXlJbXBsID0gQXJyYXkuaXNBcnJheTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlZGVjbGFyZVxuXG5mdW5jdGlvbiBpc0FycmF5KGEpIHtcbiAgcmV0dXJuIGlzQXJyYXlJbXBsKGEpO1xufVxuXG4vLyBIZWxwZXJzIHRvIHBhdGNoIGNvbnNvbGUubG9ncyB0byBhdm9pZCBsb2dnaW5nIGR1cmluZyBzaWRlLWVmZmVjdCBmcmVlXG4vLyByZXBsYXlpbmcgb24gcmVuZGVyIGZ1bmN0aW9uLiBUaGlzIGN1cnJlbnRseSBvbmx5IHBhdGNoZXMgdGhlIG9iamVjdFxuLy8gbGF6aWx5IHdoaWNoIHdvbid0IGNvdmVyIGlmIHRoZSBsb2cgZnVuY3Rpb24gd2FzIGV4dHJhY3RlZCBlYWdlcmx5LlxuLy8gV2UgY291bGQgYWxzbyBlYWdlcmx5IHBhdGNoIHRoZSBtZXRob2QuXG52YXIgZGlzYWJsZWREZXB0aCA9IDA7XG52YXIgcHJldkxvZztcbnZhciBwcmV2SW5mbztcbnZhciBwcmV2V2FybjtcbnZhciBwcmV2RXJyb3I7XG52YXIgcHJldkdyb3VwO1xudmFyIHByZXZHcm91cENvbGxhcHNlZDtcbnZhciBwcmV2R3JvdXBFbmQ7XG5cbmZ1bmN0aW9uIGRpc2FibGVkTG9nKCkge31cblxuZGlzYWJsZWRMb2cuX19yZWFjdERpc2FibGVkTG9nID0gdHJ1ZTtcbmZ1bmN0aW9uIGRpc2FibGVMb2dzKCkge1xuICB7XG4gICAgaWYgKGRpc2FibGVkRGVwdGggPT09IDApIHtcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZyAqL1xuICAgICAgcHJldkxvZyA9IGNvbnNvbGUubG9nO1xuICAgICAgcHJldkluZm8gPSBjb25zb2xlLmluZm87XG4gICAgICBwcmV2V2FybiA9IGNvbnNvbGUud2FybjtcbiAgICAgIHByZXZFcnJvciA9IGNvbnNvbGUuZXJyb3I7XG4gICAgICBwcmV2R3JvdXAgPSBjb25zb2xlLmdyb3VwO1xuICAgICAgcHJldkdyb3VwQ29sbGFwc2VkID0gY29uc29sZS5ncm91cENvbGxhcHNlZDtcbiAgICAgIHByZXZHcm91cEVuZCA9IGNvbnNvbGUuZ3JvdXBFbmQ7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTkwOTlcblxuICAgICAgdmFyIHByb3BzID0ge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBkaXNhYmxlZExvZyxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH07IC8vICRGbG93Rml4TWVbY2Fubm90LXdyaXRlXSBGbG93IHRoaW5rcyBjb25zb2xlIGlzIGltbXV0YWJsZS5cblxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoY29uc29sZSwge1xuICAgICAgICBpbmZvOiBwcm9wcyxcbiAgICAgICAgbG9nOiBwcm9wcyxcbiAgICAgICAgd2FybjogcHJvcHMsXG4gICAgICAgIGVycm9yOiBwcm9wcyxcbiAgICAgICAgZ3JvdXA6IHByb3BzLFxuICAgICAgICBncm91cENvbGxhcHNlZDogcHJvcHMsXG4gICAgICAgIGdyb3VwRW5kOiBwcm9wc1xuICAgICAgfSk7XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZyAqL1xuICAgIH1cblxuICAgIGRpc2FibGVkRGVwdGgrKztcbiAgfVxufVxuZnVuY3Rpb24gcmVlbmFibGVMb2dzKCkge1xuICB7XG4gICAgZGlzYWJsZWREZXB0aC0tO1xuXG4gICAgaWYgKGRpc2FibGVkRGVwdGggPT09IDApIHtcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZyAqL1xuICAgICAgdmFyIHByb3BzID0ge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICB9OyAvLyAkRmxvd0ZpeE1lW2Nhbm5vdC13cml0ZV0gRmxvdyB0aGlua3MgY29uc29sZSBpcyBpbW11dGFibGUuXG5cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGNvbnNvbGUsIHtcbiAgICAgICAgbG9nOiBhc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgICAgdmFsdWU6IHByZXZMb2dcbiAgICAgICAgfSksXG4gICAgICAgIGluZm86IGFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgICB2YWx1ZTogcHJldkluZm9cbiAgICAgICAgfSksXG4gICAgICAgIHdhcm46IGFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgICB2YWx1ZTogcHJldldhcm5cbiAgICAgICAgfSksXG4gICAgICAgIGVycm9yOiBhc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgICAgdmFsdWU6IHByZXZFcnJvclxuICAgICAgICB9KSxcbiAgICAgICAgZ3JvdXA6IGFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgICB2YWx1ZTogcHJldkdyb3VwXG4gICAgICAgIH0pLFxuICAgICAgICBncm91cENvbGxhcHNlZDogYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgICAgIHZhbHVlOiBwcmV2R3JvdXBDb2xsYXBzZWRcbiAgICAgICAgfSksXG4gICAgICAgIGdyb3VwRW5kOiBhc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgICAgdmFsdWU6IHByZXZHcm91cEVuZFxuICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZyAqL1xuICAgIH1cblxuICAgIGlmIChkaXNhYmxlZERlcHRoIDwgMCkge1xuICAgICAgZXJyb3IoJ2Rpc2FibGVkRGVwdGggZmVsbCBiZWxvdyB6ZXJvLiAnICsgJ1RoaXMgaXMgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpO1xuICAgIH1cbiAgfVxufVxuXG52YXIgUmVhY3RDdXJyZW50RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlJlYWN0Q3VycmVudERpc3BhdGNoZXI7XG52YXIgcHJlZml4O1xuZnVuY3Rpb24gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUobmFtZSwgb3duZXJGbikge1xuICB7XG4gICAgaWYgKHByZWZpeCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBFeHRyYWN0IHRoZSBWTSBzcGVjaWZpYyBwcmVmaXggdXNlZCBieSBlYWNoIGxpbmUuXG4gICAgICB0cnkge1xuICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICB2YXIgbWF0Y2ggPSB4LnN0YWNrLnRyaW0oKS5tYXRjaCgvXFxuKCAqKGF0ICk/KS8pO1xuICAgICAgICBwcmVmaXggPSBtYXRjaCAmJiBtYXRjaFsxXSB8fCAnJztcbiAgICAgIH1cbiAgICB9IC8vIFdlIHVzZSB0aGUgcHJlZml4IHRvIGVuc3VyZSBvdXIgc3RhY2tzIGxpbmUgdXAgd2l0aCBuYXRpdmUgc3RhY2sgZnJhbWVzLlxuXG5cbiAgICByZXR1cm4gJ1xcbicgKyBwcmVmaXggKyBuYW1lO1xuICB9XG59XG52YXIgcmVlbnRyeSA9IGZhbHNlO1xudmFyIGNvbXBvbmVudEZyYW1lQ2FjaGU7XG5cbntcbiAgdmFyIFBvc3NpYmx5V2Vha01hcCA9IHR5cGVvZiBXZWFrTWFwID09PSAnZnVuY3Rpb24nID8gV2Vha01hcCA6IE1hcDtcbiAgY29tcG9uZW50RnJhbWVDYWNoZSA9IG5ldyBQb3NzaWJseVdlYWtNYXAoKTtcbn1cbi8qKlxuICogTGV2ZXJhZ2VzIG5hdGl2ZSBicm93c2VyL1ZNIHN0YWNrIGZyYW1lcyB0byBnZXQgcHJvcGVyIGRldGFpbHMgKGUuZy5cbiAqIGZpbGVuYW1lLCBsaW5lICsgY29sIG51bWJlcikgZm9yIGEgc2luZ2xlIGNvbXBvbmVudCBpbiBhIGNvbXBvbmVudCBzdGFjay4gV2VcbiAqIGRvIHRoaXMgYnk6XG4gKiAgICgxKSB0aHJvd2luZyBhbmQgY2F0Y2hpbmcgYW4gZXJyb3IgaW4gdGhlIGZ1bmN0aW9uIC0gdGhpcyB3aWxsIGJlIG91clxuICogICAgICAgY29udHJvbCBlcnJvci5cbiAqICAgKDIpIGNhbGxpbmcgdGhlIGNvbXBvbmVudCB3aGljaCB3aWxsIGV2ZW50dWFsbHkgdGhyb3cgYW4gZXJyb3IgdGhhdCB3ZSdsbFxuICogICAgICAgY2F0Y2ggLSB0aGlzIHdpbGwgYmUgb3VyIHNhbXBsZSBlcnJvci5cbiAqICAgKDMpIGRpZmZpbmcgdGhlIGNvbnRyb2wgYW5kIHNhbXBsZSBlcnJvciBzdGFja3MgdG8gZmluZCB0aGUgc3RhY2sgZnJhbWVcbiAqICAgICAgIHdoaWNoIHJlcHJlc2VudHMgb3VyIGNvbXBvbmVudC5cbiAqL1xuXG5cbmZ1bmN0aW9uIGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUoZm4sIGNvbnN0cnVjdCkge1xuICAvLyBJZiBzb21ldGhpbmcgYXNrZWQgZm9yIGEgc3RhY2sgaW5zaWRlIGEgZmFrZSByZW5kZXIsIGl0IHNob3VsZCBnZXQgaWdub3JlZC5cbiAgaWYgKCFmbiB8fCByZWVudHJ5KSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAge1xuICAgIHZhciBmcmFtZSA9IGNvbXBvbmVudEZyYW1lQ2FjaGUuZ2V0KGZuKTtcblxuICAgIGlmIChmcmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZnJhbWU7XG4gICAgfVxuICB9XG5cbiAgcmVlbnRyeSA9IHRydWU7XG4gIHZhciBwcmV2aW91c1ByZXBhcmVTdGFja1RyYWNlID0gRXJyb3IucHJlcGFyZVN0YWNrVHJhY2U7IC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGVdIEl0IGRvZXMgYWNjZXB0IHVuZGVmaW5lZC5cblxuICBFcnJvci5wcmVwYXJlU3RhY2tUcmFjZSA9IHVuZGVmaW5lZDtcbiAgdmFyIHByZXZpb3VzRGlzcGF0Y2hlcjtcblxuICB7XG4gICAgcHJldmlvdXNEaXNwYXRjaGVyID0gUmVhY3RDdXJyZW50RGlzcGF0Y2hlci5jdXJyZW50OyAvLyBTZXQgdGhlIGRpc3BhdGNoZXIgaW4gREVWIGJlY2F1c2UgdGhpcyBtaWdodCBiZSBjYWxsIGluIHRoZSByZW5kZXIgZnVuY3Rpb25cbiAgICAvLyBmb3Igd2FybmluZ3MuXG5cbiAgICBSZWFjdEN1cnJlbnREaXNwYXRjaGVyLmN1cnJlbnQgPSBudWxsO1xuICAgIGRpc2FibGVMb2dzKCk7XG4gIH1cbiAgLyoqXG4gICAqIEZpbmRpbmcgYSBjb21tb24gc3RhY2sgZnJhbWUgYmV0d2VlbiBzYW1wbGUgYW5kIGNvbnRyb2wgZXJyb3JzIGNhbiBiZVxuICAgKiB0cmlja3kgZ2l2ZW4gdGhlIGRpZmZlcmVudCB0eXBlcyBhbmQgbGV2ZWxzIG9mIHN0YWNrIHRyYWNlIHRydW5jYXRpb24gZnJvbVxuICAgKiBkaWZmZXJlbnQgSlMgVk1zLiBTbyBpbnN0ZWFkIHdlJ2xsIGF0dGVtcHQgdG8gY29udHJvbCB3aGF0IHRoYXQgY29tbW9uXG4gICAqIGZyYW1lIHNob3VsZCBiZSB0aHJvdWdoIHRoaXMgb2JqZWN0IG1ldGhvZDpcbiAgICogSGF2aW5nIGJvdGggdGhlIHNhbXBsZSBhbmQgY29udHJvbCBlcnJvcnMgYmUgaW4gdGhlIGZ1bmN0aW9uIHVuZGVyIHRoZVxuICAgKiBgRGVzY3JpYmVOYXRpdmVDb21wb25lbnRGcmFtZVJvb3RgIHByb3BlcnR5LCArIHNldHRpbmcgdGhlIGBuYW1lYCBhbmRcbiAgICogYGRpc3BsYXlOYW1lYCBwcm9wZXJ0aWVzIG9mIHRoZSBmdW5jdGlvbiBlbnN1cmVzIHRoYXQgYSBzdGFja1xuICAgKiBmcmFtZSBleGlzdHMgdGhhdCBoYXMgdGhlIG1ldGhvZCBuYW1lIGBEZXNjcmliZU5hdGl2ZUNvbXBvbmVudEZyYW1lUm9vdGAgaW5cbiAgICogaXQgZm9yIGJvdGggY29udHJvbCBhbmQgc2FtcGxlIHN0YWNrcy5cbiAgICovXG5cblxuICB2YXIgUnVuSW5Sb290RnJhbWUgPSB7XG4gICAgRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290OiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgY29udHJvbDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyBzaG91bGQgdGhyb3cuXG4gICAgICAgIGlmIChjb25zdHJ1Y3QpIHtcbiAgICAgICAgICAvLyBTb21ldGhpbmcgc2hvdWxkIGJlIHNldHRpbmcgdGhlIHByb3BzIGluIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICB2YXIgRmFrZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgICAgfTsgLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddXG5cblxuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGYWtlLnByb3RvdHlwZSwgJ3Byb3BzJywge1xuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIC8vIFdlIHVzZSBhIHRocm93aW5nIHNldHRlciBpbnN0ZWFkIG9mIGZyb3plbiBvciBub24td3JpdGFibGUgcHJvcHNcbiAgICAgICAgICAgICAgLy8gYmVjYXVzZSB0aGF0IHdvbid0IHRocm93IGluIGEgbm9uLXN0cmljdCBtb2RlIGZ1bmN0aW9uLlxuICAgICAgICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSAnb2JqZWN0JyAmJiBSZWZsZWN0LmNvbnN0cnVjdCkge1xuICAgICAgICAgICAgLy8gV2UgY29uc3RydWN0IGEgZGlmZmVyZW50IGNvbnRyb2wgZm9yIHRoaXMgY2FzZSB0byBpbmNsdWRlIGFueSBleHRyYVxuICAgICAgICAgICAgLy8gZnJhbWVzIGFkZGVkIGJ5IHRoZSBjb25zdHJ1Y3QgY2FsbC5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIFJlZmxlY3QuY29uc3RydWN0KEZha2UsIFtdKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgICAgICAgY29udHJvbCA9IHg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIFJlZmxlY3QuY29uc3RydWN0KGZuLCBbXSwgRmFrZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIEZha2UuY2FsbCgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICAgICAgICBjb250cm9sID0geDtcbiAgICAgICAgICAgIH0gLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddIGZvdW5kIHdoZW4gdXBncmFkaW5nIEZsb3dcblxuXG4gICAgICAgICAgICBmbi5jYWxsKEZha2UucHJvdG90eXBlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICAgICAgY29udHJvbCA9IHg7XG4gICAgICAgICAgfSAvLyBUT0RPKGx1bmEpOiBUaGlzIHdpbGwgY3VycmVudGx5IG9ubHkgdGhyb3cgaWYgdGhlIGZ1bmN0aW9uIGNvbXBvbmVudFxuICAgICAgICAgIC8vIHRyaWVzIHRvIGFjY2VzcyBSZWFjdC9SZWFjdERPTS9wcm9wcy4gV2Ugc2hvdWxkIHByb2JhYmx5IG1ha2UgdGhpcyB0aHJvd1xuICAgICAgICAgIC8vIGluIHNpbXBsZSBjb21wb25lbnRzIHRvb1xuXG5cbiAgICAgICAgICB2YXIgbWF5YmVQcm9taXNlID0gZm4oKTsgLy8gSWYgdGhlIGZ1bmN0aW9uIGNvbXBvbmVudCByZXR1cm5zIGEgcHJvbWlzZSwgaXQncyBsaWtlbHkgYW4gYXN5bmNcbiAgICAgICAgICAvLyBjb21wb25lbnQsIHdoaWNoIHdlIGRvbid0IHlldCBzdXBwb3J0LiBBdHRhY2ggYSBub29wIGNhdGNoIGhhbmRsZXIgdG9cbiAgICAgICAgICAvLyBzaWxlbmNlIHRoZSBlcnJvci5cbiAgICAgICAgICAvLyBUT0RPOiBJbXBsZW1lbnQgY29tcG9uZW50IHN0YWNrcyBmb3IgYXN5bmMgY2xpZW50IGNvbXBvbmVudHM/XG5cbiAgICAgICAgICBpZiAobWF5YmVQcm9taXNlICYmIHR5cGVvZiBtYXliZVByb21pc2UuY2F0Y2ggPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIG1heWJlUHJvbWlzZS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChzYW1wbGUpIHtcbiAgICAgICAgLy8gVGhpcyBpcyBpbmxpbmVkIG1hbnVhbGx5IGJlY2F1c2UgY2xvc3VyZSBkb2Vzbid0IGRvIGl0IGZvciB1cy5cbiAgICAgICAgaWYgKHNhbXBsZSAmJiBjb250cm9sICYmIHR5cGVvZiBzYW1wbGUuc3RhY2sgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgcmV0dXJuIFtzYW1wbGUuc3RhY2ssIGNvbnRyb2wuc3RhY2tdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBbbnVsbCwgbnVsbF07XG4gICAgfVxuICB9OyAvLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ11cblxuICBSdW5JblJvb3RGcmFtZS5EZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QuZGlzcGxheU5hbWUgPSAnRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290JztcbiAgdmFyIG5hbWVQcm9wRGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoUnVuSW5Sb290RnJhbWUuRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290LCAnbmFtZScpOyAvLyBCZWZvcmUgRVM2LCB0aGUgYG5hbWVgIHByb3BlcnR5IHdhcyBub3QgY29uZmlndXJhYmxlLlxuXG4gIGlmIChuYW1lUHJvcERlc2NyaXB0b3IgJiYgbmFtZVByb3BEZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSkge1xuICAgIC8vIFY4IHV0aWxpemVzIGEgZnVuY3Rpb24ncyBgbmFtZWAgcHJvcGVydHkgd2hlbiBnZW5lcmF0aW5nIGEgc3RhY2sgdHJhY2UuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJ1bkluUm9vdEZyYW1lLkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdCwgLy8gQ29uZmlndXJhYmxlIHByb3BlcnRpZXMgY2FuIGJlIHVwZGF0ZWQgZXZlbiBpZiBpdHMgd3JpdGFibGUgZGVzY3JpcHRvclxuICAgIC8vIGlzIHNldCB0byBgZmFsc2VgLlxuICAgIC8vICRGbG93Rml4TWVbY2Fubm90LXdyaXRlXVxuICAgICduYW1lJywge1xuICAgICAgdmFsdWU6ICdEZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QnXG4gICAgfSk7XG4gIH1cblxuICB0cnkge1xuICAgIHZhciBfUnVuSW5Sb290RnJhbWUkRGV0ZXIgPSBSdW5JblJvb3RGcmFtZS5EZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QoKSxcbiAgICAgICAgc2FtcGxlU3RhY2sgPSBfUnVuSW5Sb290RnJhbWUkRGV0ZXJbMF0sXG4gICAgICAgIGNvbnRyb2xTdGFjayA9IF9SdW5JblJvb3RGcmFtZSREZXRlclsxXTtcblxuICAgIGlmIChzYW1wbGVTdGFjayAmJiBjb250cm9sU3RhY2spIHtcbiAgICAgIC8vIFRoaXMgZXh0cmFjdHMgdGhlIGZpcnN0IGZyYW1lIGZyb20gdGhlIHNhbXBsZSB0aGF0IGlzbid0IGFsc28gaW4gdGhlIGNvbnRyb2wuXG4gICAgICAvLyBTa2lwcGluZyBvbmUgZnJhbWUgdGhhdCB3ZSBhc3N1bWUgaXMgdGhlIGZyYW1lIHRoYXQgY2FsbHMgdGhlIHR3by5cbiAgICAgIHZhciBzYW1wbGVMaW5lcyA9IHNhbXBsZVN0YWNrLnNwbGl0KCdcXG4nKTtcbiAgICAgIHZhciBjb250cm9sTGluZXMgPSBjb250cm9sU3RhY2suc3BsaXQoJ1xcbicpO1xuICAgICAgdmFyIHMgPSAwO1xuICAgICAgdmFyIGMgPSAwO1xuXG4gICAgICB3aGlsZSAocyA8IHNhbXBsZUxpbmVzLmxlbmd0aCAmJiAhc2FtcGxlTGluZXNbc10uaW5jbHVkZXMoJ0RldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdCcpKSB7XG4gICAgICAgIHMrKztcbiAgICAgIH1cblxuICAgICAgd2hpbGUgKGMgPCBjb250cm9sTGluZXMubGVuZ3RoICYmICFjb250cm9sTGluZXNbY10uaW5jbHVkZXMoJ0RldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdCcpKSB7XG4gICAgICAgIGMrKztcbiAgICAgIH0gLy8gV2UgY291bGRuJ3QgZmluZCBvdXIgaW50ZW50aW9uYWxseSBpbmplY3RlZCBjb21tb24gcm9vdCBmcmFtZSwgYXR0ZW1wdFxuICAgICAgLy8gdG8gZmluZCBhbm90aGVyIGNvbW1vbiByb290IGZyYW1lIGJ5IHNlYXJjaCBmcm9tIHRoZSBib3R0b20gb2YgdGhlXG4gICAgICAvLyBjb250cm9sIHN0YWNrLi4uXG5cblxuICAgICAgaWYgKHMgPT09IHNhbXBsZUxpbmVzLmxlbmd0aCB8fCBjID09PSBjb250cm9sTGluZXMubGVuZ3RoKSB7XG4gICAgICAgIHMgPSBzYW1wbGVMaW5lcy5sZW5ndGggLSAxO1xuICAgICAgICBjID0gY29udHJvbExpbmVzLmxlbmd0aCAtIDE7XG5cbiAgICAgICAgd2hpbGUgKHMgPj0gMSAmJiBjID49IDAgJiYgc2FtcGxlTGluZXNbc10gIT09IGNvbnRyb2xMaW5lc1tjXSkge1xuICAgICAgICAgIC8vIFdlIGV4cGVjdCBhdCBsZWFzdCBvbmUgc3RhY2sgZnJhbWUgdG8gYmUgc2hhcmVkLlxuICAgICAgICAgIC8vIFR5cGljYWxseSB0aGlzIHdpbGwgYmUgdGhlIHJvb3QgbW9zdCBvbmUuIEhvd2V2ZXIsIHN0YWNrIGZyYW1lcyBtYXkgYmVcbiAgICAgICAgICAvLyBjdXQgb2ZmIGR1ZSB0byBtYXhpbXVtIHN0YWNrIGxpbWl0cy4gSW4gdGhpcyBjYXNlLCBvbmUgbWF5YmUgY3V0IG9mZlxuICAgICAgICAgIC8vIGVhcmxpZXIgdGhhbiB0aGUgb3RoZXIuIFdlIGFzc3VtZSB0aGF0IHRoZSBzYW1wbGUgaXMgbG9uZ2VyIG9yIHRoZSBzYW1lXG4gICAgICAgICAgLy8gYW5kIHRoZXJlIGZvciBjdXQgb2ZmIGVhcmxpZXIuIFNvIHdlIHNob3VsZCBmaW5kIHRoZSByb290IG1vc3QgZnJhbWUgaW5cbiAgICAgICAgICAvLyB0aGUgc2FtcGxlIHNvbWV3aGVyZSBpbiB0aGUgY29udHJvbC5cbiAgICAgICAgICBjLS07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZm9yICg7IHMgPj0gMSAmJiBjID49IDA7IHMtLSwgYy0tKSB7XG4gICAgICAgIC8vIE5leHQgd2UgZmluZCB0aGUgZmlyc3Qgb25lIHRoYXQgaXNuJ3QgdGhlIHNhbWUgd2hpY2ggc2hvdWxkIGJlIHRoZVxuICAgICAgICAvLyBmcmFtZSB0aGF0IGNhbGxlZCBvdXIgc2FtcGxlIGZ1bmN0aW9uIGFuZCB0aGUgY29udHJvbC5cbiAgICAgICAgaWYgKHNhbXBsZUxpbmVzW3NdICE9PSBjb250cm9sTGluZXNbY10pIHtcbiAgICAgICAgICAvLyBJbiBWOCwgdGhlIGZpcnN0IGxpbmUgaXMgZGVzY3JpYmluZyB0aGUgbWVzc2FnZSBidXQgb3RoZXIgVk1zIGRvbid0LlxuICAgICAgICAgIC8vIElmIHdlJ3JlIGFib3V0IHRvIHJldHVybiB0aGUgZmlyc3QgbGluZSwgYW5kIHRoZSBjb250cm9sIGlzIGFsc28gb24gdGhlIHNhbWVcbiAgICAgICAgICAvLyBsaW5lLCB0aGF0J3MgYSBwcmV0dHkgZ29vZCBpbmRpY2F0b3IgdGhhdCBvdXIgc2FtcGxlIHRocmV3IGF0IHNhbWUgbGluZSBhc1xuICAgICAgICAgIC8vIHRoZSBjb250cm9sLiBJLmUuIGJlZm9yZSB3ZSBlbnRlcmVkIHRoZSBzYW1wbGUgZnJhbWUuIFNvIHdlIGlnbm9yZSB0aGlzIHJlc3VsdC5cbiAgICAgICAgICAvLyBUaGlzIGNhbiBoYXBwZW4gaWYgeW91IHBhc3NlZCBhIGNsYXNzIHRvIGZ1bmN0aW9uIGNvbXBvbmVudCwgb3Igbm9uLWZ1bmN0aW9uLlxuICAgICAgICAgIGlmIChzICE9PSAxIHx8IGMgIT09IDEpIHtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgcy0tO1xuICAgICAgICAgICAgICBjLS07IC8vIFdlIG1heSBzdGlsbCBoYXZlIHNpbWlsYXIgaW50ZXJtZWRpYXRlIGZyYW1lcyBmcm9tIHRoZSBjb25zdHJ1Y3QgY2FsbC5cbiAgICAgICAgICAgICAgLy8gVGhlIG5leHQgb25lIHRoYXQgaXNuJ3QgdGhlIHNhbWUgc2hvdWxkIGJlIG91ciBtYXRjaCB0aG91Z2guXG5cbiAgICAgICAgICAgICAgaWYgKGMgPCAwIHx8IHNhbXBsZUxpbmVzW3NdICE9PSBjb250cm9sTGluZXNbY10pIHtcbiAgICAgICAgICAgICAgICAvLyBWOCBhZGRzIGEgXCJuZXdcIiBwcmVmaXggZm9yIG5hdGl2ZSBjbGFzc2VzLiBMZXQncyByZW1vdmUgaXQgdG8gbWFrZSBpdCBwcmV0dGllci5cbiAgICAgICAgICAgICAgICB2YXIgX2ZyYW1lID0gJ1xcbicgKyBzYW1wbGVMaW5lc1tzXS5yZXBsYWNlKCcgYXQgbmV3ICcsICcgYXQgJyk7IC8vIElmIG91ciBjb21wb25lbnQgZnJhbWUgaXMgbGFiZWxlZCBcIjxhbm9ueW1vdXM+XCJcbiAgICAgICAgICAgICAgICAvLyBidXQgd2UgaGF2ZSBhIHVzZXItcHJvdmlkZWQgXCJkaXNwbGF5TmFtZVwiXG4gICAgICAgICAgICAgICAgLy8gc3BsaWNlIGl0IGluIHRvIG1ha2UgdGhlIHN0YWNrIG1vcmUgcmVhZGFibGUuXG5cblxuICAgICAgICAgICAgICAgIGlmIChmbi5kaXNwbGF5TmFtZSAmJiBfZnJhbWUuaW5jbHVkZXMoJzxhbm9ueW1vdXM+JykpIHtcbiAgICAgICAgICAgICAgICAgIF9mcmFtZSA9IF9mcmFtZS5yZXBsYWNlKCc8YW5vbnltb3VzPicsIGZuLmRpc3BsYXlOYW1lKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRGcmFtZUNhY2hlLnNldChmbiwgX2ZyYW1lKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IC8vIFJldHVybiB0aGUgbGluZSB3ZSBmb3VuZC5cblxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9mcmFtZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSB3aGlsZSAocyA+PSAxICYmIGMgPj0gMCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gZmluYWxseSB7XG4gICAgcmVlbnRyeSA9IGZhbHNlO1xuXG4gICAge1xuICAgICAgUmVhY3RDdXJyZW50RGlzcGF0Y2hlci5jdXJyZW50ID0gcHJldmlvdXNEaXNwYXRjaGVyO1xuICAgICAgcmVlbmFibGVMb2dzKCk7XG4gICAgfVxuXG4gICAgRXJyb3IucHJlcGFyZVN0YWNrVHJhY2UgPSBwcmV2aW91c1ByZXBhcmVTdGFja1RyYWNlO1xuICB9IC8vIEZhbGxiYWNrIHRvIGp1c3QgdXNpbmcgdGhlIG5hbWUgaWYgd2UgY291bGRuJ3QgbWFrZSBpdCB0aHJvdy5cblxuXG4gIHZhciBuYW1lID0gZm4gPyBmbi5kaXNwbGF5TmFtZSB8fCBmbi5uYW1lIDogJyc7XG4gIHZhciBzeW50aGV0aWNGcmFtZSA9IG5hbWUgPyBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZShuYW1lKSA6ICcnO1xuXG4gIHtcbiAgICBpZiAodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjb21wb25lbnRGcmFtZUNhY2hlLnNldChmbiwgc3ludGhldGljRnJhbWUpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzeW50aGV0aWNGcmFtZTtcbn1cbmZ1bmN0aW9uIGRlc2NyaWJlRnVuY3Rpb25Db21wb25lbnRGcmFtZShmbiwgb3duZXJGbikge1xuICB7XG4gICAgcmV0dXJuIGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUoZm4sIGZhbHNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzaG91bGRDb25zdHJ1Y3QoQ29tcG9uZW50KSB7XG4gIHZhciBwcm90b3R5cGUgPSBDb21wb25lbnQucHJvdG90eXBlO1xuICByZXR1cm4gISEocHJvdG90eXBlICYmIHByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50KTtcbn1cblxuZnVuY3Rpb24gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKHR5cGUsIG93bmVyRm4pIHtcblxuICBpZiAodHlwZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAge1xuICAgICAgcmV0dXJuIGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUodHlwZSwgc2hvdWxkQ29uc3RydWN0KHR5cGUpKTtcbiAgICB9XG4gIH1cblxuICBpZiAodHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKHR5cGUpO1xuICB9XG5cbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9UWVBFOlxuICAgICAgcmV0dXJuIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKCdTdXNwZW5zZScpO1xuXG4gICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEU6XG4gICAgICByZXR1cm4gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUoJ1N1c3BlbnNlTGlzdCcpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0Jykge1xuICAgIHN3aXRjaCAodHlwZS4kJHR5cGVvZikge1xuICAgICAgY2FzZSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFOlxuICAgICAgICByZXR1cm4gZGVzY3JpYmVGdW5jdGlvbkNvbXBvbmVudEZyYW1lKHR5cGUucmVuZGVyKTtcblxuICAgICAgY2FzZSBSRUFDVF9NRU1PX1RZUEU6XG4gICAgICAgIC8vIE1lbW8gbWF5IGNvbnRhaW4gYW55IGNvbXBvbmVudCB0eXBlIHNvIHdlIHJlY3Vyc2l2ZWx5IHJlc29sdmUgaXQuXG4gICAgICAgIHJldHVybiBkZXNjcmliZVVua25vd25FbGVtZW50VHlwZUZyYW1lSW5ERVYodHlwZS50eXBlLCBvd25lckZuKTtcblxuICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgbGF6eUNvbXBvbmVudCA9IHR5cGU7XG4gICAgICAgICAgdmFyIHBheWxvYWQgPSBsYXp5Q29tcG9uZW50Ll9wYXlsb2FkO1xuICAgICAgICAgIHZhciBpbml0ID0gbGF6eUNvbXBvbmVudC5faW5pdDtcblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBMYXp5IG1heSBjb250YWluIGFueSBjb21wb25lbnQgdHlwZSBzbyB3ZSByZWN1cnNpdmVseSByZXNvbHZlIGl0LlxuICAgICAgICAgICAgcmV0dXJuIGRlc2NyaWJlVW5rbm93bkVsZW1lbnRUeXBlRnJhbWVJbkRFVihpbml0KHBheWxvYWQpLCBvd25lckZuKTtcbiAgICAgICAgICB9IGNhdGNoICh4KSB7fVxuICAgICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuICcnO1xufVxuXG52YXIgUmVhY3RDdXJyZW50T3duZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdEN1cnJlbnRPd25lcjtcbnZhciBSZWFjdERlYnVnQ3VycmVudEZyYW1lID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZTtcbnZhciBSRUFDVF9DTElFTlRfUkVGRVJFTkNFID0gU3ltYm9sLmZvcigncmVhY3QuY2xpZW50LnJlZmVyZW5jZScpO1xudmFyIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duO1xudmFyIHNwZWNpYWxQcm9wUmVmV2FybmluZ1Nob3duO1xudmFyIGRpZFdhcm5BYm91dFN0cmluZ1JlZnM7XG5cbntcbiAgZGlkV2FybkFib3V0U3RyaW5nUmVmcyA9IHt9O1xufVxuXG5mdW5jdGlvbiBoYXNWYWxpZFJlZihjb25maWcpIHtcbiAge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgJ3JlZicpKSB7XG4gICAgICB2YXIgZ2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb25maWcsICdyZWYnKS5nZXQ7XG5cbiAgICAgIGlmIChnZXR0ZXIgJiYgZ2V0dGVyLmlzUmVhY3RXYXJuaW5nKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gY29uZmlnLnJlZiAhPT0gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBoYXNWYWxpZEtleShjb25maWcpIHtcbiAge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgJ2tleScpKSB7XG4gICAgICB2YXIgZ2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb25maWcsICdrZXknKS5nZXQ7XG5cbiAgICAgIGlmIChnZXR0ZXIgJiYgZ2V0dGVyLmlzUmVhY3RXYXJuaW5nKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gY29uZmlnLmtleSAhPT0gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiB3YXJuSWZTdHJpbmdSZWZDYW5ub3RCZUF1dG9Db252ZXJ0ZWQoY29uZmlnLCBzZWxmKSB7XG4gIHtcbiAgICBpZiAodHlwZW9mIGNvbmZpZy5yZWYgPT09ICdzdHJpbmcnICYmIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQgJiYgc2VsZiAmJiBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50LnN0YXRlTm9kZSAhPT0gc2VsZikge1xuICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoUmVhY3RDdXJyZW50T3duZXIuY3VycmVudC50eXBlKTtcblxuICAgICAgaWYgKCFkaWRXYXJuQWJvdXRTdHJpbmdSZWZzW2NvbXBvbmVudE5hbWVdKSB7XG4gICAgICAgIGVycm9yKCdDb21wb25lbnQgXCIlc1wiIGNvbnRhaW5zIHRoZSBzdHJpbmcgcmVmIFwiJXNcIi4gJyArICdTdXBwb3J0IGZvciBzdHJpbmcgcmVmcyB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgbWFqb3IgcmVsZWFzZS4gJyArICdUaGlzIGNhc2UgY2Fubm90IGJlIGF1dG9tYXRpY2FsbHkgY29udmVydGVkIHRvIGFuIGFycm93IGZ1bmN0aW9uLiAnICsgJ1dlIGFzayB5b3UgdG8gbWFudWFsbHkgZml4IHRoaXMgY2FzZSBieSB1c2luZyB1c2VSZWYoKSBvciBjcmVhdGVSZWYoKSBpbnN0ZWFkLiAnICsgJ0xlYXJuIG1vcmUgYWJvdXQgdXNpbmcgcmVmcyBzYWZlbHkgaGVyZTogJyArICdodHRwczovL3JlYWN0anMub3JnL2xpbmsvc3RyaWN0LW1vZGUtc3RyaW5nLXJlZicsIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50LnR5cGUpLCBjb25maWcucmVmKTtcblxuICAgICAgICBkaWRXYXJuQWJvdXRTdHJpbmdSZWZzW2NvbXBvbmVudE5hbWVdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKSB7XG4gIHtcbiAgICB2YXIgd2FybkFib3V0QWNjZXNzaW5nS2V5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93bikge1xuICAgICAgICBzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93biA9IHRydWU7XG5cbiAgICAgICAgZXJyb3IoJyVzOiBga2V5YCBpcyBub3QgYSBwcm9wLiBUcnlpbmcgdG8gYWNjZXNzIGl0IHdpbGwgcmVzdWx0ICcgKyAnaW4gYHVuZGVmaW5lZGAgYmVpbmcgcmV0dXJuZWQuIElmIHlvdSBuZWVkIHRvIGFjY2VzcyB0aGUgc2FtZSAnICsgJ3ZhbHVlIHdpdGhpbiB0aGUgY2hpbGQgY29tcG9uZW50LCB5b3Ugc2hvdWxkIHBhc3MgaXQgYXMgYSBkaWZmZXJlbnQgJyArICdwcm9wLiAoaHR0cHM6Ly9yZWFjdGpzLm9yZy9saW5rL3NwZWNpYWwtcHJvcHMpJywgZGlzcGxheU5hbWUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB3YXJuQWJvdXRBY2Nlc3NpbmdLZXkuaXNSZWFjdFdhcm5pbmcgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9wcywgJ2tleScsIHtcbiAgICAgIGdldDogd2FybkFib3V0QWNjZXNzaW5nS2V5LFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVmaW5lUmVmUHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKSB7XG4gIHtcbiAgICB7XG4gICAgICB2YXIgd2FybkFib3V0QWNjZXNzaW5nUmVmID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXNwZWNpYWxQcm9wUmVmV2FybmluZ1Nob3duKSB7XG4gICAgICAgICAgc3BlY2lhbFByb3BSZWZXYXJuaW5nU2hvd24gPSB0cnVlO1xuXG4gICAgICAgICAgZXJyb3IoJyVzOiBgcmVmYCBpcyBub3QgYSBwcm9wLiBUcnlpbmcgdG8gYWNjZXNzIGl0IHdpbGwgcmVzdWx0ICcgKyAnaW4gYHVuZGVmaW5lZGAgYmVpbmcgcmV0dXJuZWQuIElmIHlvdSBuZWVkIHRvIGFjY2VzcyB0aGUgc2FtZSAnICsgJ3ZhbHVlIHdpdGhpbiB0aGUgY2hpbGQgY29tcG9uZW50LCB5b3Ugc2hvdWxkIHBhc3MgaXQgYXMgYSBkaWZmZXJlbnQgJyArICdwcm9wLiAoaHR0cHM6Ly9yZWFjdGpzLm9yZy9saW5rL3NwZWNpYWwtcHJvcHMpJywgZGlzcGxheU5hbWUpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB3YXJuQWJvdXRBY2Nlc3NpbmdSZWYuaXNSZWFjdFdhcm5pbmcgPSB0cnVlO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3BzLCAncmVmJywge1xuICAgICAgICBnZXQ6IHdhcm5BYm91dEFjY2Vzc2luZ1JlZixcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cbi8qKlxuICogRmFjdG9yeSBtZXRob2QgdG8gY3JlYXRlIGEgbmV3IFJlYWN0IGVsZW1lbnQuIFRoaXMgbm8gbG9uZ2VyIGFkaGVyZXMgdG9cbiAqIHRoZSBjbGFzcyBwYXR0ZXJuLCBzbyBkbyBub3QgdXNlIG5ldyB0byBjYWxsIGl0LiBBbHNvLCBpbnN0YW5jZW9mIGNoZWNrXG4gKiB3aWxsIG5vdCB3b3JrLiBJbnN0ZWFkIHRlc3QgJCR0eXBlb2YgZmllbGQgYWdhaW5zdCBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50JykgdG8gY2hlY2tcbiAqIGlmIHNvbWV0aGluZyBpcyBhIFJlYWN0IEVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHsqfSB0eXBlXG4gKiBAcGFyYW0geyp9IHByb3BzXG4gKiBAcGFyYW0geyp9IGtleVxuICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fSByZWZcbiAqIEBwYXJhbSB7Kn0gb3duZXJcbiAqIEBwYXJhbSB7Kn0gc2VsZiBBICp0ZW1wb3JhcnkqIGhlbHBlciB0byBkZXRlY3QgcGxhY2VzIHdoZXJlIGB0aGlzYCBpc1xuICogZGlmZmVyZW50IGZyb20gdGhlIGBvd25lcmAgd2hlbiBSZWFjdC5jcmVhdGVFbGVtZW50IGlzIGNhbGxlZCwgc28gdGhhdCB3ZVxuICogY2FuIHdhcm4uIFdlIHdhbnQgdG8gZ2V0IHJpZCBvZiBvd25lciBhbmQgcmVwbGFjZSBzdHJpbmcgYHJlZmBzIHdpdGggYXJyb3dcbiAqIGZ1bmN0aW9ucywgYW5kIGFzIGxvbmcgYXMgYHRoaXNgIGFuZCBvd25lciBhcmUgdGhlIHNhbWUsIHRoZXJlIHdpbGwgYmUgbm9cbiAqIGNoYW5nZSBpbiBiZWhhdmlvci5cbiAqIEBwYXJhbSB7Kn0gc291cmNlIEFuIGFubm90YXRpb24gb2JqZWN0IChhZGRlZCBieSBhIHRyYW5zcGlsZXIgb3Igb3RoZXJ3aXNlKVxuICogaW5kaWNhdGluZyBmaWxlbmFtZSwgbGluZSBudW1iZXIsIGFuZC9vciBvdGhlciBpbmZvcm1hdGlvbi5cbiAqIEBpbnRlcm5hbFxuICovXG5cblxuZnVuY3Rpb24gUmVhY3RFbGVtZW50KHR5cGUsIGtleSwgX3JlZiwgc2VsZiwgc291cmNlLCBvd25lciwgcHJvcHMpIHtcbiAgdmFyIHJlZjtcblxuICB7XG4gICAgcmVmID0gX3JlZjtcbiAgfVxuXG4gIHZhciBlbGVtZW50O1xuXG4gIHtcbiAgICAvLyBJbiBwcm9kLCBgcmVmYCBpcyBhIHJlZ3VsYXIgcHJvcGVydHkuIEl0IHdpbGwgYmUgcmVtb3ZlZCBpbiBhXG4gICAgLy8gZnV0dXJlIHJlbGVhc2UuXG4gICAgZWxlbWVudCA9IHtcbiAgICAgIC8vIFRoaXMgdGFnIGFsbG93cyB1cyB0byB1bmlxdWVseSBpZGVudGlmeSB0aGlzIGFzIGEgUmVhY3QgRWxlbWVudFxuICAgICAgJCR0eXBlb2Y6IFJFQUNUX0VMRU1FTlRfVFlQRSxcbiAgICAgIC8vIEJ1aWx0LWluIHByb3BlcnRpZXMgdGhhdCBiZWxvbmcgb24gdGhlIGVsZW1lbnRcbiAgICAgIHR5cGU6IHR5cGUsXG4gICAgICBrZXk6IGtleSxcbiAgICAgIHJlZjogcmVmLFxuICAgICAgcHJvcHM6IHByb3BzLFxuICAgICAgLy8gUmVjb3JkIHRoZSBjb21wb25lbnQgcmVzcG9uc2libGUgZm9yIGNyZWF0aW5nIHRoaXMgZWxlbWVudC5cbiAgICAgIF9vd25lcjogb3duZXJcbiAgICB9O1xuICB9XG5cbiAge1xuICAgIC8vIFRoZSB2YWxpZGF0aW9uIGZsYWcgaXMgY3VycmVudGx5IG11dGF0aXZlLiBXZSBwdXQgaXQgb25cbiAgICAvLyBhbiBleHRlcm5hbCBiYWNraW5nIHN0b3JlIHNvIHRoYXQgd2UgY2FuIGZyZWV6ZSB0aGUgd2hvbGUgb2JqZWN0LlxuICAgIC8vIFRoaXMgY2FuIGJlIHJlcGxhY2VkIHdpdGggYSBXZWFrTWFwIG9uY2UgdGhleSBhcmUgaW1wbGVtZW50ZWQgaW5cbiAgICAvLyBjb21tb25seSB1c2VkIGRldmVsb3BtZW50IGVudmlyb25tZW50cy5cbiAgICBlbGVtZW50Ll9zdG9yZSA9IHt9OyAvLyBUbyBtYWtlIGNvbXBhcmluZyBSZWFjdEVsZW1lbnRzIGVhc2llciBmb3IgdGVzdGluZyBwdXJwb3Nlcywgd2UgbWFrZVxuICAgIC8vIHRoZSB2YWxpZGF0aW9uIGZsYWcgbm9uLWVudW1lcmFibGUgKHdoZXJlIHBvc3NpYmxlLCB3aGljaCBzaG91bGRcbiAgICAvLyBpbmNsdWRlIGV2ZXJ5IGVudmlyb25tZW50IHdlIHJ1biB0ZXN0cyBpbiksIHNvIHRoZSB0ZXN0IGZyYW1ld29ya1xuICAgIC8vIGlnbm9yZXMgaXQuXG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWxlbWVudC5fc3RvcmUsICd2YWxpZGF0ZWQnLCB7XG4gICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiBmYWxzZVxuICAgIH0pOyAvLyBkZWJ1Z0luZm8gY29udGFpbnMgU2VydmVyIENvbXBvbmVudCBkZWJ1ZyBpbmZvcm1hdGlvbi5cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50LCAnX2RlYnVnSW5mbycsIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IG51bGxcbiAgICB9KTtcblxuICAgIGlmIChPYmplY3QuZnJlZXplKSB7XG4gICAgICBPYmplY3QuZnJlZXplKGVsZW1lbnQucHJvcHMpO1xuICAgICAgT2JqZWN0LmZyZWV6ZShlbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZWxlbWVudDtcbn1cbnZhciBkaWRXYXJuQWJvdXRLZXlTcHJlYWQgPSB7fTtcbi8qKlxuICogaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0anMvcmZjcy9wdWxsLzEwN1xuICogQHBhcmFtIHsqfSB0eXBlXG4gKiBAcGFyYW0ge29iamVjdH0gcHJvcHNcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAqL1xuXG5mdW5jdGlvbiBqc3hERVYkMSh0eXBlLCBjb25maWcsIG1heWJlS2V5LCBpc1N0YXRpY0NoaWxkcmVuLCBzb3VyY2UsIHNlbGYpIHtcbiAge1xuICAgIGlmICghaXNWYWxpZEVsZW1lbnRUeXBlKHR5cGUpKSB7XG4gICAgICAvLyBUaGlzIGlzIGFuIGludmFsaWQgZWxlbWVudCB0eXBlLlxuICAgICAgLy9cbiAgICAgIC8vIFdlIHdhcm4gaW4gdGhpcyBjYXNlIGJ1dCBkb24ndCB0aHJvdy4gV2UgZXhwZWN0IHRoZSBlbGVtZW50IGNyZWF0aW9uIHRvXG4gICAgICAvLyBzdWNjZWVkIGFuZCB0aGVyZSB3aWxsIGxpa2VseSBiZSBlcnJvcnMgaW4gcmVuZGVyLlxuICAgICAgdmFyIGluZm8gPSAnJztcblxuICAgICAgaWYgKHR5cGUgPT09IHVuZGVmaW5lZCB8fCB0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcgJiYgdHlwZSAhPT0gbnVsbCAmJiBPYmplY3Qua2V5cyh0eXBlKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgaW5mbyArPSAnIFlvdSBsaWtlbHkgZm9yZ290IHRvIGV4cG9ydCB5b3VyIGNvbXBvbmVudCBmcm9tIHRoZSBmaWxlICcgKyBcIml0J3MgZGVmaW5lZCBpbiwgb3IgeW91IG1pZ2h0IGhhdmUgbWl4ZWQgdXAgZGVmYXVsdCBhbmQgbmFtZWQgaW1wb3J0cy5cIjtcbiAgICAgIH1cblxuICAgICAgdmFyIHR5cGVTdHJpbmc7XG5cbiAgICAgIGlmICh0eXBlID09PSBudWxsKSB7XG4gICAgICAgIHR5cGVTdHJpbmcgPSAnbnVsbCc7XG4gICAgICB9IGVsc2UgaWYgKGlzQXJyYXkodHlwZSkpIHtcbiAgICAgICAgdHlwZVN0cmluZyA9ICdhcnJheSc7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgIT09IHVuZGVmaW5lZCAmJiB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEUpIHtcbiAgICAgICAgdHlwZVN0cmluZyA9IFwiPFwiICsgKGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlLnR5cGUpIHx8ICdVbmtub3duJykgKyBcIiAvPlwiO1xuICAgICAgICBpbmZvID0gJyBEaWQgeW91IGFjY2lkZW50YWxseSBleHBvcnQgYSBKU1ggbGl0ZXJhbCBpbnN0ZWFkIG9mIGEgY29tcG9uZW50Pyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0eXBlU3RyaW5nID0gdHlwZW9mIHR5cGU7XG4gICAgICB9XG5cbiAgICAgIGVycm9yKCdSZWFjdC5qc3g6IHR5cGUgaXMgaW52YWxpZCAtLSBleHBlY3RlZCBhIHN0cmluZyAoZm9yICcgKyAnYnVpbHQtaW4gY29tcG9uZW50cykgb3IgYSBjbGFzcy9mdW5jdGlvbiAoZm9yIGNvbXBvc2l0ZSAnICsgJ2NvbXBvbmVudHMpIGJ1dCBnb3Q6ICVzLiVzJywgdHlwZVN0cmluZywgaW5mbyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRoaXMgaXMgYSB2YWxpZCBlbGVtZW50IHR5cGUuXG4gICAgICAvLyBTa2lwIGtleSB3YXJuaW5nIGlmIHRoZSB0eXBlIGlzbid0IHZhbGlkIHNpbmNlIG91ciBrZXkgdmFsaWRhdGlvbiBsb2dpY1xuICAgICAgLy8gZG9lc24ndCBleHBlY3QgYSBub24tc3RyaW5nL2Z1bmN0aW9uIHR5cGUgYW5kIGNhbiB0aHJvdyBjb25mdXNpbmdcbiAgICAgIC8vIGVycm9ycy4gV2UgZG9uJ3Qgd2FudCBleGNlcHRpb24gYmVoYXZpb3IgdG8gZGlmZmVyIGJldHdlZW4gZGV2IGFuZFxuICAgICAgLy8gcHJvZC4gKFJlbmRlcmluZyB3aWxsIHRocm93IHdpdGggYSBoZWxwZnVsIG1lc3NhZ2UgYW5kIGFzIHNvb24gYXMgdGhlXG4gICAgICAvLyB0eXBlIGlzIGZpeGVkLCB0aGUga2V5IHdhcm5pbmdzIHdpbGwgYXBwZWFyLilcbiAgICAgIHZhciBjaGlsZHJlbiA9IGNvbmZpZy5jaGlsZHJlbjtcblxuICAgICAgaWYgKGNoaWxkcmVuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGlzU3RhdGljQ2hpbGRyZW4pIHtcbiAgICAgICAgICBpZiAoaXNBcnJheShjaGlsZHJlbikpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgdmFsaWRhdGVDaGlsZEtleXMoY2hpbGRyZW5baV0sIHR5cGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoT2JqZWN0LmZyZWV6ZSkge1xuICAgICAgICAgICAgICBPYmplY3QuZnJlZXplKGNoaWxkcmVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXJyb3IoJ1JlYWN0LmpzeDogU3RhdGljIGNoaWxkcmVuIHNob3VsZCBhbHdheXMgYmUgYW4gYXJyYXkuICcgKyAnWW91IGFyZSBsaWtlbHkgZXhwbGljaXRseSBjYWxsaW5nIFJlYWN0LmpzeHMgb3IgUmVhY3QuanN4REVWLiAnICsgJ1VzZSB0aGUgQmFiZWwgdHJhbnNmb3JtIGluc3RlYWQuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbGlkYXRlQ2hpbGRLZXlzKGNoaWxkcmVuLCB0eXBlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gV2FybiBhYm91dCBrZXkgc3ByZWFkIHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGUgdHlwZSBpcyB2YWxpZC5cblxuXG4gICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCAna2V5JykpIHtcbiAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUpO1xuICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhjb25maWcpLmZpbHRlcihmdW5jdGlvbiAoaykge1xuICAgICAgICByZXR1cm4gayAhPT0gJ2tleSc7XG4gICAgICB9KTtcbiAgICAgIHZhciBiZWZvcmVFeGFtcGxlID0ga2V5cy5sZW5ndGggPiAwID8gJ3trZXk6IHNvbWVLZXksICcgKyBrZXlzLmpvaW4oJzogLi4uLCAnKSArICc6IC4uLn0nIDogJ3trZXk6IHNvbWVLZXl9JztcblxuICAgICAgaWYgKCFkaWRXYXJuQWJvdXRLZXlTcHJlYWRbY29tcG9uZW50TmFtZSArIGJlZm9yZUV4YW1wbGVdKSB7XG4gICAgICAgIHZhciBhZnRlckV4YW1wbGUgPSBrZXlzLmxlbmd0aCA+IDAgPyAneycgKyBrZXlzLmpvaW4oJzogLi4uLCAnKSArICc6IC4uLn0nIDogJ3t9JztcblxuICAgICAgICBlcnJvcignQSBwcm9wcyBvYmplY3QgY29udGFpbmluZyBhIFwia2V5XCIgcHJvcCBpcyBiZWluZyBzcHJlYWQgaW50byBKU1g6XFxuJyArICcgIGxldCBwcm9wcyA9ICVzO1xcbicgKyAnICA8JXMgey4uLnByb3BzfSAvPlxcbicgKyAnUmVhY3Qga2V5cyBtdXN0IGJlIHBhc3NlZCBkaXJlY3RseSB0byBKU1ggd2l0aG91dCB1c2luZyBzcHJlYWQ6XFxuJyArICcgIGxldCBwcm9wcyA9ICVzO1xcbicgKyAnICA8JXMga2V5PXtzb21lS2V5fSB7Li4ucHJvcHN9IC8+JywgYmVmb3JlRXhhbXBsZSwgY29tcG9uZW50TmFtZSwgYWZ0ZXJFeGFtcGxlLCBjb21wb25lbnROYW1lKTtcblxuICAgICAgICBkaWRXYXJuQWJvdXRLZXlTcHJlYWRbY29tcG9uZW50TmFtZSArIGJlZm9yZUV4YW1wbGVdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcHJvcE5hbWU7IC8vIFJlc2VydmVkIG5hbWVzIGFyZSBleHRyYWN0ZWRcblxuICAgIHZhciBwcm9wcyA9IHt9O1xuICAgIHZhciBrZXkgPSBudWxsO1xuICAgIHZhciByZWYgPSBudWxsOyAvLyBDdXJyZW50bHksIGtleSBjYW4gYmUgc3ByZWFkIGluIGFzIGEgcHJvcC4gVGhpcyBjYXVzZXMgYSBwb3RlbnRpYWxcbiAgICAvLyBpc3N1ZSBpZiBrZXkgaXMgYWxzbyBleHBsaWNpdGx5IGRlY2xhcmVkIChpZS4gPGRpdiB7Li4ucHJvcHN9IGtleT1cIkhpXCIgLz5cbiAgICAvLyBvciA8ZGl2IGtleT1cIkhpXCIgey4uLnByb3BzfSAvPiApLiBXZSB3YW50IHRvIGRlcHJlY2F0ZSBrZXkgc3ByZWFkLFxuICAgIC8vIGJ1dCBhcyBhbiBpbnRlcm1lZGlhcnkgc3RlcCwgd2Ugd2lsbCB1c2UganN4REVWIGZvciBldmVyeXRoaW5nIGV4Y2VwdFxuICAgIC8vIDxkaXYgey4uLnByb3BzfSBrZXk9XCJIaVwiIC8+LCBiZWNhdXNlIHdlIGFyZW4ndCBjdXJyZW50bHkgYWJsZSB0byB0ZWxsIGlmXG4gICAgLy8ga2V5IGlzIGV4cGxpY2l0bHkgZGVjbGFyZWQgdG8gYmUgdW5kZWZpbmVkIG9yIG5vdC5cblxuICAgIGlmIChtYXliZUtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB7XG4gICAgICAgIGNoZWNrS2V5U3RyaW5nQ29lcmNpb24obWF5YmVLZXkpO1xuICAgICAgfVxuXG4gICAgICBrZXkgPSAnJyArIG1heWJlS2V5O1xuICAgIH1cblxuICAgIGlmIChoYXNWYWxpZEtleShjb25maWcpKSB7XG4gICAgICB7XG4gICAgICAgIGNoZWNrS2V5U3RyaW5nQ29lcmNpb24oY29uZmlnLmtleSk7XG4gICAgICB9XG5cbiAgICAgIGtleSA9ICcnICsgY29uZmlnLmtleTtcbiAgICB9XG5cbiAgICBpZiAoaGFzVmFsaWRSZWYoY29uZmlnKSkge1xuICAgICAge1xuICAgICAgICByZWYgPSBjb25maWcucmVmO1xuICAgICAgfVxuXG4gICAgICB3YXJuSWZTdHJpbmdSZWZDYW5ub3RCZUF1dG9Db252ZXJ0ZWQoY29uZmlnLCBzZWxmKTtcbiAgICB9IC8vIFJlbWFpbmluZyBwcm9wZXJ0aWVzIGFyZSBhZGRlZCB0byBhIG5ldyBwcm9wcyBvYmplY3RcblxuXG4gICAgZm9yIChwcm9wTmFtZSBpbiBjb25maWcpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgcHJvcE5hbWUpICYmIC8vIFNraXAgb3ZlciByZXNlcnZlZCBwcm9wIG5hbWVzXG4gICAgICBwcm9wTmFtZSAhPT0gJ2tleScgJiYgKHByb3BOYW1lICE9PSAncmVmJykpIHtcbiAgICAgICAgcHJvcHNbcHJvcE5hbWVdID0gY29uZmlnW3Byb3BOYW1lXTtcbiAgICAgIH1cbiAgICB9IC8vIFJlc29sdmUgZGVmYXVsdCBwcm9wc1xuXG5cbiAgICBpZiAodHlwZSAmJiB0eXBlLmRlZmF1bHRQcm9wcykge1xuICAgICAgdmFyIGRlZmF1bHRQcm9wcyA9IHR5cGUuZGVmYXVsdFByb3BzO1xuXG4gICAgICBmb3IgKHByb3BOYW1lIGluIGRlZmF1bHRQcm9wcykge1xuICAgICAgICBpZiAocHJvcHNbcHJvcE5hbWVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBwcm9wc1twcm9wTmFtZV0gPSBkZWZhdWx0UHJvcHNbcHJvcE5hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGtleSB8fCByZWYpIHtcbiAgICAgIHZhciBkaXNwbGF5TmFtZSA9IHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nID8gdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWUgfHwgJ1Vua25vd24nIDogdHlwZTtcblxuICAgICAgaWYgKGtleSkge1xuICAgICAgICBkZWZpbmVLZXlQcm9wV2FybmluZ0dldHRlcihwcm9wcywgZGlzcGxheU5hbWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVmKSB7XG4gICAgICAgIGRlZmluZVJlZlByb3BXYXJuaW5nR2V0dGVyKHByb3BzLCBkaXNwbGF5TmFtZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGVsZW1lbnQgPSBSZWFjdEVsZW1lbnQodHlwZSwga2V5LCByZWYsIHNlbGYsIHNvdXJjZSwgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCwgcHJvcHMpO1xuXG4gICAgaWYgKHR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUpIHtcbiAgICAgIHZhbGlkYXRlRnJhZ21lbnRQcm9wcyhlbGVtZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0oKSB7XG4gIHtcbiAgICBpZiAoUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCkge1xuICAgICAgdmFyIG5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoUmVhY3RDdXJyZW50T3duZXIuY3VycmVudC50eXBlKTtcblxuICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuICdcXG5cXG5DaGVjayB0aGUgcmVuZGVyIG1ldGhvZCBvZiBgJyArIG5hbWUgKyAnYC4nO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAnJztcbiAgfVxufVxuLyoqXG4gKiBFbnN1cmUgdGhhdCBldmVyeSBlbGVtZW50IGVpdGhlciBpcyBwYXNzZWQgaW4gYSBzdGF0aWMgbG9jYXRpb24sIGluIGFuXG4gKiBhcnJheSB3aXRoIGFuIGV4cGxpY2l0IGtleXMgcHJvcGVydHkgZGVmaW5lZCwgb3IgaW4gYW4gb2JqZWN0IGxpdGVyYWxcbiAqIHdpdGggdmFsaWQga2V5IHByb3BlcnR5LlxuICpcbiAqIEBpbnRlcm5hbFxuICogQHBhcmFtIHtSZWFjdE5vZGV9IG5vZGUgU3RhdGljYWxseSBwYXNzZWQgY2hpbGQgb2YgYW55IHR5cGUuXG4gKiBAcGFyYW0geyp9IHBhcmVudFR5cGUgbm9kZSdzIHBhcmVudCdzIHR5cGUuXG4gKi9cblxuXG5mdW5jdGlvbiB2YWxpZGF0ZUNoaWxkS2V5cyhub2RlLCBwYXJlbnRUeXBlKSB7XG4gIHtcbiAgICBpZiAodHlwZW9mIG5vZGUgIT09ICdvYmplY3QnIHx8ICFub2RlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG5vZGUuJCR0eXBlb2YgPT09IFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UpIDsgZWxzZSBpZiAoaXNBcnJheShub2RlKSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjaGlsZCA9IG5vZGVbaV07XG5cbiAgICAgICAgaWYgKGlzVmFsaWRFbGVtZW50KGNoaWxkKSkge1xuICAgICAgICAgIHZhbGlkYXRlRXhwbGljaXRLZXkoY2hpbGQsIHBhcmVudFR5cGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc1ZhbGlkRWxlbWVudChub2RlKSkge1xuICAgICAgLy8gVGhpcyBlbGVtZW50IHdhcyBwYXNzZWQgaW4gYSB2YWxpZCBsb2NhdGlvbi5cbiAgICAgIGlmIChub2RlLl9zdG9yZSkge1xuICAgICAgICBub2RlLl9zdG9yZS52YWxpZGF0ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4obm9kZSk7XG5cbiAgICAgIGlmICh0eXBlb2YgaXRlcmF0b3JGbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBFbnRyeSBpdGVyYXRvcnMgdXNlZCB0byBwcm92aWRlIGltcGxpY2l0IGtleXMsXG4gICAgICAgIC8vIGJ1dCBub3cgd2UgcHJpbnQgYSBzZXBhcmF0ZSB3YXJuaW5nIGZvciB0aGVtIGxhdGVyLlxuICAgICAgICBpZiAoaXRlcmF0b3JGbiAhPT0gbm9kZS5lbnRyaWVzKSB7XG4gICAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKG5vZGUpO1xuICAgICAgICAgIHZhciBzdGVwO1xuXG4gICAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICAgICAgaWYgKGlzVmFsaWRFbGVtZW50KHN0ZXAudmFsdWUpKSB7XG4gICAgICAgICAgICAgIHZhbGlkYXRlRXhwbGljaXRLZXkoc3RlcC52YWx1ZSwgcGFyZW50VHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4vKipcbiAqIFZlcmlmaWVzIHRoZSBvYmplY3QgaXMgYSBSZWFjdEVsZW1lbnQuXG4gKiBTZWUgaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL3JlYWN0LWFwaS5odG1sI2lzdmFsaWRlbGVtZW50XG4gKiBAcGFyYW0gez9vYmplY3R9IG9iamVjdFxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBgb2JqZWN0YCBpcyBhIFJlYWN0RWxlbWVudC5cbiAqIEBmaW5hbFxuICovXG5cblxuZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnQob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJiBvYmplY3QgIT09IG51bGwgJiYgb2JqZWN0LiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEU7XG59XG52YXIgb3duZXJIYXNLZXlVc2VXYXJuaW5nID0ge307XG4vKipcbiAqIFdhcm4gaWYgdGhlIGVsZW1lbnQgZG9lc24ndCBoYXZlIGFuIGV4cGxpY2l0IGtleSBhc3NpZ25lZCB0byBpdC5cbiAqIFRoaXMgZWxlbWVudCBpcyBpbiBhbiBhcnJheS4gVGhlIGFycmF5IGNvdWxkIGdyb3cgYW5kIHNocmluayBvciBiZVxuICogcmVvcmRlcmVkLiBBbGwgY2hpbGRyZW4gdGhhdCBoYXZlbid0IGFscmVhZHkgYmVlbiB2YWxpZGF0ZWQgYXJlIHJlcXVpcmVkIHRvXG4gKiBoYXZlIGEgXCJrZXlcIiBwcm9wZXJ0eSBhc3NpZ25lZCB0byBpdC4gRXJyb3Igc3RhdHVzZXMgYXJlIGNhY2hlZCBzbyBhIHdhcm5pbmdcbiAqIHdpbGwgb25seSBiZSBzaG93biBvbmNlLlxuICpcbiAqIEBpbnRlcm5hbFxuICogQHBhcmFtIHtSZWFjdEVsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCB0aGF0IHJlcXVpcmVzIGEga2V5LlxuICogQHBhcmFtIHsqfSBwYXJlbnRUeXBlIGVsZW1lbnQncyBwYXJlbnQncyB0eXBlLlxuICovXG5cbmZ1bmN0aW9uIHZhbGlkYXRlRXhwbGljaXRLZXkoZWxlbWVudCwgcGFyZW50VHlwZSkge1xuICB7XG4gICAgaWYgKCFlbGVtZW50Ll9zdG9yZSB8fCBlbGVtZW50Ll9zdG9yZS52YWxpZGF0ZWQgfHwgZWxlbWVudC5rZXkgIT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZCA9IHRydWU7XG4gICAgdmFyIGN1cnJlbnRDb21wb25lbnRFcnJvckluZm8gPSBnZXRDdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvKHBhcmVudFR5cGUpO1xuXG4gICAgaWYgKG93bmVySGFzS2V5VXNlV2FybmluZ1tjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG93bmVySGFzS2V5VXNlV2FybmluZ1tjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvXSA9IHRydWU7IC8vIFVzdWFsbHkgdGhlIGN1cnJlbnQgb3duZXIgaXMgdGhlIG9mZmVuZGVyLCBidXQgaWYgaXQgYWNjZXB0cyBjaGlsZHJlbiBhcyBhXG4gICAgLy8gcHJvcGVydHksIGl0IG1heSBiZSB0aGUgY3JlYXRvciBvZiB0aGUgY2hpbGQgdGhhdCdzIHJlc3BvbnNpYmxlIGZvclxuICAgIC8vIGFzc2lnbmluZyBpdCBhIGtleS5cblxuICAgIHZhciBjaGlsZE93bmVyID0gJyc7XG5cbiAgICBpZiAoZWxlbWVudCAmJiBlbGVtZW50Ll9vd25lciAmJiBlbGVtZW50Ll9vd25lciAhPT0gUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCkge1xuICAgICAgLy8gR2l2ZSB0aGUgY29tcG9uZW50IHRoYXQgb3JpZ2luYWxseSBjcmVhdGVkIHRoaXMgY2hpbGQuXG4gICAgICBjaGlsZE93bmVyID0gXCIgSXQgd2FzIHBhc3NlZCBhIGNoaWxkIGZyb20gXCIgKyBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoZWxlbWVudC5fb3duZXIudHlwZSkgKyBcIi5cIjtcbiAgICB9XG5cbiAgICBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudChlbGVtZW50KTtcblxuICAgIGVycm9yKCdFYWNoIGNoaWxkIGluIGEgbGlzdCBzaG91bGQgaGF2ZSBhIHVuaXF1ZSBcImtleVwiIHByb3AuJyArICclcyVzIFNlZSBodHRwczovL3JlYWN0anMub3JnL2xpbmsvd2FybmluZy1rZXlzIGZvciBtb3JlIGluZm9ybWF0aW9uLicsIGN1cnJlbnRDb21wb25lbnRFcnJvckluZm8sIGNoaWxkT3duZXIpO1xuXG4gICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQobnVsbCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQoZWxlbWVudCkge1xuICB7XG4gICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgIHZhciBvd25lciA9IGVsZW1lbnQuX293bmVyO1xuICAgICAgdmFyIHN0YWNrID0gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKGVsZW1lbnQudHlwZSwgb3duZXIgPyBvd25lci50eXBlIDogbnVsbCk7XG4gICAgICBSZWFjdERlYnVnQ3VycmVudEZyYW1lLnNldEV4dHJhU3RhY2tGcmFtZShzdGFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIFJlYWN0RGVidWdDdXJyZW50RnJhbWUuc2V0RXh0cmFTdGFja0ZyYW1lKG51bGwpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRDdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvKHBhcmVudFR5cGUpIHtcbiAge1xuICAgIHZhciBpbmZvID0gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCk7XG5cbiAgICBpZiAoIWluZm8pIHtcbiAgICAgIHZhciBwYXJlbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHBhcmVudFR5cGUpO1xuXG4gICAgICBpZiAocGFyZW50TmFtZSkge1xuICAgICAgICBpbmZvID0gXCJcXG5cXG5DaGVjayB0aGUgdG9wLWxldmVsIHJlbmRlciBjYWxsIHVzaW5nIDxcIiArIHBhcmVudE5hbWUgKyBcIj4uXCI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGluZm87XG4gIH1cbn1cbi8qKlxuICogR2l2ZW4gYSBmcmFnbWVudCwgdmFsaWRhdGUgdGhhdCBpdCBjYW4gb25seSBiZSBwcm92aWRlZCB3aXRoIGZyYWdtZW50IHByb3BzXG4gKiBAcGFyYW0ge1JlYWN0RWxlbWVudH0gZnJhZ21lbnRcbiAqL1xuXG5cbmZ1bmN0aW9uIHZhbGlkYXRlRnJhZ21lbnRQcm9wcyhmcmFnbWVudCkge1xuICAvLyBUT0RPOiBNb3ZlIHRoaXMgdG8gcmVuZGVyIHBoYXNlIGluc3RlYWQgb2YgYXQgZWxlbWVudCBjcmVhdGlvbi5cbiAge1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZnJhZ21lbnQucHJvcHMpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpXTtcblxuICAgICAgaWYgKGtleSAhPT0gJ2NoaWxkcmVuJyAmJiBrZXkgIT09ICdrZXknKSB7XG4gICAgICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KGZyYWdtZW50KTtcblxuICAgICAgICBlcnJvcignSW52YWxpZCBwcm9wIGAlc2Agc3VwcGxpZWQgdG8gYFJlYWN0LkZyYWdtZW50YC4gJyArICdSZWFjdC5GcmFnbWVudCBjYW4gb25seSBoYXZlIGBrZXlgIGFuZCBgY2hpbGRyZW5gIHByb3BzLicsIGtleSk7XG5cbiAgICAgICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQobnVsbCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChmcmFnbWVudC5yZWYgIT09IG51bGwpIHtcbiAgICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KGZyYWdtZW50KTtcblxuICAgICAgZXJyb3IoJ0ludmFsaWQgYXR0cmlidXRlIGByZWZgIHN1cHBsaWVkIHRvIGBSZWFjdC5GcmFnbWVudGAuJyk7XG5cbiAgICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KG51bGwpO1xuICAgIH1cbiAgfVxufVxuXG52YXIganN4REVWID0ganN4REVWJDEgO1xuXG5leHBvcnRzLkZyYWdtZW50ID0gUkVBQ1RfRlJBR01FTlRfVFlQRTtcbmV4cG9ydHMuanN4REVWID0ganN4REVWO1xuICB9KSgpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js":
/*!******************************************************************!*\
  !*** ./node_modules/next/dist/compiled/react/jsx-dev-runtime.js ***!
  \******************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n\nif (false) {} else {\n  module.exports = __webpack_require__(/*! ./cjs/react-jsx-dev-runtime.development.js */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvcmVhY3QvanN4LWRldi1ydW50aW1lLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLElBQUksS0FBcUMsRUFBRSxFQUUxQyxDQUFDO0FBQ0YsRUFBRSw4TEFBc0U7QUFDeEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jb21waWxlZC9yZWFjdC9qc3gtZGV2LXJ1bnRpbWUuanM/NDJmMCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtanN4LWRldi1ydW50aW1lLnByb2R1Y3Rpb24ubWluLmpzJyk7XG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qcycpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/zustand/esm/index.mjs":
/*!********************************************!*\
  !*** ./node_modules/zustand/esm/index.mjs ***!
  \********************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   create: function() { return /* binding */ create; },\n/* harmony export */   createStore: function() { return /* reexport safe */ zustand_vanilla__WEBPACK_IMPORTED_MODULE_0__.createStore; },\n/* harmony export */   \"default\": function() { return /* binding */ react; },\n/* harmony export */   useStore: function() { return /* binding */ useStore; }\n/* harmony export */ });\n/* harmony import */ var zustand_vanilla__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zustand/vanilla */ \"(app-pages-browser)/./node_modules/zustand/esm/vanilla.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var use_sync_external_store_shim_with_selector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! use-sync-external-store/shim/with-selector.js */ \"(app-pages-browser)/./node_modules/use-sync-external-store/shim/with-selector.js\");\n\n\n\n\n\nconst { useDebugValue } = react__WEBPACK_IMPORTED_MODULE_1__;\nconst { useSyncExternalStoreWithSelector } = use_sync_external_store_shim_with_selector_js__WEBPACK_IMPORTED_MODULE_2__;\nlet didWarnAboutEqualityFn = false;\nconst identity = (arg) => arg;\nfunction useStore(api, selector = identity, equalityFn) {\n  if (( false ? 0 : void 0) !== \"production\" && equalityFn && !didWarnAboutEqualityFn) {\n    console.warn(\n      \"[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937\"\n    );\n    didWarnAboutEqualityFn = true;\n  }\n  const slice = useSyncExternalStoreWithSelector(\n    api.subscribe,\n    api.getState,\n    api.getServerState || api.getInitialState,\n    selector,\n    equalityFn\n  );\n  useDebugValue(slice);\n  return slice;\n}\nconst createImpl = (createState) => {\n  if (( false ? 0 : void 0) !== \"production\" && typeof createState !== \"function\") {\n    console.warn(\n      \"[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.\"\n    );\n  }\n  const api = typeof createState === \"function\" ? (0,zustand_vanilla__WEBPACK_IMPORTED_MODULE_0__.createStore)(createState) : createState;\n  const useBoundStore = (selector, equalityFn) => useStore(api, selector, equalityFn);\n  Object.assign(useBoundStore, api);\n  return useBoundStore;\n};\nconst create = (createState) => createState ? createImpl(createState) : createImpl;\nvar react = (createState) => {\n  if (( false ? 0 : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`.\"\n    );\n  }\n  return create(createState);\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy96dXN0YW5kL2VzbS9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUE4QztBQUNkO0FBQ0M7QUFDdUQ7O0FBRXhGLFFBQVEsZ0JBQWdCLEVBQUUsa0NBQVk7QUFDdEMsUUFBUSxtQ0FBbUMsRUFBRSwwRUFBMkI7QUFDeEU7QUFDQTtBQUNBO0FBQ0EsT0FBTyxNQUFlLEdBQUcsQ0FBb0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLE1BQWUsR0FBRyxDQUFvQjtBQUM3QztBQUNBLDJHQUEyRyxXQUFXO0FBQ3RIO0FBQ0E7QUFDQSxrREFBa0QsNERBQVc7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxNQUFlLEdBQUcsQ0FBb0I7QUFDN0M7QUFDQSx3RUFBd0UsU0FBUztBQUNqRjtBQUNBO0FBQ0E7QUFDQTs7QUFFOEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3p1c3RhbmQvZXNtL2luZGV4Lm1qcz9kNTE4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZVN0b3JlIH0gZnJvbSAnenVzdGFuZC92YW5pbGxhJztcbmV4cG9ydCAqIGZyb20gJ3p1c3RhbmQvdmFuaWxsYSc7XG5pbXBvcnQgUmVhY3RFeHBvcnRzIGZyb20gJ3JlYWN0JztcbmltcG9ydCB1c2VTeW5jRXh0ZXJuYWxTdG9yZUV4cG9ydHMgZnJvbSAndXNlLXN5bmMtZXh0ZXJuYWwtc3RvcmUvc2hpbS93aXRoLXNlbGVjdG9yLmpzJztcblxuY29uc3QgeyB1c2VEZWJ1Z1ZhbHVlIH0gPSBSZWFjdEV4cG9ydHM7XG5jb25zdCB7IHVzZVN5bmNFeHRlcm5hbFN0b3JlV2l0aFNlbGVjdG9yIH0gPSB1c2VTeW5jRXh0ZXJuYWxTdG9yZUV4cG9ydHM7XG5sZXQgZGlkV2FybkFib3V0RXF1YWxpdHlGbiA9IGZhbHNlO1xuY29uc3QgaWRlbnRpdHkgPSAoYXJnKSA9PiBhcmc7XG5mdW5jdGlvbiB1c2VTdG9yZShhcGksIHNlbGVjdG9yID0gaWRlbnRpdHksIGVxdWFsaXR5Rm4pIHtcbiAgaWYgKChpbXBvcnQubWV0YS5lbnYgPyBpbXBvcnQubWV0YS5lbnYuTU9ERSA6IHZvaWQgMCkgIT09IFwicHJvZHVjdGlvblwiICYmIGVxdWFsaXR5Rm4gJiYgIWRpZFdhcm5BYm91dEVxdWFsaXR5Rm4pIHtcbiAgICBjb25zb2xlLndhcm4oXG4gICAgICBcIltERVBSRUNBVEVEXSBVc2UgYGNyZWF0ZVdpdGhFcXVhbGl0eUZuYCBpbnN0ZWFkIG9mIGBjcmVhdGVgIG9yIHVzZSBgdXNlU3RvcmVXaXRoRXF1YWxpdHlGbmAgaW5zdGVhZCBvZiBgdXNlU3RvcmVgLiBUaGV5IGNhbiBiZSBpbXBvcnRlZCBmcm9tICd6dXN0YW5kL3RyYWRpdGlvbmFsJy4gaHR0cHM6Ly9naXRodWIuY29tL3BtbmRycy96dXN0YW5kL2Rpc2N1c3Npb25zLzE5MzdcIlxuICAgICk7XG4gICAgZGlkV2FybkFib3V0RXF1YWxpdHlGbiA9IHRydWU7XG4gIH1cbiAgY29uc3Qgc2xpY2UgPSB1c2VTeW5jRXh0ZXJuYWxTdG9yZVdpdGhTZWxlY3RvcihcbiAgICBhcGkuc3Vic2NyaWJlLFxuICAgIGFwaS5nZXRTdGF0ZSxcbiAgICBhcGkuZ2V0U2VydmVyU3RhdGUgfHwgYXBpLmdldEluaXRpYWxTdGF0ZSxcbiAgICBzZWxlY3RvcixcbiAgICBlcXVhbGl0eUZuXG4gICk7XG4gIHVzZURlYnVnVmFsdWUoc2xpY2UpO1xuICByZXR1cm4gc2xpY2U7XG59XG5jb25zdCBjcmVhdGVJbXBsID0gKGNyZWF0ZVN0YXRlKSA9PiB7XG4gIGlmICgoaW1wb3J0Lm1ldGEuZW52ID8gaW1wb3J0Lm1ldGEuZW52Lk1PREUgOiB2b2lkIDApICE9PSBcInByb2R1Y3Rpb25cIiAmJiB0eXBlb2YgY3JlYXRlU3RhdGUgIT09IFwiZnVuY3Rpb25cIikge1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgIFwiW0RFUFJFQ0FURURdIFBhc3NpbmcgYSB2YW5pbGxhIHN0b3JlIHdpbGwgYmUgdW5zdXBwb3J0ZWQgaW4gYSBmdXR1cmUgdmVyc2lvbi4gSW5zdGVhZCB1c2UgYGltcG9ydCB7IHVzZVN0b3JlIH0gZnJvbSAnenVzdGFuZCdgLlwiXG4gICAgKTtcbiAgfVxuICBjb25zdCBhcGkgPSB0eXBlb2YgY3JlYXRlU3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IGNyZWF0ZVN0b3JlKGNyZWF0ZVN0YXRlKSA6IGNyZWF0ZVN0YXRlO1xuICBjb25zdCB1c2VCb3VuZFN0b3JlID0gKHNlbGVjdG9yLCBlcXVhbGl0eUZuKSA9PiB1c2VTdG9yZShhcGksIHNlbGVjdG9yLCBlcXVhbGl0eUZuKTtcbiAgT2JqZWN0LmFzc2lnbih1c2VCb3VuZFN0b3JlLCBhcGkpO1xuICByZXR1cm4gdXNlQm91bmRTdG9yZTtcbn07XG5jb25zdCBjcmVhdGUgPSAoY3JlYXRlU3RhdGUpID0+IGNyZWF0ZVN0YXRlID8gY3JlYXRlSW1wbChjcmVhdGVTdGF0ZSkgOiBjcmVhdGVJbXBsO1xudmFyIHJlYWN0ID0gKGNyZWF0ZVN0YXRlKSA9PiB7XG4gIGlmICgoaW1wb3J0Lm1ldGEuZW52ID8gaW1wb3J0Lm1ldGEuZW52Lk1PREUgOiB2b2lkIDApICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgIFwiW0RFUFJFQ0FURURdIERlZmF1bHQgZXhwb3J0IGlzIGRlcHJlY2F0ZWQuIEluc3RlYWQgdXNlIGBpbXBvcnQgeyBjcmVhdGUgfSBmcm9tICd6dXN0YW5kJ2AuXCJcbiAgICApO1xuICB9XG4gIHJldHVybiBjcmVhdGUoY3JlYXRlU3RhdGUpO1xufTtcblxuZXhwb3J0IHsgY3JlYXRlLCByZWFjdCBhcyBkZWZhdWx0LCB1c2VTdG9yZSB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/zustand/esm/index.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/zustand/esm/vanilla.mjs":
/*!**********************************************!*\
  !*** ./node_modules/zustand/esm/vanilla.mjs ***!
  \**********************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createStore: function() { return /* binding */ createStore; },\n/* harmony export */   \"default\": function() { return /* binding */ vanilla; }\n/* harmony export */ });\nconst createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\" || nextState === null) ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const getInitialState = () => initialState;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const destroy = () => {\n    if (( false ? 0 : void 0) !== \"production\") {\n      console.warn(\n        \"[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected.\"\n      );\n    }\n    listeners.clear();\n  };\n  const api = { setState, getState, getInitialState, subscribe, destroy };\n  const initialState = state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = (createState) => createState ? createStoreImpl(createState) : createStoreImpl;\nvar vanilla = (createState) => {\n  if (( false ? 0 : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use import { createStore } from 'zustand/vanilla'.\"\n    );\n  }\n  return createStore(createState);\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy96dXN0YW5kL2VzbS92YW5pbGxhLm1qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEhBQThIO0FBQzlIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxNQUFlLEdBQUcsQ0FBb0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLE1BQWUsR0FBRyxDQUFvQjtBQUM3QztBQUNBLHVFQUF1RSxjQUFjO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBOztBQUUyQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvenVzdGFuZC9lc20vdmFuaWxsYS5tanM/YjRlNCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBjcmVhdGVTdG9yZUltcGwgPSAoY3JlYXRlU3RhdGUpID0+IHtcbiAgbGV0IHN0YXRlO1xuICBjb25zdCBsaXN0ZW5lcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBjb25zdCBzZXRTdGF0ZSA9IChwYXJ0aWFsLCByZXBsYWNlKSA9PiB7XG4gICAgY29uc3QgbmV4dFN0YXRlID0gdHlwZW9mIHBhcnRpYWwgPT09IFwiZnVuY3Rpb25cIiA/IHBhcnRpYWwoc3RhdGUpIDogcGFydGlhbDtcbiAgICBpZiAoIU9iamVjdC5pcyhuZXh0U3RhdGUsIHN0YXRlKSkge1xuICAgICAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHN0YXRlO1xuICAgICAgc3RhdGUgPSAocmVwbGFjZSAhPSBudWxsID8gcmVwbGFjZSA6IHR5cGVvZiBuZXh0U3RhdGUgIT09IFwib2JqZWN0XCIgfHwgbmV4dFN0YXRlID09PSBudWxsKSA/IG5leHRTdGF0ZSA6IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCBuZXh0U3RhdGUpO1xuICAgICAgbGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiBsaXN0ZW5lcihzdGF0ZSwgcHJldmlvdXNTdGF0ZSkpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgZ2V0U3RhdGUgPSAoKSA9PiBzdGF0ZTtcbiAgY29uc3QgZ2V0SW5pdGlhbFN0YXRlID0gKCkgPT4gaW5pdGlhbFN0YXRlO1xuICBjb25zdCBzdWJzY3JpYmUgPSAobGlzdGVuZXIpID0+IHtcbiAgICBsaXN0ZW5lcnMuYWRkKGxpc3RlbmVyKTtcbiAgICByZXR1cm4gKCkgPT4gbGlzdGVuZXJzLmRlbGV0ZShsaXN0ZW5lcik7XG4gIH07XG4gIGNvbnN0IGRlc3Ryb3kgPSAoKSA9PiB7XG4gICAgaWYgKChpbXBvcnQubWV0YS5lbnYgPyBpbXBvcnQubWV0YS5lbnYuTU9ERSA6IHZvaWQgMCkgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIFwiW0RFUFJFQ0FURURdIFRoZSBgZGVzdHJveWAgbWV0aG9kIHdpbGwgYmUgdW5zdXBwb3J0ZWQgaW4gYSBmdXR1cmUgdmVyc2lvbi4gSW5zdGVhZCB1c2UgdW5zdWJzY3JpYmUgZnVuY3Rpb24gcmV0dXJuZWQgYnkgc3Vic2NyaWJlLiBFdmVyeXRoaW5nIHdpbGwgYmUgZ2FyYmFnZS1jb2xsZWN0ZWQgaWYgc3RvcmUgaXMgZ2FyYmFnZS1jb2xsZWN0ZWQuXCJcbiAgICAgICk7XG4gICAgfVxuICAgIGxpc3RlbmVycy5jbGVhcigpO1xuICB9O1xuICBjb25zdCBhcGkgPSB7IHNldFN0YXRlLCBnZXRTdGF0ZSwgZ2V0SW5pdGlhbFN0YXRlLCBzdWJzY3JpYmUsIGRlc3Ryb3kgfTtcbiAgY29uc3QgaW5pdGlhbFN0YXRlID0gc3RhdGUgPSBjcmVhdGVTdGF0ZShzZXRTdGF0ZSwgZ2V0U3RhdGUsIGFwaSk7XG4gIHJldHVybiBhcGk7XG59O1xuY29uc3QgY3JlYXRlU3RvcmUgPSAoY3JlYXRlU3RhdGUpID0+IGNyZWF0ZVN0YXRlID8gY3JlYXRlU3RvcmVJbXBsKGNyZWF0ZVN0YXRlKSA6IGNyZWF0ZVN0b3JlSW1wbDtcbnZhciB2YW5pbGxhID0gKGNyZWF0ZVN0YXRlKSA9PiB7XG4gIGlmICgoaW1wb3J0Lm1ldGEuZW52ID8gaW1wb3J0Lm1ldGEuZW52Lk1PREUgOiB2b2lkIDApICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgIFwiW0RFUFJFQ0FURURdIERlZmF1bHQgZXhwb3J0IGlzIGRlcHJlY2F0ZWQuIEluc3RlYWQgdXNlIGltcG9ydCB7IGNyZWF0ZVN0b3JlIH0gZnJvbSAnenVzdGFuZC92YW5pbGxhJy5cIlxuICAgICk7XG4gIH1cbiAgcmV0dXJuIGNyZWF0ZVN0b3JlKGNyZWF0ZVN0YXRlKTtcbn07XG5cbmV4cG9ydCB7IGNyZWF0ZVN0b3JlLCB2YW5pbGxhIGFzIGRlZmF1bHQgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/zustand/esm/vanilla.mjs\n"));

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }
/******/ __webpack_require__.O(0, ["main-app"], function() { return __webpack_exec__("(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fmilodavidson%2FDocuments%2FGitHub%2Ffirebird-interactive-attempt2%2Fsrc%2Fcomponents%2FInteractiveListeningMap.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&server=false!"); });
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ _N_E = __webpack_exports__;
/******/ }
]);