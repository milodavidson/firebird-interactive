@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --color-brand-red: #e22237;
  --color-brand-pink: #ffc2d1;
  --color-brand-navy: #132067;
}

html, body, #__next {
  height: 100%;
}

body {
  background-color: #ffffff;
  color: #0a0a0a;
  margin: 0;
}

/* Mobile scroll smoothing: reduce jitter/bounce when overscrolling at page edges */
html, body {
  -webkit-overflow-scrolling: touch; /* smoother momentum scrolling on iOS */
  overscroll-behavior-y: contain; /* prevent scroll chaining into parent contexts */
  touch-action: pan-y; /* hint to browser we're only scrolling vertically */
}

.card {
  @apply rounded-xl border border-gray-200 bg-white shadow-sm;
}

.btn {
  @apply inline-flex items-center justify-center rounded-md px-3 py-2 text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2;
}

.btn-primary {
  @apply bg-[var(--color-brand-navy)] text-white hover:bg-[#0f1a53] focus-visible:ring-[var(--color-brand-navy)];
}

.btn-outline {
  @apply border border-gray-300 bg-white hover:bg-gray-50;
}

/* Motion and animations */
@media (prefers-reduced-motion: no-preference) {
  .pressable {
    transition: transform 150ms ease, box-shadow 150ms ease, background-color 150ms ease, color 150ms ease, border-color 150ms ease;
  }
  .pressable:active { transform: scale(0.97); }
  /* Glow pulse for completion */
  @keyframes glowPulse { 0%,100% { box-shadow: 0 0 0 0 rgba(226,34,55,0.0) } 50% { box-shadow: 0 0 0 6px rgba(226,34,55,0.25) } }
  .glow-pulse { animation: glowPulse 1200ms ease-out 1; }
  /* (removed) shimmer animation for progress bar */
}

/* Denial shake */
@keyframes shake-x { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-2px);} 75% { transform: translateX(2px);} }
.animate-shake-x { animation: shake-x 180ms ease-in-out; }
@media (prefers-reduced-motion: reduce) {
  .animate-shake-x { animation: none !important; }
}

/* Queue shimmer on mount */
@keyframes shimmer { 0% { transform: translateX(-100%); } 100% { transform: translateX(100%);} }
.shimmer:before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.7) 50%, rgba(255,255,255,0) 100%);
  animation: shimmer 700ms ease-out forwards;
}

@media (prefers-reduced-motion: reduce) {
  .shimmer:before { animation: none !important; }
}

/* Simple confetti container hook (can be enhanced later) */
.confetti-wrap::before, .confetti-wrap::after {
  content: '';
  position: absolute;
  width: 6px; height: 6px; border-radius: 1px;
  background: var(--color-brand-red);
  transform: translateY(-4px) rotate(15deg);
}
.confetti-wrap::after { left: -10px; background: var(--color-brand-navy); transform: translateY(-6px) rotate(-12deg); }

/* Input range minimal styling */
input[type="range"] {
  accent-color: var(--color-brand-navy);
}
@supports (-webkit-appearance: none) {
  input[type="range"] { appearance: none; -webkit-appearance: none; background: transparent; }
  input[type="range"]::-webkit-slider-runnable-track { height: 4px; background: #e5e7eb; border-radius: 9999px; }
  input[type="range"]::-webkit-slider-thumb { -webkit-appearance: none; width: 14px; height: 14px; background: var(--color-brand-navy); border-radius: 9999px; margin-top: -5px; transition: transform 120ms ease; }
  input[type="range"]:active::-webkit-slider-thumb { transform: scale(1.12); }

  /* Pink progress fill variant using CSS var --range-progress (e.g., "65%") */
  input[type="range"].range--pink::-webkit-slider-runnable-track {
    background: linear-gradient(
      to right,
      var(--color-brand-pink) 0%,
      var(--color-brand-pink) var(--range-progress, 0%),
      #e5e7eb var(--range-progress, 0%),
      #e5e7eb 100%
    );
  }
}

/* Firefox */
input[type="range"].range--pink::-moz-range-track { height: 4px; background: #e5e7eb; border-radius: 9999px; }
input[type="range"].range--pink::-moz-range-progress { height: 4px; background: var(--color-brand-pink); border-radius: 9999px; }